(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const e of u)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function s(u){const e={};return u.integrity&&(e.integrity=u.integrity),u.referrerPolicy&&(e.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?e.credentials="include":u.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(u){if(u.ep)return;u.ep=!0;const e=s(u);fetch(u.href,e)}})();const il=!1;var ol=Array.isArray,xf=Array.prototype.indexOf,bs=Array.from,kf=Object.defineProperty,zr=Object.getOwnPropertyDescriptor,Tf=Object.prototype,Of=Array.prototype,Pf=Object.getPrototypeOf,Fs=Object.isExtensible;function Rf(r){for(var o=0;o<r.length;o++)r[o]()}function sl(){var r,o,s=new Promise((l,u)=>{r=l,o=u});return{promise:s,resolve:r,reject:o}}const Ge=2,al=4,ms=8,Ut=16,Lt=32,dr=64,Hn=128,Ke=1024,rt=2048,Dt=4096,at=8192,Yt=16384,vs=32768,fr=65536,Ws=1<<17,Cf=1<<18,Rr=1<<19,Mf=1<<20,ft=256,Wn=512,qn=32768,hi=1<<21,_s=1<<22,sr=1<<23,ni=Symbol("$state"),Ar=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ll(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function jf(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Nf(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Bf(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Uf(r){throw new Error("https://svelte.dev/e/effect_orphan")}function Lf(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Df(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ff(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Wf(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function qf(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const $f=1,Vf=2,zf=16,Kf=1,Hf=2,ze=Symbol();function Gf(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let Qf=!1;function ul(r){return r===this.v}function Yf(r,o){return r!=r?o==o:r!==o||r!==null&&typeof r=="object"||typeof r=="function"}function fl(r){return!Yf(r,this.v)}let en=!1,Jf=!1;function Xf(){en=!0}let Ue=null;function Or(r){Ue=r}function cl(r,o=!1,s){Ue={p:Ue,i:!1,c:null,e:null,s:r,x:null,l:en&&!o?{s:null,u:null,$:[]}:null}}function hl(r){var o=Ue,s=o.e;if(s!==null){o.e=null;for(var l of s)Ol(l)}return o.i=!0,Ue=o.p,{}}function tn(){return!en||Ue!==null&&Ue.l===null}let nr=[];function pl(){var r=nr;nr=[],Rf(r)}function ws(r){if(nr.length===0&&!Kr){var o=nr;queueMicrotask(()=>{o===nr&&pl()})}nr.push(r)}function Zf(){for(;nr.length>0;)pl()}function dl(r){var o=Re;if(o===null)return Pe.f|=sr,r;if((o.f&vs)===0){if((o.f&Hn)===0)throw r;o.b.error(r)}else Pr(r,o)}function Pr(r,o){for(;o!==null;){if((o.f&Hn)!==0)try{o.b.error(r);return}catch(s){r=s}o=o.parent}throw r}const fn=new Set;let Me=null,gn=null,pt=null,pi=new Set,Et=[],Gn=null,di=!1,Kr=!1;class At{committed=!1;current=new Map;previous=new Map;#t=new Set;#r=new Set;#s=0;#a=0;#b=null;#h=[];#o=[];skipped_effects=new Set;is_fork=!1;process(o){Et=[],gn=null,this.apply();var s={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const l of o)this.#u(l,s);this.is_fork||this.#i(),this.#a>0||this.is_fork?(this.#n(s.effects),this.#n(s.render_effects),this.#n(s.block_effects)):(gn=this,Me=null,qs(s.render_effects),qs(s.effects),gn=null),pt=null}#u(o,s){o.f^=Ke;for(var l=o.first;l!==null;){var u=l.f,e=(u&(Lt|dr))!==0,n=e&&(u&Ke)!==0,i=n||(u&at)!==0||this.skipped_effects.has(l);if((l.f&Hn)!==0&&l.b?.is_pending()&&(s={parent:s,effect:l,effects:[],render_effects:[],block_effects:[]}),!i&&l.fn!==null){e?l.f^=Ke:(u&al)!==0?s.effects.push(l):nn(l)&&((l.f&Ut)!==0&&s.block_effects.push(l),Xr(l));var t=l.first;if(t!==null){l=t;continue}}var a=l.parent;for(l=l.next;l===null&&a!==null;)a===s.effect&&(this.#n(s.effects),this.#n(s.render_effects),this.#n(s.block_effects),s=s.parent),l=a.next,a=a.parent}}#n(o){for(const s of o)((s.f&rt)!==0?this.#h:this.#o).push(s),He(s,Ke)}capture(o,s){this.previous.has(o)||this.previous.set(o,s),this.current.set(o,o.v),pt?.set(o,o.v)}activate(){Me=this}deactivate(){Me=null,pt=null}flush(){if(this.activate(),Et.length>0){if(gl(),Me!==null&&Me!==this)return}else this.#s===0&&this.process([]);this.deactivate();for(const o of pi)if(pi.delete(o),o(),Me!==null)break}discard(){for(const o of this.#r)o(this);this.#r.clear()}#i(){if(this.#a===0){for(const o of this.#t)o();this.#t.clear()}this.#s===0&&this.#e()}#e(){if(fn.size>1){this.previous.clear();var o=pt,s=!0,l={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const u of fn){if(u===this){s=!1;continue}const e=[];for(const[i,t]of this.current){if(u.current.has(i))if(s&&t!==u.current.get(i))u.current.set(i,t);else continue;e.push(i)}if(e.length===0)continue;const n=[...u.current.keys()].filter(i=>!this.current.has(i));if(n.length>0){const i=new Set,t=new Map;for(const a of e)yl(a,n,i,t);if(Et.length>0){Me=u,u.apply();for(const a of Et)u.#u(a,l);Et=[],u.deactivate()}}}Me=null,pt=o}this.committed=!0,fn.delete(this),this.#b?.resolve()}increment(o){this.#s+=1,o&&(this.#a+=1)}decrement(o){this.#s-=1,o&&(this.#a-=1),this.revive()}revive(){for(const o of this.#h)He(o,rt),cr(o);for(const o of this.#o)He(o,Dt),cr(o);this.#h=[],this.#o=[],this.flush()}oncommit(o){this.#t.add(o)}ondiscard(o){this.#r.add(o)}settled(){return(this.#b??=sl()).promise}static ensure(){if(Me===null){const o=Me=new At;fn.add(Me),Kr||At.enqueue(()=>{Me===o&&o.flush()})}return Me}static enqueue(o){ws(o)}apply(){}}function ec(r){var o=Kr;Kr=!0;try{for(var s;;){if(Zf(),Et.length===0&&(Me?.flush(),Et.length===0))return Gn=null,s;gl()}}finally{Kr=o}}function gl(){var r=kr;di=!0;try{var o=0;for(zs(!0);Et.length>0;){var s=At.ensure();if(o++>1e3){var l,u;tc()}s.process(Et),Jt.clear()}}finally{di=!1,zs(r),Gn=null}}function tc(){try{Lf()}catch(r){Pr(r,Gn)}}let Rt=null;function qs(r){var o=r.length;if(o!==0){for(var s=0;s<o;){var l=r[s++];if((l.f&(Yt|at))===0&&nn(l)&&(Rt=new Set,Xr(l),l.deps===null&&l.first===null&&l.nodes_start===null&&(l.teardown===null&&l.ac===null?Ml(l):l.fn=null),Rt?.size>0)){Jt.clear();for(const u of Rt){if((u.f&(Yt|at))!==0)continue;const e=[u];let n=u.parent;for(;n!==null;)Rt.has(n)&&(Rt.delete(n),e.push(n)),n=n.parent;for(let i=e.length-1;i>=0;i--){const t=e[i];(t.f&(Yt|at))===0&&Xr(t)}}Rt.clear()}}Rt=null}}function yl(r,o,s,l){if(!s.has(r)&&(s.add(r),r.reactions!==null))for(const u of r.reactions){const e=u.f;(e&Ge)!==0?yl(u,o,s,l):(e&(_s|Ut))!==0&&(e&rt)===0&&bl(u,o,l)&&(He(u,rt),cr(u))}}function bl(r,o,s){const l=s.get(r);if(l!==void 0)return l;if(r.deps!==null)for(const u of r.deps){if(o.includes(u))return!0;if((u.f&Ge)!==0&&bl(u,o,s))return s.set(u,!0),!0}return s.set(r,!1),!1}function cr(r){for(var o=Gn=r;o.parent!==null;){o=o.parent;var s=o.f;if(di&&o===Re&&(s&Ut)!==0)return;if((s&(dr|Lt))!==0){if((s&Ke)===0)return;o.f^=Ke}}Et.push(o)}function rc(r){let o=0,s=hr(0),l;return()=>{mc()&&(Je(s),Pl(()=>(o===0&&(l=Yn(()=>r(()=>Hr(s)))),o+=1,()=>{ws(()=>{o-=1,o===0&&(l?.(),l=void 0,Hr(s))})})))}}var nc=fr|Rr|Hn;function ic(r,o,s){new oc(r,o,s)}class oc{parent;#t=!1;#r;#s=null;#a;#b;#h;#o=null;#u=null;#n=null;#i=null;#e=null;#p=0;#g=0;#c=!1;#f=null;#_=()=>{this.#f&&Yr(this.#f,this.#p)};#d=rc(()=>(this.#f=hr(this.#p),()=>{this.#f=null}));constructor(o,s,l){this.#r=o,this.#a=s,this.#b=l,this.parent=Re.b,this.#t=!!this.#a.pending,this.#h=Qn(()=>{Re.b=this;{var u=this.#m();try{this.#o=ht(()=>l(u))}catch(e){this.error(e)}this.#g>0?this.#A():this.#t=!1}return()=>{this.#e?.remove()}},nc)}#E(){try{this.#o=ht(()=>this.#b(this.#r))}catch(o){this.error(o)}this.#t=!1}#S(){const o=this.#a.pending;o&&(this.#u=ht(()=>o(this.#r)),At.enqueue(()=>{var s=this.#m();this.#o=this.#v(()=>(At.ensure(),ht(()=>this.#b(s)))),this.#g>0?this.#A():(xr(this.#u,()=>{this.#u=null}),this.#t=!1)}))}#m(){var o=this.#r;return this.#t&&(this.#e=pr(),this.#r.before(this.#e),o=this.#e),o}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#a.pending}#v(o){var s=Re,l=Pe,u=Ue;kt(this.#h),et(this.#h),Or(this.#h.ctx);try{return o()}catch(e){return dl(e),null}finally{kt(s),et(l),Or(u)}}#A(){const o=this.#a.pending;this.#o!==null&&(this.#i=document.createDocumentFragment(),this.#i.append(this.#e),Bl(this.#o,this.#i)),this.#u===null&&(this.#u=ht(()=>o(this.#r)))}#y(o){if(!this.has_pending_snippet()){this.parent&&this.parent.#y(o);return}this.#g+=o,this.#g===0&&(this.#t=!1,this.#u&&xr(this.#u,()=>{this.#u=null}),this.#i&&(this.#r.before(this.#i),this.#i=null))}update_pending_count(o){this.#y(o),this.#p+=o,pi.add(this.#_)}get_effect_pending(){return this.#d(),Je(this.#f)}error(o){var s=this.#a.onerror;let l=this.#a.failed;if(this.#c||!s&&!l)throw o;this.#o&&(Xe(this.#o),this.#o=null),this.#u&&(Xe(this.#u),this.#u=null),this.#n&&(Xe(this.#n),this.#n=null);var u=!1,e=!1;const n=()=>{if(u){Gf();return}u=!0,e&&qf(),At.ensure(),this.#p=0,this.#n!==null&&xr(this.#n,()=>{this.#n=null}),this.#t=this.has_pending_snippet(),this.#o=this.#v(()=>(this.#c=!1,ht(()=>this.#b(this.#r)))),this.#g>0?this.#A():this.#t=!1};var i=Pe;try{et(null),e=!0,s?.(o,n),e=!1}catch(t){Pr(t,this.#h&&this.#h.parent)}finally{et(i)}l&&ws(()=>{this.#n=this.#v(()=>{At.ensure(),this.#c=!0;try{return ht(()=>{l(this.#r,()=>o,()=>n)})}catch(t){return Pr(t,this.#h.parent),null}finally{this.#c=!1}})})}}function sc(r,o,s){const l=tn()?ml:vl;if(o.length===0){s(r.map(l));return}var u=Me,e=Re,n=ac();Promise.all(o.map(i=>lc(i))).then(i=>{n();try{s([...r.map(l),...i])}catch(t){(e.f&Yt)===0&&Pr(t,e)}u?.deactivate(),gi()}).catch(i=>{Pr(i,e)})}function ac(){var r=Re,o=Pe,s=Ue,l=Me;return function(){kt(r),et(o),Or(s),l?.activate()}}function gi(){kt(null),et(null),Or(null)}function ml(r){var o=Ge|rt,s=Pe!==null&&(Pe.f&Ge)!==0?Pe:null;return Re===null||s!==null&&(s.f&ft)!==0?o|=ft:Re.f|=Rr,{ctx:Ue,deps:null,effects:null,equals:ul,f:o,fn:r,reactions:null,rv:0,v:ze,wv:0,parent:s??Re,ac:null}}function lc(r,o){let s=Re;s===null&&jf();var l=s.b,u=void 0,e=hr(ze),n=!Pe,i=new Map;return Ec(()=>{var t=sl();u=t.promise;try{Promise.resolve(r()).then(t.resolve,t.reject).then(()=>{a===Me&&a.committed&&a.deactivate(),gi()})}catch(p){t.reject(p),gi()}var a=Me;if(n){var f=!l.is_pending();l.update_pending_count(1),a.increment(f),i.get(a)?.reject(Ar),i.delete(a),i.set(a,t)}const d=(p,b=void 0)=>{if(a.activate(),b)b!==Ar&&(e.f|=sr,Yr(e,b));else{(e.f&sr)!==0&&(e.f^=sr),Yr(e,p);for(const[c,y]of i){if(i.delete(c),c===a)break;y.reject(Ar)}}n&&(l.update_pending_count(-1),a.decrement(f))};t.promise.then(d,p=>d(null,p||"unknown"))}),vc(()=>{for(const t of i.values())t.reject(Ar)}),new Promise(t=>{function a(f){function d(){f===u?t(e):a(u)}f.then(d,d)}a(u)})}function vl(r){const o=ml(r);return o.equals=fl,o}function _l(r){var o=r.effects;if(o!==null){r.effects=null;for(var s=0;s<o.length;s+=1)Xe(o[s])}}function uc(r){for(var o=r.parent;o!==null;){if((o.f&Ge)===0)return o;o=o.parent}return null}function Es(r){var o,s=Re;kt(uc(r));try{r.f&=~qn,_l(r),o=Fl(r)}finally{kt(s)}return o}function wl(r){var o=Es(r);if(r.equals(o)||(r.v=o,r.wv=Ll()),!Cr)if(pt!==null)pt.set(r,r.v);else{var s=(Qt||(r.f&ft)!==0)&&r.deps!==null?Dt:Ke;He(r,s)}}let yi=new Set;const Jt=new Map;let El=!1;function hr(r,o){var s={f:0,v:r,reactions:null,equals:ul,rv:0,wv:0};return s}function ut(r,o){const s=hr(r);return Ic(s),s}function fc(r,o=!1,s=!0){const l=hr(r);return o||(l.equals=fl),en&&s&&Ue!==null&&Ue.l!==null&&(Ue.l.s??=[]).push(l),l}function st(r,o,s=!1){Pe!==null&&(!dt||(Pe.f&Ws)!==0)&&tn()&&(Pe.f&(Ge|Ut|_s|Ws))!==0&&!jt?.includes(r)&&Wf();let l=s?Ir(o):o;return Yr(r,l)}function Yr(r,o){if(!r.equals(o)){var s=r.v;Cr?Jt.set(r,o):Jt.set(r,s),r.v=o;var l=At.ensure();l.capture(r,s),(r.f&Ge)!==0&&((r.f&rt)!==0&&Es(r),He(r,(r.f&ft)===0?Ke:Dt)),r.wv=Ll(),Sl(r,rt),tn()&&Re!==null&&(Re.f&Ke)!==0&&(Re.f&(Lt|dr))===0&&(lt===null?xc([r]):lt.push(r)),!l.is_fork&&yi.size>0&&!El&&cc()}return o}function cc(){El=!1;const r=Array.from(yi);for(const o of r)(o.f&Ke)!==0&&He(o,Dt),nn(o)&&Xr(o);yi.clear()}function Hr(r){st(r,r.v+1)}function Sl(r,o){var s=r.reactions;if(s!==null)for(var l=tn(),u=s.length,e=0;e<u;e++){var n=s[e],i=n.f;if(!(!l&&n===Re)){var t=(i&rt)===0;t&&He(n,o),(i&Ge)!==0?(i&qn)===0&&(n.f|=qn,Sl(n,Dt)):t&&((i&Ut)!==0&&Rt!==null&&Rt.add(n),cr(n))}}}function Ir(r){if(typeof r!="object"||r===null||ni in r)return r;const o=Pf(r);if(o!==Tf&&o!==Of)return r;var s=new Map,l=ol(r),u=ut(0),e=ar,n=i=>{if(ar===e)return i();var t=Pe,a=ar;et(null),Hs(e);var f=i();return et(t),Hs(a),f};return l&&s.set("length",ut(r.length)),new Proxy(r,{defineProperty(i,t,a){(!("value"in a)||a.configurable===!1||a.enumerable===!1||a.writable===!1)&&Df();var f=s.get(t);return f===void 0?f=n(()=>{var d=ut(a.value);return s.set(t,d),d}):st(f,a.value,!0),!0},deleteProperty(i,t){var a=s.get(t);if(a===void 0){if(t in i){const f=n(()=>ut(ze));s.set(t,f),Hr(u)}}else st(a,ze),Hr(u);return!0},get(i,t,a){if(t===ni)return r;var f=s.get(t),d=t in i;if(f===void 0&&(!d||zr(i,t)?.writable)&&(f=n(()=>{var b=Ir(d?i[t]:ze),c=ut(b);return c}),s.set(t,f)),f!==void 0){var p=Je(f);return p===ze?void 0:p}return Reflect.get(i,t,a)},getOwnPropertyDescriptor(i,t){var a=Reflect.getOwnPropertyDescriptor(i,t);if(a&&"value"in a){var f=s.get(t);f&&(a.value=Je(f))}else if(a===void 0){var d=s.get(t),p=d?.v;if(d!==void 0&&p!==ze)return{enumerable:!0,configurable:!0,value:p,writable:!0}}return a},has(i,t){if(t===ni)return!0;var a=s.get(t),f=a!==void 0&&a.v!==ze||Reflect.has(i,t);if(a!==void 0||Re!==null&&(!f||zr(i,t)?.writable)){a===void 0&&(a=n(()=>{var p=f?Ir(i[t]):ze,b=ut(p);return b}),s.set(t,a));var d=Je(a);if(d===ze)return!1}return f},set(i,t,a,f){var d=s.get(t),p=t in i;if(l&&t==="length")for(var b=a;b<d.v;b+=1){var c=s.get(b+"");c!==void 0?st(c,ze):b in i&&(c=n(()=>ut(ze)),s.set(b+"",c))}if(d===void 0)(!p||zr(i,t)?.writable)&&(d=n(()=>ut(void 0)),st(d,Ir(a)),s.set(t,d));else{p=d.v!==ze;var y=n(()=>Ir(a));st(d,y)}var m=Reflect.getOwnPropertyDescriptor(i,t);if(m?.set&&m.set.call(f,a),!p){if(l&&typeof t=="string"){var E=s.get("length"),g=Number(t);Number.isInteger(g)&&g>=E.v&&st(E,g+1)}Hr(u)}return!0},ownKeys(i){Je(u);var t=Reflect.ownKeys(i).filter(d=>{var p=s.get(d);return p===void 0||p.v!==ze});for(var[a,f]of s)f.v!==ze&&!(a in i)&&t.push(a);return t},setPrototypeOf(){Ff()}})}var $s,Al,Il,xl;function hc(){if($s===void 0){$s=window,Al=/Firefox/.test(navigator.userAgent);var r=Element.prototype,o=Node.prototype,s=Text.prototype;Il=zr(o,"firstChild").get,xl=zr(o,"nextSibling").get,Fs(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),Fs(s)&&(s.__t=void 0)}}function pr(r=""){return document.createTextNode(r)}function $n(r){return Il.call(r)}function rn(r){return xl.call(r)}function Gt(r,o){return $n(r)}function kl(r,o=!1){{var s=$n(r);return s instanceof Comment&&s.data===""?rn(s):s}}function St(r,o=1,s=!1){let l=r;for(;o--;)l=rn(l);return l}function pc(r){r.textContent=""}function Tl(){return!1}let Vs=!1;function dc(){Vs||(Vs=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{if(!r.defaultPrevented)for(const o of r.target.elements)o.__on_r?.()})},{capture:!0}))}function Ss(r){var o=Pe,s=Re;et(null),kt(null);try{return r()}finally{et(o),kt(s)}}function gc(r,o,s,l=s){r.addEventListener(o,()=>Ss(s));const u=r.__on_r;u?r.__on_r=()=>{u(),l(!0)}:r.__on_r=()=>l(!0),dc()}function yc(r){Re===null&&Pe===null&&Uf(),Pe!==null&&(Pe.f&ft)!==0&&Re===null&&Bf(),Cr&&Nf()}function bc(r,o){var s=o.last;s===null?o.last=o.first=r:(s.next=r,r.prev=s,o.last=r)}function Xt(r,o,s,l=!0){var u=Re;u!==null&&(u.f&at)!==0&&(r|=at);var e={ctx:Ue,deps:null,nodes_start:null,nodes_end:null,f:r|rt,first:null,fn:o,last:null,next:null,parent:u,b:u&&u.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(s)try{Xr(e),e.f|=vs}catch(t){throw Xe(e),t}else o!==null&&cr(e);if(l){var n=e;if(s&&n.deps===null&&n.teardown===null&&n.nodes_start===null&&n.first===n.last&&(n.f&Rr)===0&&(n=n.first,(r&Ut)!==0&&(r&fr)!==0&&n!==null&&(n.f|=fr)),n!==null&&(n.parent=u,u!==null&&bc(n,u),Pe!==null&&(Pe.f&Ge)!==0&&(r&dr)===0)){var i=Pe;(i.effects??=[]).push(n)}}return e}function mc(){return Pe!==null&&!dt}function vc(r){const o=Xt(ms,null,!1);return He(o,Ke),o.teardown=r,o}function _c(r){yc();var o=Re.f,s=!Pe&&(o&Lt)!==0&&(o&vs)===0;if(s){var l=Ue;(l.e??=[]).push(r)}else return Ol(r)}function Ol(r){return Xt(al|Mf,r,!1)}function wc(r){At.ensure();const o=Xt(dr|Rr,r,!0);return(s={})=>new Promise(l=>{s.outro?xr(o,()=>{Xe(o),l(void 0)}):(Xe(o),l(void 0))})}function Ec(r){return Xt(_s|Rr,r,!0)}function Pl(r,o=0){return Xt(ms|o,r,!0)}function ii(r,o=[],s=[]){sc(o,s,l=>{Xt(ms,()=>r(...l.map(Je)),!0)})}function Qn(r,o=0){var s=Xt(Ut|o,r,!0);return s}function ht(r,o=!0){return Xt(Lt|Rr,r,!0,o)}function Rl(r){var o=r.teardown;if(o!==null){const s=Cr,l=Pe;Ks(!0),et(null);try{o.call(null)}finally{Ks(s),et(l)}}}function Cl(r,o=!1){var s=r.first;for(r.first=r.last=null;s!==null;){const u=s.ac;u!==null&&Ss(()=>{u.abort(Ar)});var l=s.next;(s.f&dr)!==0?s.parent=null:Xe(s,o),s=l}}function Sc(r){for(var o=r.first;o!==null;){var s=o.next;(o.f&Lt)===0&&Xe(o),o=s}}function Xe(r,o=!0){var s=!1;(o||(r.f&Cf)!==0)&&r.nodes_start!==null&&r.nodes_end!==null&&(Ac(r.nodes_start,r.nodes_end),s=!0),Cl(r,o&&!s),Vn(r,0),He(r,Yt);var l=r.transitions;if(l!==null)for(const e of l)e.stop();Rl(r);var u=r.parent;u!==null&&u.first!==null&&Ml(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=r.ac=null}function Ac(r,o){for(;r!==null;){var s=r===o?null:rn(r);r.remove(),r=s}}function Ml(r){var o=r.parent,s=r.prev,l=r.next;s!==null&&(s.next=l),l!==null&&(l.prev=s),o!==null&&(o.first===r&&(o.first=l),o.last===r&&(o.last=s))}function xr(r,o,s=!0){var l=[];As(r,l,!0),jl(l,()=>{s&&Xe(r),o&&o()})}function jl(r,o){var s=r.length;if(s>0){var l=()=>--s||o();for(var u of r)u.out(l)}else o()}function As(r,o,s){if((r.f&at)===0){if(r.f^=at,r.transitions!==null)for(const n of r.transitions)(n.is_global||s)&&o.push(n);for(var l=r.first;l!==null;){var u=l.next,e=(l.f&fr)!==0||(l.f&Lt)!==0&&(r.f&Ut)!==0;As(l,o,e?s:!1),l=u}}}function Is(r){Nl(r,!0)}function Nl(r,o){if((r.f&at)!==0){r.f^=at,(r.f&Ke)===0&&(He(r,rt),cr(r));for(var s=r.first;s!==null;){var l=s.next,u=(s.f&fr)!==0||(s.f&Lt)!==0;Nl(s,u?o:!1),s=l}if(r.transitions!==null)for(const e of r.transitions)(e.is_global||o)&&e.in()}}function Bl(r,o){for(var s=r.nodes_start,l=r.nodes_end;s!==null;){var u=s===l?null:rn(s);o.append(s),s=u}}let kr=!1;function zs(r){kr=r}let Cr=!1;function Ks(r){Cr=r}let Pe=null,dt=!1;function et(r){Pe=r}let Re=null;function kt(r){Re=r}let jt=null;function Ic(r){Pe!==null&&(jt===null?jt=[r]:jt.push(r))}let Ye=null,ot=0,lt=null;function xc(r){lt=r}let Ul=1,Jr=0,ar=Jr;function Hs(r){ar=r}let Qt=!1;function Ll(){return++Ul}function nn(r){var o=r.f;if((o&rt)!==0)return!0;if((o&Dt)!==0){var s=r.deps,l=(o&ft)!==0;if(o&Ge&&(r.f&=~qn),s!==null){var u,e,n=(o&Wn)!==0,i=l&&Re!==null&&!Qt,t=s.length;if((n||i)&&(Re===null||(Re.f&Yt)===0)){var a=r,f=a.parent;for(u=0;u<t;u++)e=s[u],(n||!e?.reactions?.includes(a))&&(e.reactions??=[]).push(a);n&&(a.f^=Wn),i&&f!==null&&(f.f&ft)===0&&(a.f^=ft)}for(u=0;u<t;u++)if(e=s[u],nn(e)&&wl(e),e.wv>r.wv)return!0}(!l||Re!==null&&!Qt)&&He(r,Ke)}return!1}function Dl(r,o,s=!0){var l=r.reactions;if(l!==null&&!jt?.includes(r))for(var u=0;u<l.length;u++){var e=l[u];(e.f&Ge)!==0?Dl(e,o,!1):o===e&&(s?He(e,rt):(e.f&Ke)!==0&&He(e,Dt),cr(e))}}function Fl(r){var o=Ye,s=ot,l=lt,u=Pe,e=Qt,n=jt,i=Ue,t=dt,a=ar,f=r.f;Ye=null,ot=0,lt=null,Qt=(f&ft)!==0&&(dt||!kr||Pe===null),Pe=(f&(Lt|dr))===0?r:null,jt=null,Or(r.ctx),dt=!1,ar=++Jr,r.ac!==null&&(Ss(()=>{r.ac.abort(Ar)}),r.ac=null);try{r.f|=hi;var d=r.fn,p=d(),b=r.deps;if(Ye!==null){var c;if(Vn(r,ot),b!==null&&ot>0)for(b.length=ot+Ye.length,c=0;c<Ye.length;c++)b[ot+c]=Ye[c];else r.deps=b=Ye;if(!Qt||(f&Ge)!==0&&r.reactions!==null)for(c=ot;c<b.length;c++)(b[c].reactions??=[]).push(r)}else b!==null&&ot<b.length&&(Vn(r,ot),b.length=ot);if(tn()&&lt!==null&&!dt&&b!==null&&(r.f&(Ge|Dt|rt))===0)for(c=0;c<lt.length;c++)Dl(lt[c],r);return u!==null&&u!==r&&(Jr++,lt!==null&&(l===null?l=lt:l.push(...lt))),(r.f&sr)!==0&&(r.f^=sr),p}catch(y){return dl(y)}finally{r.f^=hi,Ye=o,ot=s,lt=l,Pe=u,Qt=e,jt=n,Or(i),dt=t,ar=a}}function kc(r,o){let s=o.reactions;if(s!==null){var l=xf.call(s,r);if(l!==-1){var u=s.length-1;u===0?s=o.reactions=null:(s[l]=s[u],s.pop())}}s===null&&(o.f&Ge)!==0&&(Ye===null||!Ye.includes(o))&&(He(o,Dt),(o.f&(ft|Wn))===0&&(o.f^=Wn),_l(o),Vn(o,0))}function Vn(r,o){var s=r.deps;if(s!==null)for(var l=o;l<s.length;l++)kc(r,s[l])}function Xr(r){var o=r.f;if((o&Yt)===0){He(r,Ke);var s=Re,l=kr;Re=r,kr=!0;try{(o&Ut)!==0?Sc(r):Cl(r),Rl(r);var u=Fl(r);r.teardown=typeof u=="function"?u:null,r.wv=Ul;var e;il&&Jf&&(r.f&rt)!==0&&r.deps}finally{kr=l,Re=s}}}async function Tc(){await Promise.resolve(),ec()}function Je(r){var o=r.f,s=(o&Ge)!==0;if(Pe!==null&&!dt){var l=Re!==null&&(Re.f&Yt)!==0;if(!l&&!jt?.includes(r)){var u=Pe.deps;if((Pe.f&hi)!==0)r.rv<Jr&&(r.rv=Jr,Ye===null&&u!==null&&u[ot]===r?ot++:Ye===null?Ye=[r]:(!Qt||!Ye.includes(r))&&Ye.push(r));else{(Pe.deps??=[]).push(r);var e=r.reactions;e===null?r.reactions=[Pe]:e.includes(Pe)||e.push(Pe)}}}else if(s&&r.deps===null&&r.effects===null){var n=r,i=n.parent;i!==null&&(i.f&ft)===0&&(n.f^=ft)}if(Cr){if(Jt.has(r))return Jt.get(r);if(s){n=r;var t=n.v;return((n.f&Ke)===0&&n.reactions!==null||Wl(n))&&(t=Es(n)),Jt.set(n,t),t}}else if(s){if(n=r,pt?.has(n))return pt.get(n);nn(n)&&wl(n)}if(pt?.has(r))return pt.get(r);if((r.f&sr)!==0)throw r.v;return r.v}function Wl(r){if(r.v===ze)return!0;if(r.deps===null)return!1;for(const o of r.deps)if(Jt.has(o)||(o.f&Ge)!==0&&Wl(o))return!0;return!1}function Yn(r){var o=dt;try{return dt=!0,r()}finally{dt=o}}const Oc=-7169;function He(r,o){r.f=r.f&Oc|o}const Pc=["touchstart","touchmove"];function Rc(r){return Pc.includes(r)}const ql=new Set,bi=new Set;function $l(r){for(var o=0;o<r.length;o++)ql.add(r[o]);for(var s of bi)s(r)}let Gs=null;function cn(r){var o=this,s=o.ownerDocument,l=r.type,u=r.composedPath?.()||[],e=u[0]||r.target;Gs=r;var n=0,i=Gs===r&&r.__root;if(i){var t=u.indexOf(i);if(t!==-1&&(o===document||o===window)){r.__root=o;return}var a=u.indexOf(o);if(a===-1)return;t<=a&&(n=t)}if(e=u[n]||r.target,e!==o){kf(r,"currentTarget",{configurable:!0,get(){return e||s}});var f=Pe,d=Re;et(null),kt(null);try{for(var p,b=[];e!==null;){var c=e.assignedSlot||e.parentNode||e.host||null;try{var y=e["__"+l];y!=null&&(!e.disabled||r.target===e)&&y.call(e,r)}catch(m){p?b.push(m):p=m}if(r.cancelBubble||c===o||c===null)break;e=c}if(p){for(let m of b)queueMicrotask(()=>{throw m});throw p}}finally{r.__root=o,delete r.currentTarget,et(f),kt(d)}}}function Cc(r){var o=document.createElement("template");return o.innerHTML=r.replaceAll("<!>","<!---->"),o.content}function mi(r,o){var s=Re;s.nodes_start===null&&(s.nodes_start=r,s.nodes_end=o)}function on(r,o){var s=(o&Kf)!==0,l=(o&Hf)!==0,u,e=!r.startsWith("<!>");return()=>{u===void 0&&(u=Cc(e?r:"<!>"+r),s||(u=$n(u)));var n=l||Al?document.importNode(u,!0):u.cloneNode(!0);if(s){var i=$n(n),t=n.lastChild;mi(i,t)}else mi(n,n);return n}}function Mc(){var r=document.createDocumentFragment(),o=document.createComment(""),s=pr();return r.append(o,s),mi(o,s),r}function Tr(r,o){r!==null&&r.before(o)}function oi(r,o){var s=o==null?"":typeof o=="object"?o+"":o;s!==(r.__t??=r.nodeValue)&&(r.__t=s,r.nodeValue=s+"")}function jc(r,o){return Nc(r,o)}const _r=new Map;function Nc(r,{target:o,anchor:s,props:l={},events:u,context:e,intro:n=!0}){hc();var i=new Set,t=d=>{for(var p=0;p<d.length;p++){var b=d[p];if(!i.has(b)){i.add(b);var c=Rc(b);o.addEventListener(b,cn,{passive:c});var y=_r.get(b);y===void 0?(document.addEventListener(b,cn,{passive:c}),_r.set(b,1)):_r.set(b,y+1)}}};t(bs(ql)),bi.add(t);var a=void 0,f=wc(()=>{var d=s??o.appendChild(pr());return ic(d,{pending:()=>{}},p=>{if(e){cl({});var b=Ue;b.c=e}u&&(l.$$events=u),a=r(p,l)||{},e&&hl()}),()=>{for(var p of i){o.removeEventListener(p,cn);var b=_r.get(p);--b===0?(document.removeEventListener(p,cn),_r.delete(p)):_r.set(p,b)}bi.delete(t),d!==s&&d.parentNode?.removeChild(d)}});return Bc.set(a,f),a}let Bc=new WeakMap;class Vl{anchor;#t=new Map;#r=new Map;#s=new Map;#a=!0;constructor(o,s=!0){this.anchor=o,this.#a=s}#b=()=>{var o=Me;if(this.#t.has(o)){var s=this.#t.get(o),l=this.#r.get(s);if(l)Is(l);else{var u=this.#s.get(s);u&&(this.#r.set(s,u.effect),this.#s.delete(s),u.fragment.lastChild.remove(),this.anchor.before(u.fragment),l=u.effect)}for(const[e,n]of this.#t){if(this.#t.delete(e),e===o)break;const i=this.#s.get(n);i&&(Xe(i.effect),this.#s.delete(n))}for(const[e,n]of this.#r){if(e===s)continue;const i=()=>{if(Array.from(this.#t.values()).includes(e)){var a=document.createDocumentFragment();Bl(n,a),a.append(pr()),this.#s.set(e,{effect:n,fragment:a})}else Xe(n);this.#r.delete(e)};this.#a||!l?xr(n,i,!1):i()}}};#h=o=>{this.#t.delete(o);const s=Array.from(this.#t.values());for(const[l,u]of this.#s)s.includes(l)||(Xe(u.effect),this.#s.delete(l))};ensure(o,s){var l=Me,u=Tl();if(s&&!this.#r.has(o)&&!this.#s.has(o))if(u){var e=document.createDocumentFragment(),n=pr();e.append(n),this.#s.set(o,{effect:ht(()=>s(n)),fragment:e})}else this.#r.set(o,ht(()=>s(this.anchor)));if(this.#t.set(l,o),u){for(const[i,t]of this.#r)i===o?l.skipped_effects.delete(t):l.skipped_effects.add(t);for(const[i,t]of this.#s)i===o?l.skipped_effects.delete(t.effect):l.skipped_effects.add(t.effect);l.oncommit(this.#b),l.ondiscard(this.#h)}else this.#b()}}function Uc(r,o,s=!1){var l=new Vl(r),u=s?fr:0;function e(n,i){l.ensure(n,i)}Qn(()=>{var n=!1;o((i,t=!0)=>{n=!0,e(t,i)}),n||e(!1,null)},u)}function Lc(r,o){return o}function Dc(r,o,s){for(var l=r.items,u=[],e=o.length,n=0;n<e;n++)As(o[n].e,u,!0);var i=e>0&&u.length===0&&s!==null;if(i){var t=s.parentNode;pc(t),t.append(s),l.clear(),wt(r,o[0].prev,o[e-1].next)}jl(u,()=>{for(var a=0;a<e;a++){var f=o[a];i||(l.delete(f.k),wt(r,f.prev,f.next)),Xe(f.e,!i)}})}function Fc(r,o,s,l,u,e=null){var n=r,i={flags:o,items:new Map,first:null};{var t=r;n=t.appendChild(pr())}var a=null,f=!1,d=new Map,p=vl(()=>{var m=s();return ol(m)?m:m==null?[]:bs(m)}),b,c;function y(){Wc(c,b,i,d,n,u,o,l,s),e!==null&&(b.length===0?a?Is(a):a=ht(()=>e(n)):a!==null&&xr(a,()=>{a=null}))}Qn(()=>{c??=Re,b=Je(p);var m=b.length;if(!(f&&m===0)){f=m===0;var E,g,_,A;if(Tl()){var v=new Set,I=Me;for(g=0;g<m;g+=1){_=b[g],A=l(_,g);var S=i.items.get(A)??d.get(A);S?zl(S,_,g):(E=Kl(null,i,null,null,_,A,g,u,o,s,!0),d.set(A,E)),v.add(A)}for(const[k,P]of i.items)v.has(k)||I.skipped_effects.add(P.e);I.oncommit(y)}else y();Je(p)}})}function Wc(r,o,s,l,u,e,n,i,t){var a=o.length,f=s.items,d=s.first,p=d,b,c=null,y=[],m=[],E,g,_,A;for(A=0;A<a;A+=1){if(E=o[A],g=i(E,A),_=f.get(g),_===void 0){var v=l.get(g);if(v!==void 0){l.delete(g),f.set(g,v);var I=c?c.next:p;wt(s,c,v),wt(s,v,I),si(v,I,u),c=v}else{var S=p?p.e.nodes_start:u;c=Kl(S,s,c,c===null?s.first:c.next,E,g,A,e,n,t)}f.set(g,c),y=[],m=[],p=c.next;continue}if(zl(_,E,A),(_.e.f&at)!==0&&Is(_.e),_!==p){if(b!==void 0&&b.has(_)){if(y.length<m.length){var k=m[0],P;c=k.prev;var R=y[0],B=y[y.length-1];for(P=0;P<y.length;P+=1)si(y[P],k,u);for(P=0;P<m.length;P+=1)b.delete(m[P]);wt(s,R.prev,B.next),wt(s,c,R),wt(s,B,k),p=k,c=B,A-=1,y=[],m=[]}else b.delete(_),si(_,p,u),wt(s,_.prev,_.next),wt(s,_,c===null?s.first:c.next),wt(s,c,_),c=_;continue}for(y=[],m=[];p!==null&&p.k!==g;)(p.e.f&at)===0&&(b??=new Set).add(p),m.push(p),p=p.next;if(p===null)continue;_=p}y.push(_),c=_,p=_.next}if(p!==null||b!==void 0){for(var T=b===void 0?[]:bs(b);p!==null;)(p.e.f&at)===0&&T.push(p),p=p.next;var W=T.length;if(W>0){var L=a===0?u:null;Dc(s,T,L)}}r.first=s.first&&s.first.e,r.last=c&&c.e;for(var U of l.values())Xe(U.e);l.clear()}function zl(r,o,s,l){Yr(r.v,o),r.i=s}function Kl(r,o,s,l,u,e,n,i,t,a,f){var d=(t&$f)!==0,p=(t&zf)===0,b=d?p?fc(u,!1,!1):hr(u):u,c=(t&Vf)===0?n:hr(n),y={i:c,v:b,k:e,a:null,e:null,prev:s,next:l};try{if(r===null){var m=document.createDocumentFragment();m.append(r=pr())}return y.e=ht(()=>i(r,b,c,a),Qf),y.e.prev=s&&s.e,y.e.next=l&&l.e,s===null?f||(o.first=y):(s.next=y,s.e.next=y.e),l!==null&&(l.prev=y,l.e.prev=y.e),y}finally{}}function si(r,o,s){for(var l=r.next?r.next.e.nodes_start:s,u=o?o.e.nodes_start:s,e=r.e.nodes_start;e!==null&&e!==l;){var n=rn(e);u.before(e),e=n}}function wt(r,o,s){o===null?r.first=s:(o.next=s,o.e.next=s&&s.e),s!==null&&(s.prev=o,s.e.prev=o&&o.e)}function qc(r,o,...s){var l=new Vl(r);Qn(()=>{const u=o()??null;l.ensure(u,u&&(e=>u(e,...s)))},fr)}function $c(r,o,s=o){var l=new WeakSet;gc(r,"input",async u=>{var e=u?r.defaultValue:r.value;if(e=ai(r)?li(e):e,s(e),Me!==null&&l.add(Me),await Tc(),e!==(e=o())){var n=r.selectionStart,i=r.selectionEnd,t=r.value.length;if(r.value=e??"",i!==null){var a=r.value.length;n===i&&i===t&&a>t?(r.selectionStart=a,r.selectionEnd=a):(r.selectionStart=n,r.selectionEnd=Math.min(i,a))}}}),Yn(o)==null&&r.value&&(s(ai(r)?li(r.value):r.value),Me!==null&&l.add(Me)),Pl(()=>{var u=o();if(r===document.activeElement){var e=gn??Me;if(l.has(e))return}ai(r)&&u===li(r.value)||r.type==="date"&&!u&&!r.value||u!==r.value&&(r.value=u??"")})}function ai(r){var o=r.type;return o==="number"||o==="range"}function li(r){return r===""?null:+r}function Hl(r,o,s,l){var u=l,e=!0,n=()=>(e&&(e=!1,u=l),u),i;i=r[o],i===void 0&&l!==void 0&&(i=n());var t;return t=()=>{var a=r[o];return a===void 0?n():(e=!0,a)},t}function Gl(r){Ue===null&&ll(),en&&Ue.l!==null?zc(Ue).m.push(r):_c(()=>{const o=Yn(r);if(typeof o=="function")return o})}function Vc(r){Ue===null&&ll(),Gl(()=>()=>Yn(r))}function zc(r){var o=r.l;return o.u??={a:[],b:[],m:[]}}const Kc="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Kc);Xf();var xs=Object.defineProperty,Hc=Object.getOwnPropertyDescriptor,Gc=Object.getOwnPropertyNames,Qc=Object.prototype.hasOwnProperty,nt=(r,o)=>()=>(r&&(o=r(r=0)),o),de=(r,o)=>()=>(o||r((o={exports:{}}).exports,o),o.exports),Mr=(r,o)=>{for(var s in o)xs(r,s,{get:o[s],enumerable:!0})},Yc=(r,o,s,l)=>{if(o&&typeof o=="object"||typeof o=="function")for(let u of Gc(o))!Qc.call(r,u)&&u!==s&&xs(r,u,{get:()=>o[u],enumerable:!(l=Hc(o,u))||l.enumerable});return r},Ce=r=>Yc(xs({},"__esModule",{value:!0}),r),le=nt(()=>{}),je={};Mr(je,{_debugEnd:()=>Xi,_debugProcess:()=>Ji,_events:()=>po,_eventsCount:()=>go,_exiting:()=>Ui,_fatalExceptions:()=>Gi,_getActiveHandles:()=>tu,_getActiveRequests:()=>eu,_kill:()=>Fi,_linkedBinding:()=>Xl,_maxListeners:()=>ho,_preload_modules:()=>fo,_rawDebug:()=>ji,_startProfilerIdleNotifier:()=>Zi,_stopProfilerIdleNotifier:()=>eo,_tickCallback:()=>Yi,abort:()=>io,addListener:()=>yo,allowedNodeEnvironmentFlags:()=>Ki,arch:()=>_i,argv:()=>Si,argv0:()=>uo,assert:()=>ru,binding:()=>Ti,browser:()=>Mi,chdir:()=>Ri,config:()=>Li,cpuUsage:()=>Wr,cwd:()=>Pi,debugPort:()=>lo,default:()=>Ts,dlopen:()=>Zl,domain:()=>Bi,emit:()=>wo,emitWarning:()=>ki,env:()=>Ei,execArgv:()=>Ai,execPath:()=>ao,exit:()=>Vi,features:()=>Hi,hasUncaughtExceptionCaptureCallback:()=>nu,hrtime:()=>yn,kill:()=>$i,listeners:()=>ou,memoryUsage:()=>qi,moduleLoadList:()=>Ni,nextTick:()=>Yl,off:()=>mo,on:()=>Ot,once:()=>bo,openStdin:()=>zi,pid:()=>oo,platform:()=>wi,ppid:()=>so,prependListener:()=>Eo,prependOnceListener:()=>So,reallyExit:()=>Di,release:()=>Ci,removeAllListeners:()=>_o,removeListener:()=>vo,resourceUsage:()=>Wi,setSourceMapsEnabled:()=>co,setUncaughtExceptionCaptureCallback:()=>Qi,stderr:()=>ro,stdin:()=>no,stdout:()=>to,title:()=>vi,umask:()=>Oi,uptime:()=>iu,version:()=>Ii,versions:()=>xi});function ks(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function Jc(){!lr||!ir||(lr=!1,ir.length?It=ir.concat(It):Gr=-1,It.length&&Ql())}function Ql(){if(!lr){var r=setTimeout(Jc,0);lr=!0;for(var o=It.length;o;){for(ir=It,It=[];++Gr<o;)ir&&ir[Gr].run();Gr=-1,o=It.length}ir=null,lr=!1,clearTimeout(r)}}function Yl(r){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];It.push(new Jl(r,o)),It.length===1&&!lr&&setTimeout(Ql,0)}function Jl(r,o){this.fun=r,this.array=o}function qe(){}function Xl(r){ks("_linkedBinding")}function Zl(r){ks("dlopen")}function eu(){return[]}function tu(){return[]}function ru(r,o){if(!r)throw new Error(o||"assertion error")}function nu(){return!1}function iu(){return Ct.now()/1e3}function yn(r){var o=Math.floor((Date.now()-Ct.now())*.001),s=Ct.now()*.001,l=Math.floor(s)+o,u=Math.floor(s%1*1e9);return r&&(l=l-r[0],u=u-r[1],u<0&&(l--,u+=bn)),[l,u]}function Ot(){return Ts}function ou(r){return[]}var It,lr,ir,Gr,vi,_i,wi,Ei,Si,Ai,Ii,xi,ki,Ti,Oi,Pi,Ri,Ci,Mi,ji,Ni,Bi,Ui,Li,Di,Fi,Wr,Wi,qi,$i,Vi,zi,Ki,Hi,Gi,Qi,Yi,Ji,Xi,Zi,eo,to,ro,no,io,oo,so,ao,lo,uo,fo,co,Ct,ui,bn,ho,po,go,yo,bo,mo,vo,_o,wo,Eo,So,Ts,Xc=nt(()=>{le(),fe(),ue(),It=[],lr=!1,Gr=-1,Jl.prototype.run=function(){this.fun.apply(null,this.array)},vi="browser",_i="x64",wi="browser",Ei={PATH:"/usr/bin",LANG:typeof navigator<"u"?navigator.language+".UTF-8":void 0,PWD:"/",HOME:"/home",TMP:"/tmp"},Si=["/usr/bin/node"],Ai=[],Ii="v16.8.0",xi={},ki=function(r,o){console.warn((o?o+": ":"")+r)},Ti=function(r){ks("binding")},Oi=function(r){return 0},Pi=function(){return"/"},Ri=function(r){},Ci={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},Mi=!0,ji=qe,Ni=[],Bi={},Ui=!1,Li={},Di=qe,Fi=qe,Wr=function(){return{}},Wi=Wr,qi=Wr,$i=qe,Vi=qe,zi=qe,Ki={},Hi={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Gi=qe,Qi=qe,Yi=qe,Ji=qe,Xi=qe,Zi=qe,eo=qe,to=void 0,ro=void 0,no=void 0,io=qe,oo=2,so=1,ao="/bin/usr/node",lo=9229,uo="node",fo=[],co=qe,Ct={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Ct.now===void 0&&(ui=Date.now(),Ct.timing&&Ct.timing.navigationStart&&(ui=Ct.timing.navigationStart),Ct.now=()=>Date.now()-ui),bn=1e9,yn.bigint=function(r){var o=yn(r);return typeof BigInt>"u"?o[0]*bn+o[1]:BigInt(o[0]*bn)+BigInt(o[1])},ho=10,po={},go=0,yo=Ot,bo=Ot,mo=Ot,vo=Ot,_o=Ot,wo=qe,Eo=Ot,So=Ot,Ts={version:Ii,versions:xi,arch:_i,platform:wi,browser:Mi,release:Ci,_rawDebug:ji,moduleLoadList:Ni,binding:Ti,_linkedBinding:Xl,_events:po,_eventsCount:go,_maxListeners:ho,on:Ot,addListener:yo,once:bo,off:mo,removeListener:vo,removeAllListeners:_o,emit:wo,prependListener:Eo,prependOnceListener:So,listeners:ou,domain:Bi,_exiting:Ui,config:Li,dlopen:Zl,uptime:iu,_getActiveRequests:eu,_getActiveHandles:tu,reallyExit:Di,_kill:Fi,cpuUsage:Wr,resourceUsage:Wi,memoryUsage:qi,kill:$i,exit:Vi,openStdin:zi,allowedNodeEnvironmentFlags:Ki,assert:ru,features:Hi,_fatalExceptions:Gi,setUncaughtExceptionCaptureCallback:Qi,hasUncaughtExceptionCaptureCallback:nu,emitWarning:ki,nextTick:Yl,_tickCallback:Yi,_debugProcess:Ji,_debugEnd:Xi,_startProfilerIdleNotifier:Zi,_stopProfilerIdleNotifier:eo,stdout:to,stdin:no,stderr:ro,abort:io,umask:Oi,chdir:Ri,cwd:Pi,env:Ei,title:vi,argv:Si,execArgv:Ai,pid:oo,ppid:so,execPath:ao,debugPort:lo,hrtime:yn,argv0:uo,_preload_modules:fo,setSourceMapsEnabled:co}}),ue=nt(()=>{Xc()});function Zc(){if(Ao)return wr;Ao=!0,wr.byteLength=i,wr.toByteArray=a,wr.fromByteArray=p;for(var r=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=0,e=l.length;u<e;++u)r[u]=l[u],o[l.charCodeAt(u)]=u;o[45]=62,o[95]=63;function n(b){var c=b.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=b.indexOf("=");y===-1&&(y=c);var m=y===c?0:4-y%4;return[y,m]}function i(b){var c=n(b),y=c[0],m=c[1];return(y+m)*3/4-m}function t(b,c,y){return(c+y)*3/4-y}function a(b){var c,y=n(b),m=y[0],E=y[1],g=new s(t(b,m,E)),_=0,A=E>0?m-4:m,v;for(v=0;v<A;v+=4)c=o[b.charCodeAt(v)]<<18|o[b.charCodeAt(v+1)]<<12|o[b.charCodeAt(v+2)]<<6|o[b.charCodeAt(v+3)],g[_++]=c>>16&255,g[_++]=c>>8&255,g[_++]=c&255;return E===2&&(c=o[b.charCodeAt(v)]<<2|o[b.charCodeAt(v+1)]>>4,g[_++]=c&255),E===1&&(c=o[b.charCodeAt(v)]<<10|o[b.charCodeAt(v+1)]<<4|o[b.charCodeAt(v+2)]>>2,g[_++]=c>>8&255,g[_++]=c&255),g}function f(b){return r[b>>18&63]+r[b>>12&63]+r[b>>6&63]+r[b&63]}function d(b,c,y){for(var m,E=[],g=c;g<y;g+=3)m=(b[g]<<16&16711680)+(b[g+1]<<8&65280)+(b[g+2]&255),E.push(f(m));return E.join("")}function p(b){for(var c,y=b.length,m=y%3,E=[],g=16383,_=0,A=y-m;_<A;_+=g)E.push(d(b,_,_+g>A?A:_+g));return m===1?(c=b[y-1],E.push(r[c>>2]+r[c<<4&63]+"==")):m===2&&(c=(b[y-2]<<8)+b[y-1],E.push(r[c>>10]+r[c>>4&63]+r[c<<2&63]+"=")),E.join("")}return wr}function eh(){return Io?qr:(Io=!0,qr.read=function(r,o,s,l,u){var e,n,i=u*8-l-1,t=(1<<i)-1,a=t>>1,f=-7,d=s?u-1:0,p=s?-1:1,b=r[o+d];for(d+=p,e=b&(1<<-f)-1,b>>=-f,f+=i;f>0;e=e*256+r[o+d],d+=p,f-=8);for(n=e&(1<<-f)-1,e>>=-f,f+=l;f>0;n=n*256+r[o+d],d+=p,f-=8);if(e===0)e=1-a;else{if(e===t)return n?NaN:(b?-1:1)*(1/0);n=n+Math.pow(2,l),e=e-a}return(b?-1:1)*n*Math.pow(2,e-l)},qr.write=function(r,o,s,l,u,e){var n,i,t,a=e*8-u-1,f=(1<<a)-1,d=f>>1,p=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=l?0:e-1,c=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(i=isNaN(o)?1:0,n=f):(n=Math.floor(Math.log(o)/Math.LN2),o*(t=Math.pow(2,-n))<1&&(n--,t*=2),n+d>=1?o+=p/t:o+=p*Math.pow(2,1-d),o*t>=2&&(n++,t/=2),n+d>=f?(i=0,n=f):n+d>=1?(i=(o*t-1)*Math.pow(2,u),n=n+d):(i=o*Math.pow(2,d-1)*Math.pow(2,u),n=0));u>=8;r[s+b]=i&255,b+=c,i/=256,u-=8);for(n=n<<u|i,a+=u;a>0;r[s+b]=n&255,b+=c,n/=256,a-=8);r[s+b-c]|=y*128},qr)}function th(){if(xo)return zt;xo=!0;let r=Zc(),o=eh(),s=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;zt.Buffer=n,zt.SlowBuffer=E,zt.INSPECT_MAX_BYTES=50;let l=2147483647;zt.kMaxLength=l,n.TYPED_ARRAY_SUPPORT=u(),!n.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{let h=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(h,w),h.foo()===42}catch{return!1}}Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}});function e(h){if(h>l)throw new RangeError('The value "'+h+'" is invalid for option "size"');let w=new Uint8Array(h);return Object.setPrototypeOf(w,n.prototype),w}function n(h,w,x){if(typeof h=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(h)}return i(h,w,x)}n.poolSize=8192;function i(h,w,x){if(typeof h=="string")return d(h,w);if(ArrayBuffer.isView(h))return b(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if($(h,ArrayBuffer)||h&&$(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($(h,SharedArrayBuffer)||h&&$(h.buffer,SharedArrayBuffer)))return c(h,w,x);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let D=h.valueOf&&h.valueOf();if(D!=null&&D!==h)return n.from(D,w,x);let X=y(h);if(X)return X;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return n.from(h[Symbol.toPrimitive]("string"),w,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}n.from=function(h,w,x){return i(h,w,x)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array);function t(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function a(h,w,x){return t(h),h<=0?e(h):w!==void 0?typeof x=="string"?e(h).fill(w,x):e(h).fill(w):e(h)}n.alloc=function(h,w,x){return a(h,w,x)};function f(h){return t(h),e(h<0?0:m(h)|0)}n.allocUnsafe=function(h){return f(h)},n.allocUnsafeSlow=function(h){return f(h)};function d(h,w){if((typeof w!="string"||w==="")&&(w="utf8"),!n.isEncoding(w))throw new TypeError("Unknown encoding: "+w);let x=g(h,w)|0,D=e(x),X=D.write(h,w);return X!==x&&(D=D.slice(0,X)),D}function p(h){let w=h.length<0?0:m(h.length)|0,x=e(w);for(let D=0;D<w;D+=1)x[D]=h[D]&255;return x}function b(h){if($(h,Uint8Array)){let w=new Uint8Array(h);return c(w.buffer,w.byteOffset,w.byteLength)}return p(h)}function c(h,w,x){if(w<0||h.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<w+(x||0))throw new RangeError('"length" is outside of buffer bounds');let D;return w===void 0&&x===void 0?D=new Uint8Array(h):x===void 0?D=new Uint8Array(h,w):D=new Uint8Array(h,w,x),Object.setPrototypeOf(D,n.prototype),D}function y(h){if(n.isBuffer(h)){let w=m(h.length)|0,x=e(w);return x.length===0||h.copy(x,0,0,w),x}if(h.length!==void 0)return typeof h.length!="number"||ge(h.length)?e(0):p(h);if(h.type==="Buffer"&&Array.isArray(h.data))return p(h.data)}function m(h){if(h>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return h|0}function E(h){return+h!=h&&(h=0),n.alloc(+h)}n.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==n.prototype},n.compare=function(h,w){if($(h,Uint8Array)&&(h=n.from(h,h.offset,h.byteLength)),$(w,Uint8Array)&&(w=n.from(w,w.offset,w.byteLength)),!n.isBuffer(h)||!n.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===w)return 0;let x=h.length,D=w.length;for(let X=0,ce=Math.min(x,D);X<ce;++X)if(h[X]!==w[X]){x=h[X],D=w[X];break}return x<D?-1:D<x?1:0},n.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(h,w){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return n.alloc(0);let x;if(w===void 0)for(w=0,x=0;x<h.length;++x)w+=h[x].length;let D=n.allocUnsafe(w),X=0;for(x=0;x<h.length;++x){let ce=h[x];if($(ce,Uint8Array))X+ce.length>D.length?(n.isBuffer(ce)||(ce=n.from(ce)),ce.copy(D,X)):Uint8Array.prototype.set.call(D,ce,X);else if(n.isBuffer(ce))ce.copy(D,X);else throw new TypeError('"list" argument must be an Array of Buffers');X+=ce.length}return D};function g(h,w){if(n.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||$(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);let x=h.length,D=arguments.length>2&&arguments[2]===!0;if(!D&&x===0)return 0;let X=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return q(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return pe(h).length;default:if(X)return D?-1:q(h).length;w=(""+w).toLowerCase(),X=!0}}n.byteLength=g;function _(h,w,x){let D=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,w>>>=0,x<=w))return"";for(h||(h="utf8");;)switch(h){case"hex":return K(this,w,x);case"utf8":case"utf-8":return W(this,w,x);case"ascii":return ae(this,w,x);case"latin1":case"binary":return Q(this,w,x);case"base64":return T(this,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,w,x);default:if(D)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),D=!0}}n.prototype._isBuffer=!0;function A(h,w,x){let D=h[w];h[w]=h[x],h[x]=D}n.prototype.swap16=function(){let h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<h;w+=2)A(this,w,w+1);return this},n.prototype.swap32=function(){let h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<h;w+=4)A(this,w,w+3),A(this,w+1,w+2);return this},n.prototype.swap64=function(){let h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<h;w+=8)A(this,w,w+7),A(this,w+1,w+6),A(this,w+2,w+5),A(this,w+3,w+4);return this},n.prototype.toString=function(){let h=this.length;return h===0?"":arguments.length===0?W(this,0,h):_.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(h){if(!n.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:n.compare(this,h)===0},n.prototype.inspect=function(){let h="",w=zt.INSPECT_MAX_BYTES;return h=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(h+=" ... "),"<Buffer "+h+">"},s&&(n.prototype[s]=n.prototype.inspect),n.prototype.compare=function(h,w,x,D,X){if($(h,Uint8Array)&&(h=n.from(h,h.offset,h.byteLength)),!n.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(w===void 0&&(w=0),x===void 0&&(x=h?h.length:0),D===void 0&&(D=0),X===void 0&&(X=this.length),w<0||x>h.length||D<0||X>this.length)throw new RangeError("out of range index");if(D>=X&&w>=x)return 0;if(D>=X)return-1;if(w>=x)return 1;if(w>>>=0,x>>>=0,D>>>=0,X>>>=0,this===h)return 0;let ce=X-D,Ee=x-w,z=Math.min(ce,Ee),ie=this.slice(D,X),Ie=h.slice(w,x);for(let xe=0;xe<z;++xe)if(ie[xe]!==Ie[xe]){ce=ie[xe],Ee=Ie[xe];break}return ce<Ee?-1:Ee<ce?1:0};function v(h,w,x,D,X){if(h.length===0)return-1;if(typeof x=="string"?(D=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,ge(x)&&(x=X?0:h.length-1),x<0&&(x=h.length+x),x>=h.length){if(X)return-1;x=h.length-1}else if(x<0)if(X)x=0;else return-1;if(typeof w=="string"&&(w=n.from(w,D)),n.isBuffer(w))return w.length===0?-1:I(h,w,x,D,X);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?X?Uint8Array.prototype.indexOf.call(h,w,x):Uint8Array.prototype.lastIndexOf.call(h,w,x):I(h,[w],x,D,X);throw new TypeError("val must be string, number or Buffer")}function I(h,w,x,D,X){let ce=1,Ee=h.length,z=w.length;if(D!==void 0&&(D=String(D).toLowerCase(),D==="ucs2"||D==="ucs-2"||D==="utf16le"||D==="utf-16le")){if(h.length<2||w.length<2)return-1;ce=2,Ee/=2,z/=2,x/=2}function ie(xe,ke){return ce===1?xe[ke]:xe.readUInt16BE(ke*ce)}let Ie;if(X){let xe=-1;for(Ie=x;Ie<Ee;Ie++)if(ie(h,Ie)===ie(w,xe===-1?0:Ie-xe)){if(xe===-1&&(xe=Ie),Ie-xe+1===z)return xe*ce}else xe!==-1&&(Ie-=Ie-xe),xe=-1}else for(x+z>Ee&&(x=Ee-z),Ie=x;Ie>=0;Ie--){let xe=!0;for(let ke=0;ke<z;ke++)if(ie(h,Ie+ke)!==ie(w,ke)){xe=!1;break}if(xe)return Ie}return-1}n.prototype.includes=function(h,w,x){return this.indexOf(h,w,x)!==-1},n.prototype.indexOf=function(h,w,x){return v(this,h,w,x,!0)},n.prototype.lastIndexOf=function(h,w,x){return v(this,h,w,x,!1)};function S(h,w,x,D){x=Number(x)||0;let X=h.length-x;D?(D=Number(D),D>X&&(D=X)):D=X;let ce=w.length;D>ce/2&&(D=ce/2);let Ee;for(Ee=0;Ee<D;++Ee){let z=parseInt(w.substr(Ee*2,2),16);if(ge(z))return Ee;h[x+Ee]=z}return Ee}function k(h,w,x,D){return me(q(w,h.length-x),h,x,D)}function P(h,w,x,D){return me(ee(w),h,x,D)}function R(h,w,x,D){return me(pe(w),h,x,D)}function B(h,w,x,D){return me(he(w,h.length-x),h,x,D)}n.prototype.write=function(h,w,x,D){if(w===void 0)D="utf8",x=this.length,w=0;else if(x===void 0&&typeof w=="string")D=w,x=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(x)?(x=x>>>0,D===void 0&&(D="utf8")):(D=x,x=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let X=this.length-w;if((x===void 0||x>X)&&(x=X),h.length>0&&(x<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");D||(D="utf8");let ce=!1;for(;;)switch(D){case"hex":return S(this,h,w,x);case"utf8":case"utf-8":return k(this,h,w,x);case"ascii":case"latin1":case"binary":return P(this,h,w,x);case"base64":return R(this,h,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,h,w,x);default:if(ce)throw new TypeError("Unknown encoding: "+D);D=(""+D).toLowerCase(),ce=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(h,w,x){return w===0&&x===h.length?r.fromByteArray(h):r.fromByteArray(h.slice(w,x))}function W(h,w,x){x=Math.min(h.length,x);let D=[],X=w;for(;X<x;){let ce=h[X],Ee=null,z=ce>239?4:ce>223?3:ce>191?2:1;if(X+z<=x){let ie,Ie,xe,ke;switch(z){case 1:ce<128&&(Ee=ce);break;case 2:ie=h[X+1],(ie&192)===128&&(ke=(ce&31)<<6|ie&63,ke>127&&(Ee=ke));break;case 3:ie=h[X+1],Ie=h[X+2],(ie&192)===128&&(Ie&192)===128&&(ke=(ce&15)<<12|(ie&63)<<6|Ie&63,ke>2047&&(ke<55296||ke>57343)&&(Ee=ke));break;case 4:ie=h[X+1],Ie=h[X+2],xe=h[X+3],(ie&192)===128&&(Ie&192)===128&&(xe&192)===128&&(ke=(ce&15)<<18|(ie&63)<<12|(Ie&63)<<6|xe&63,ke>65535&&ke<1114112&&(Ee=ke))}}Ee===null?(Ee=65533,z=1):Ee>65535&&(Ee-=65536,D.push(Ee>>>10&1023|55296),Ee=56320|Ee&1023),D.push(Ee),X+=z}return U(D)}let L=4096;function U(h){let w=h.length;if(w<=L)return String.fromCharCode.apply(String,h);let x="",D=0;for(;D<w;)x+=String.fromCharCode.apply(String,h.slice(D,D+=L));return x}function ae(h,w,x){let D="";x=Math.min(h.length,x);for(let X=w;X<x;++X)D+=String.fromCharCode(h[X]&127);return D}function Q(h,w,x){let D="";x=Math.min(h.length,x);for(let X=w;X<x;++X)D+=String.fromCharCode(h[X]);return D}function K(h,w,x){let D=h.length;(!w||w<0)&&(w=0),(!x||x<0||x>D)&&(x=D);let X="";for(let ce=w;ce<x;++ce)X+=ve[h[ce]];return X}function re(h,w,x){let D=h.slice(w,x),X="";for(let ce=0;ce<D.length-1;ce+=2)X+=String.fromCharCode(D[ce]+D[ce+1]*256);return X}n.prototype.slice=function(h,w){let x=this.length;h=~~h,w=w===void 0?x:~~w,h<0?(h+=x,h<0&&(h=0)):h>x&&(h=x),w<0?(w+=x,w<0&&(w=0)):w>x&&(w=x),w<h&&(w=h);let D=this.subarray(h,w);return Object.setPrototypeOf(D,n.prototype),D};function F(h,w,x){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+w>x)throw new RangeError("Trying to access beyond buffer length")}n.prototype.readUintLE=n.prototype.readUIntLE=function(h,w,x){h=h>>>0,w=w>>>0,x||F(h,w,this.length);let D=this[h],X=1,ce=0;for(;++ce<w&&(X*=256);)D+=this[h+ce]*X;return D},n.prototype.readUintBE=n.prototype.readUIntBE=function(h,w,x){h=h>>>0,w=w>>>0,x||F(h,w,this.length);let D=this[h+--w],X=1;for(;w>0&&(X*=256);)D+=this[h+--w]*X;return D},n.prototype.readUint8=n.prototype.readUInt8=function(h,w){return h=h>>>0,w||F(h,1,this.length),this[h]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(h,w){return h=h>>>0,w||F(h,2,this.length),this[h]|this[h+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(h,w){return h=h>>>0,w||F(h,2,this.length),this[h]<<8|this[h+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(h,w){return h=h>>>0,w||F(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(h,w){return h=h>>>0,w||F(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},n.prototype.readBigUInt64LE=se(function(h){h=h>>>0,Y(h,"offset");let w=this[h],x=this[h+7];(w===void 0||x===void 0)&&ye(h,this.length-8);let D=w+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,X=this[++h]+this[++h]*2**8+this[++h]*2**16+x*2**24;return BigInt(D)+(BigInt(X)<<BigInt(32))}),n.prototype.readBigUInt64BE=se(function(h){h=h>>>0,Y(h,"offset");let w=this[h],x=this[h+7];(w===void 0||x===void 0)&&ye(h,this.length-8);let D=w*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],X=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+x;return(BigInt(D)<<BigInt(32))+BigInt(X)}),n.prototype.readIntLE=function(h,w,x){h=h>>>0,w=w>>>0,x||F(h,w,this.length);let D=this[h],X=1,ce=0;for(;++ce<w&&(X*=256);)D+=this[h+ce]*X;return X*=128,D>=X&&(D-=Math.pow(2,8*w)),D},n.prototype.readIntBE=function(h,w,x){h=h>>>0,w=w>>>0,x||F(h,w,this.length);let D=w,X=1,ce=this[h+--D];for(;D>0&&(X*=256);)ce+=this[h+--D]*X;return X*=128,ce>=X&&(ce-=Math.pow(2,8*w)),ce},n.prototype.readInt8=function(h,w){return h=h>>>0,w||F(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},n.prototype.readInt16LE=function(h,w){h=h>>>0,w||F(h,2,this.length);let x=this[h]|this[h+1]<<8;return x&32768?x|4294901760:x},n.prototype.readInt16BE=function(h,w){h=h>>>0,w||F(h,2,this.length);let x=this[h+1]|this[h]<<8;return x&32768?x|4294901760:x},n.prototype.readInt32LE=function(h,w){return h=h>>>0,w||F(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},n.prototype.readInt32BE=function(h,w){return h=h>>>0,w||F(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},n.prototype.readBigInt64LE=se(function(h){h=h>>>0,Y(h,"offset");let w=this[h],x=this[h+7];(w===void 0||x===void 0)&&ye(h,this.length-8);let D=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(x<<24);return(BigInt(D)<<BigInt(32))+BigInt(w+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),n.prototype.readBigInt64BE=se(function(h){h=h>>>0,Y(h,"offset");let w=this[h],x=this[h+7];(w===void 0||x===void 0)&&ye(h,this.length-8);let D=(w<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(D)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+x)}),n.prototype.readFloatLE=function(h,w){return h=h>>>0,w||F(h,4,this.length),o.read(this,h,!0,23,4)},n.prototype.readFloatBE=function(h,w){return h=h>>>0,w||F(h,4,this.length),o.read(this,h,!1,23,4)},n.prototype.readDoubleLE=function(h,w){return h=h>>>0,w||F(h,8,this.length),o.read(this,h,!0,52,8)},n.prototype.readDoubleBE=function(h,w){return h=h>>>0,w||F(h,8,this.length),o.read(this,h,!1,52,8)};function Z(h,w,x,D,X,ce){if(!n.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>X||w<ce)throw new RangeError('"value" argument is out of bounds');if(x+D>h.length)throw new RangeError("Index out of range")}n.prototype.writeUintLE=n.prototype.writeUIntLE=function(h,w,x,D){if(h=+h,w=w>>>0,x=x>>>0,!D){let Ee=Math.pow(2,8*x)-1;Z(this,h,w,x,Ee,0)}let X=1,ce=0;for(this[w]=h&255;++ce<x&&(X*=256);)this[w+ce]=h/X&255;return w+x},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(h,w,x,D){if(h=+h,w=w>>>0,x=x>>>0,!D){let Ee=Math.pow(2,8*x)-1;Z(this,h,w,x,Ee,0)}let X=x-1,ce=1;for(this[w+X]=h&255;--X>=0&&(ce*=256);)this[w+X]=h/ce&255;return w+x},n.prototype.writeUint8=n.prototype.writeUInt8=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,1,255,0),this[w]=h&255,w+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,2,65535,0),this[w]=h&255,this[w+1]=h>>>8,w+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,2,65535,0),this[w]=h>>>8,this[w+1]=h&255,w+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,4,4294967295,0),this[w+3]=h>>>24,this[w+2]=h>>>16,this[w+1]=h>>>8,this[w]=h&255,w+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,4,4294967295,0),this[w]=h>>>24,this[w+1]=h>>>16,this[w+2]=h>>>8,this[w+3]=h&255,w+4};function C(h,w,x,D,X){G(w,D,X,h,x,7);let ce=Number(w&BigInt(4294967295));h[x++]=ce,ce=ce>>8,h[x++]=ce,ce=ce>>8,h[x++]=ce,ce=ce>>8,h[x++]=ce;let Ee=Number(w>>BigInt(32)&BigInt(4294967295));return h[x++]=Ee,Ee=Ee>>8,h[x++]=Ee,Ee=Ee>>8,h[x++]=Ee,Ee=Ee>>8,h[x++]=Ee,x}function J(h,w,x,D,X){G(w,D,X,h,x,7);let ce=Number(w&BigInt(4294967295));h[x+7]=ce,ce=ce>>8,h[x+6]=ce,ce=ce>>8,h[x+5]=ce,ce=ce>>8,h[x+4]=ce;let Ee=Number(w>>BigInt(32)&BigInt(4294967295));return h[x+3]=Ee,Ee=Ee>>8,h[x+2]=Ee,Ee=Ee>>8,h[x+1]=Ee,Ee=Ee>>8,h[x]=Ee,x+8}n.prototype.writeBigUInt64LE=se(function(h,w=0){return C(this,h,w,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=se(function(h,w=0){return J(this,h,w,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(h,w,x,D){if(h=+h,w=w>>>0,!D){let z=Math.pow(2,8*x-1);Z(this,h,w,x,z-1,-z)}let X=0,ce=1,Ee=0;for(this[w]=h&255;++X<x&&(ce*=256);)h<0&&Ee===0&&this[w+X-1]!==0&&(Ee=1),this[w+X]=(h/ce>>0)-Ee&255;return w+x},n.prototype.writeIntBE=function(h,w,x,D){if(h=+h,w=w>>>0,!D){let z=Math.pow(2,8*x-1);Z(this,h,w,x,z-1,-z)}let X=x-1,ce=1,Ee=0;for(this[w+X]=h&255;--X>=0&&(ce*=256);)h<0&&Ee===0&&this[w+X+1]!==0&&(Ee=1),this[w+X]=(h/ce>>0)-Ee&255;return w+x},n.prototype.writeInt8=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,1,127,-128),h<0&&(h=255+h+1),this[w]=h&255,w+1},n.prototype.writeInt16LE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,2,32767,-32768),this[w]=h&255,this[w+1]=h>>>8,w+2},n.prototype.writeInt16BE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,2,32767,-32768),this[w]=h>>>8,this[w+1]=h&255,w+2},n.prototype.writeInt32LE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,4,2147483647,-2147483648),this[w]=h&255,this[w+1]=h>>>8,this[w+2]=h>>>16,this[w+3]=h>>>24,w+4},n.prototype.writeInt32BE=function(h,w,x){return h=+h,w=w>>>0,x||Z(this,h,w,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[w]=h>>>24,this[w+1]=h>>>16,this[w+2]=h>>>8,this[w+3]=h&255,w+4},n.prototype.writeBigInt64LE=se(function(h,w=0){return C(this,h,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=se(function(h,w=0){return J(this,h,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function be(h,w,x,D,X,ce){if(x+D>h.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function te(h,w,x,D,X){return w=+w,x=x>>>0,X||be(h,w,x,4),o.write(h,w,x,D,23,4),x+4}n.prototype.writeFloatLE=function(h,w,x){return te(this,h,w,!0,x)},n.prototype.writeFloatBE=function(h,w,x){return te(this,h,w,!1,x)};function _e(h,w,x,D,X){return w=+w,x=x>>>0,X||be(h,w,x,8),o.write(h,w,x,D,52,8),x+8}n.prototype.writeDoubleLE=function(h,w,x){return _e(this,h,w,!0,x)},n.prototype.writeDoubleBE=function(h,w,x){return _e(this,h,w,!1,x)},n.prototype.copy=function(h,w,x,D){if(!n.isBuffer(h))throw new TypeError("argument should be a Buffer");if(x||(x=0),!D&&D!==0&&(D=this.length),w>=h.length&&(w=h.length),w||(w=0),D>0&&D<x&&(D=x),D===x||h.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(x<0||x>=this.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("sourceEnd out of bounds");D>this.length&&(D=this.length),h.length-w<D-x&&(D=h.length-w+x);let X=D-x;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,x,D):Uint8Array.prototype.set.call(h,this.subarray(x,D),w),X},n.prototype.fill=function(h,w,x,D){if(typeof h=="string"){if(typeof w=="string"?(D=w,w=0,x=this.length):typeof x=="string"&&(D=x,x=this.length),D!==void 0&&typeof D!="string")throw new TypeError("encoding must be a string");if(typeof D=="string"&&!n.isEncoding(D))throw new TypeError("Unknown encoding: "+D);if(h.length===1){let ce=h.charCodeAt(0);(D==="utf8"&&ce<128||D==="latin1")&&(h=ce)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(w<0||this.length<w||this.length<x)throw new RangeError("Out of range index");if(x<=w)return this;w=w>>>0,x=x===void 0?this.length:x>>>0,h||(h=0);let X;if(typeof h=="number")for(X=w;X<x;++X)this[X]=h;else{let ce=n.isBuffer(h)?h:n.from(h,D),Ee=ce.length;if(Ee===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(X=0;X<x-w;++X)this[X+w]=ce[X%Ee]}return this};let H={};function N(h,w,x){H[h]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(D){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:D,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(h,w){return`The "${h}" argument must be of type number. Received type ${typeof w}`},TypeError),N("ERR_OUT_OF_RANGE",function(h,w,x){let D=`The value of "${h}" is out of range.`,X=x;return Number.isInteger(x)&&Math.abs(x)>2**32?X=ne(String(x)):typeof x=="bigint"&&(X=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(X=ne(X)),X+="n"),D+=` It must be ${w}. Received ${X}`,D},RangeError);function ne(h){let w="",x=h.length,D=h[0]==="-"?1:0;for(;x>=D+4;x-=3)w=`_${h.slice(x-3,x)}${w}`;return`${h.slice(0,x)}${w}`}function V(h,w,x){Y(w,"offset"),(h[w]===void 0||h[w+x]===void 0)&&ye(w,h.length-(x+1))}function G(h,w,x,D,X,ce){if(h>x||h<w){let Ee=typeof w=="bigint"?"n":"",z;throw w===0||w===BigInt(0)?z=`>= 0${Ee} and < 2${Ee} ** ${(ce+1)*8}${Ee}`:z=`>= -(2${Ee} ** ${(ce+1)*8-1}${Ee}) and < 2 ** ${(ce+1)*8-1}${Ee}`,new H.ERR_OUT_OF_RANGE("value",z,h)}V(D,X,ce)}function Y(h,w){if(typeof h!="number")throw new H.ERR_INVALID_ARG_TYPE(w,"number",h)}function ye(h,w,x){throw Math.floor(h)!==h?(Y(h,x),new H.ERR_OUT_OF_RANGE("offset","an integer",h)):w<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,h)}let oe=/[^+/0-9A-Za-z-_]/g;function M(h){if(h=h.split("=")[0],h=h.trim().replace(oe,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function q(h,w){w=w||1/0;let x,D=h.length,X=null,ce=[];for(let Ee=0;Ee<D;++Ee){if(x=h.charCodeAt(Ee),x>55295&&x<57344){if(!X){if(x>56319){(w-=3)>-1&&ce.push(239,191,189);continue}else if(Ee+1===D){(w-=3)>-1&&ce.push(239,191,189);continue}X=x;continue}if(x<56320){(w-=3)>-1&&ce.push(239,191,189),X=x;continue}x=(X-55296<<10|x-56320)+65536}else X&&(w-=3)>-1&&ce.push(239,191,189);if(X=null,x<128){if((w-=1)<0)break;ce.push(x)}else if(x<2048){if((w-=2)<0)break;ce.push(x>>6|192,x&63|128)}else if(x<65536){if((w-=3)<0)break;ce.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((w-=4)<0)break;ce.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return ce}function ee(h){let w=[];for(let x=0;x<h.length;++x)w.push(h.charCodeAt(x)&255);return w}function he(h,w){let x,D,X,ce=[];for(let Ee=0;Ee<h.length&&!((w-=2)<0);++Ee)x=h.charCodeAt(Ee),D=x>>8,X=x%256,ce.push(X),ce.push(D);return ce}function pe(h){return r.toByteArray(M(h))}function me(h,w,x,D){let X;for(X=0;X<D&&!(X+x>=w.length||X>=h.length);++X)w[X+x]=h[X];return X}function $(h,w){return h instanceof w||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===w.name}function ge(h){return h!==h}let ve=(function(){let h="0123456789abcdef",w=new Array(256);for(let x=0;x<16;++x){let D=x*16;for(let X=0;X<16;++X)w[D+X]=h[x]+h[X]}return w})();function se(h){return typeof BigInt>"u"?Te:h}function Te(){throw new Error("BigInt not supported")}return zt}var wr,Ao,qr,Io,zt,xo,rh=nt(()=>{le(),fe(),ue(),wr={},Ao=!1,qr={},Io=!1,zt={},xo=!1}),De={};Mr(De,{Buffer:()=>zn,INSPECT_MAX_BYTES:()=>su,default:()=>Pt,kMaxLength:()=>au});var Pt,zn,su,au,Fe=nt(()=>{le(),fe(),ue(),rh(),Pt=th(),Pt.Buffer,Pt.SlowBuffer,Pt.INSPECT_MAX_BYTES,Pt.kMaxLength,zn=Pt.Buffer,su=Pt.INSPECT_MAX_BYTES,au=Pt.kMaxLength}),fe=nt(()=>{Fe()}),Be=de((r,o)=>{le(),fe(),ue();var s=class extends Error{constructor(l){if(!Array.isArray(l))throw new TypeError(`Expected input to be an Array, got ${typeof l}`);let u="";for(let e=0;e<l.length;e++)u+=`    ${l[e].stack}
`;super(u),this.name="AggregateError",this.errors=l}};o.exports={AggregateError:s,ArrayIsArray(l){return Array.isArray(l)},ArrayPrototypeIncludes(l,u){return l.includes(u)},ArrayPrototypeIndexOf(l,u){return l.indexOf(u)},ArrayPrototypeJoin(l,u){return l.join(u)},ArrayPrototypeMap(l,u){return l.map(u)},ArrayPrototypePop(l,u){return l.pop(u)},ArrayPrototypePush(l,u){return l.push(u)},ArrayPrototypeSlice(l,u,e){return l.slice(u,e)},Error,FunctionPrototypeCall(l,u,...e){return l.call(u,...e)},FunctionPrototypeSymbolHasInstance(l,u){return Function.prototype[Symbol.hasInstance].call(l,u)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(l,u){return Object.defineProperties(l,u)},ObjectDefineProperty(l,u,e){return Object.defineProperty(l,u,e)},ObjectGetOwnPropertyDescriptor(l,u){return Object.getOwnPropertyDescriptor(l,u)},ObjectKeys(l){return Object.keys(l)},ObjectSetPrototypeOf(l,u){return Object.setPrototypeOf(l,u)},Promise,PromisePrototypeCatch(l,u){return l.catch(u)},PromisePrototypeThen(l,u,e){return l.then(u,e)},PromiseReject(l){return Promise.reject(l)},PromiseResolve(l){return Promise.resolve(l)},ReflectApply:Reflect.apply,RegExpPrototypeTest(l,u){return l.test(u)},SafeSet:Set,String,StringPrototypeSlice(l,u,e){return l.slice(u,e)},StringPrototypeToLowerCase(l){return l.toLowerCase()},StringPrototypeToUpperCase(l){return l.toUpperCase()},StringPrototypeTrim(l){return l.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(l,u,e){return l.set(u,e)},Boolean,Uint8Array}}),lu=de((r,o)=>{le(),fe(),ue(),o.exports={format(s,...l){return s.replace(/%([sdifj])/g,function(...[u,e]){let n=l.shift();return e==="f"?n.toFixed(6):e==="j"?JSON.stringify(n):e==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}}),Ze=de((r,o)=>{le(),fe(),ue();var{format:s,inspect:l}=lu(),{AggregateError:u}=Be(),e=globalThis.AggregateError||u,n=Symbol("kIsNodeError"),i=["string","function","number","object","Function","Object","boolean","bigint","symbol"],t=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",f={};function d(g,_){if(!g)throw new f.ERR_INTERNAL_ASSERTION(_)}function p(g){let _="",A=g.length,v=g[0]==="-"?1:0;for(;A>=v+4;A-=3)_=`_${g.slice(A-3,A)}${_}`;return`${g.slice(0,A)}${_}`}function b(g,_,A){if(typeof _=="function")return d(_.length<=A.length,`Code: ${g}; The provided arguments length (${A.length}) does not match the required ones (${_.length}).`),_(...A);let v=(_.match(/%[dfijoOs]/g)||[]).length;return d(v===A.length,`Code: ${g}; The provided arguments length (${A.length}) does not match the required ones (${v}).`),A.length===0?_:s(_,...A)}function c(g,_,A){A||(A=Error);class v extends A{constructor(...S){super(b(g,_,S))}toString(){return`${this.name} [${g}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:A.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${g}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=g,v.prototype[n]=!0,f[g]=v}function y(g){let _=a+g.name;return Object.defineProperty(g,"name",{value:_}),g}function m(g,_){if(g&&_&&g!==_){if(Array.isArray(_.errors))return _.errors.push(g),_;let A=new e([_,g],_.message);return A.code=_.code,A}return g||_}var E=class extends Error{constructor(g="The operation was aborted",_=void 0){if(_!==void 0&&typeof _!="object")throw new f.ERR_INVALID_ARG_TYPE("options","Object",_);super(g,_),this.code="ABORT_ERR",this.name="AbortError"}};c("ERR_ASSERTION","%s",Error),c("ERR_INVALID_ARG_TYPE",(g,_,A)=>{d(typeof g=="string","'name' must be a string"),Array.isArray(_)||(_=[_]);let v="The ";g.endsWith(" argument")?v+=`${g} `:v+=`"${g}" ${g.includes(".")?"property":"argument"} `,v+="must be ";let I=[],S=[],k=[];for(let R of _)d(typeof R=="string","All expected entries have to be of type string"),i.includes(R)?I.push(R.toLowerCase()):t.test(R)?S.push(R):(d(R!=="object",'The value "object" should be written as "Object"'),k.push(R));if(S.length>0){let R=I.indexOf("object");R!==-1&&(I.splice(I,R,1),S.push("Object"))}if(I.length>0){switch(I.length){case 1:v+=`of type ${I[0]}`;break;case 2:v+=`one of type ${I[0]} or ${I[1]}`;break;default:{let R=I.pop();v+=`one of type ${I.join(", ")}, or ${R}`}}(S.length>0||k.length>0)&&(v+=" or ")}if(S.length>0){switch(S.length){case 1:v+=`an instance of ${S[0]}`;break;case 2:v+=`an instance of ${S[0]} or ${S[1]}`;break;default:{let R=S.pop();v+=`an instance of ${S.join(", ")}, or ${R}`}}k.length>0&&(v+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(v+="an "),v+=`${k[0]}`;break;case 2:v+=`one of ${k[0]} or ${k[1]}`;break;default:{let R=k.pop();v+=`one of ${k.join(", ")}, or ${R}`}}if(A==null)v+=`. Received ${A}`;else if(typeof A=="function"&&A.name)v+=`. Received function ${A.name}`;else if(typeof A=="object"){var P;if((P=A.constructor)!==null&&P!==void 0&&P.name)v+=`. Received an instance of ${A.constructor.name}`;else{let R=l(A,{depth:-1});v+=`. Received ${R}`}}else{let R=l(A,{colors:!1});R.length>25&&(R=`${R.slice(0,25)}...`),v+=`. Received type ${typeof A} (${R})`}return v},TypeError),c("ERR_INVALID_ARG_VALUE",(g,_,A="is invalid")=>{let v=l(_);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${g.includes(".")?"property":"argument"} '${g}' ${A}. Received ${v}`},TypeError),c("ERR_INVALID_RETURN_VALUE",(g,_,A)=>{var v;let I=A!=null&&(v=A.constructor)!==null&&v!==void 0&&v.name?`instance of ${A.constructor.name}`:`type ${typeof A}`;return`Expected ${g} to be returned from the "${_}" function but got ${I}.`},TypeError),c("ERR_MISSING_ARGS",(...g)=>{d(g.length>0,"At least one arg needs to be specified");let _,A=g.length;switch(g=(Array.isArray(g)?g:[g]).map(v=>`"${v}"`).join(" or "),A){case 1:_+=`The ${g[0]} argument`;break;case 2:_+=`The ${g[0]} and ${g[1]} arguments`;break;default:{let v=g.pop();_+=`The ${g.join(", ")}, and ${v} arguments`}break}return`${_} must be specified`},TypeError),c("ERR_OUT_OF_RANGE",(g,_,A)=>{d(_,'Missing "range" argument');let v;if(Number.isInteger(A)&&Math.abs(A)>2**32)v=p(String(A));else if(typeof A=="bigint"){v=String(A);let I=BigInt(2)**BigInt(32);(A>I||A<-I)&&(v=p(v)),v+="n"}else v=l(A);return`The value of "${g}" is out of range. It must be ${_}. Received ${v}`},RangeError),c("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),c("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),c("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),c("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),c("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),c("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),c("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),c("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),c("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),c("ERR_STREAM_WRITE_AFTER_END","write after end",Error),c("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:E,aggregateTwoErrors:y(m),hideStackFrames:y,codes:f}}),Zr=de((r,o)=>{le(),fe(),ue();var{AbortController:s,AbortSignal:l}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=s,o.exports.AbortSignal=l,o.exports.default=s}),Zt={};Mr(Zt,{EventEmitter:()=>uu,default:()=>Er,defaultMaxListeners:()=>fu,init:()=>cu,listenerCount:()=>hu,on:()=>pu,once:()=>du});function nh(){if(ko)return $r;ko=!0;var r=typeof Reflect=="object"?Reflect:null,o=r&&typeof r.apply=="function"?r.apply:function(A,v,I){return Function.prototype.apply.call(A,v,I)},s;r&&typeof r.ownKeys=="function"?s=r.ownKeys:Object.getOwnPropertySymbols?s=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:s=function(A){return Object.getOwnPropertyNames(A)};function l(A){console&&console.warn&&console.warn(A)}var u=Number.isNaN||function(A){return A!==A};function e(){e.init.call(this)}$r=e,$r.once=E,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var n=10;function i(A){if(typeof A!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof A)}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return n},set:function(A){if(typeof A!="number"||A<0||u(A))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+A+".");n=A}}),e.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||u(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function t(A){return A._maxListeners===void 0?e.defaultMaxListeners:A._maxListeners}e.prototype.getMaxListeners=function(){return t(this)},e.prototype.emit=function(A){for(var v=[],I=1;I<arguments.length;I++)v.push(arguments[I]);var S=A==="error",k=this._events;if(k!==void 0)S=S&&k.error===void 0;else if(!S)return!1;if(S){var P;if(v.length>0&&(P=v[0]),P instanceof Error)throw P;var R=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw R.context=P,R}var B=k[A];if(B===void 0)return!1;if(typeof B=="function")o(B,this,v);else for(var T=B.length,W=c(B,T),I=0;I<T;++I)o(W[I],this,v);return!0};function a(A,v,I,S){var k,P,R;if(i(I),P=A._events,P===void 0?(P=A._events=Object.create(null),A._eventsCount=0):(P.newListener!==void 0&&(A.emit("newListener",v,I.listener?I.listener:I),P=A._events),R=P[v]),R===void 0)R=P[v]=I,++A._eventsCount;else if(typeof R=="function"?R=P[v]=S?[I,R]:[R,I]:S?R.unshift(I):R.push(I),k=t(A),k>0&&R.length>k&&!R.warned){R.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+R.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=A,B.type=v,B.count=R.length,l(B)}return A}e.prototype.addListener=function(A,v){return a(this,A,v,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(A,v){return a(this,A,v,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(A,v,I){var S={fired:!1,wrapFn:void 0,target:A,type:v,listener:I},k=f.bind(S);return k.listener=I,S.wrapFn=k,k}e.prototype.once=function(A,v){return i(v),this.on(A,d(this,A,v)),this},e.prototype.prependOnceListener=function(A,v){return i(v),this.prependListener(A,d(this,A,v)),this},e.prototype.removeListener=function(A,v){var I,S,k,P,R;if(i(v),S=this._events,S===void 0)return this;if(I=S[A],I===void 0)return this;if(I===v||I.listener===v)--this._eventsCount===0?this._events=Object.create(null):(delete S[A],S.removeListener&&this.emit("removeListener",A,I.listener||v));else if(typeof I!="function"){for(k=-1,P=I.length-1;P>=0;P--)if(I[P]===v||I[P].listener===v){R=I[P].listener,k=P;break}if(k<0)return this;k===0?I.shift():y(I,k),I.length===1&&(S[A]=I[0]),S.removeListener!==void 0&&this.emit("removeListener",A,R||v)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(A){var v,I,S;if(I=this._events,I===void 0)return this;if(I.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):I[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete I[A]),this;if(arguments.length===0){var k=Object.keys(I),P;for(S=0;S<k.length;++S)P=k[S],P!=="removeListener"&&this.removeAllListeners(P);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(v=I[A],typeof v=="function")this.removeListener(A,v);else if(v!==void 0)for(S=v.length-1;S>=0;S--)this.removeListener(A,v[S]);return this};function p(A,v,I){var S=A._events;if(S===void 0)return[];var k=S[v];return k===void 0?[]:typeof k=="function"?I?[k.listener||k]:[k]:I?m(k):c(k,k.length)}e.prototype.listeners=function(A){return p(this,A,!0)},e.prototype.rawListeners=function(A){return p(this,A,!1)},e.listenerCount=function(A,v){return typeof A.listenerCount=="function"?A.listenerCount(v):b.call(A,v)},e.prototype.listenerCount=b;function b(A){var v=this._events;if(v!==void 0){var I=v[A];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}e.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]};function c(A,v){for(var I=new Array(v),S=0;S<v;++S)I[S]=A[S];return I}function y(A,v){for(;v+1<A.length;v++)A[v]=A[v+1];A.pop()}function m(A){for(var v=new Array(A.length),I=0;I<v.length;++I)v[I]=A[I].listener||A[I];return v}function E(A,v){return new Promise(function(I,S){function k(R){A.removeListener(v,P),S(R)}function P(){typeof A.removeListener=="function"&&A.removeListener("error",k),I([].slice.call(arguments))}_(A,v,P,{once:!0}),v!=="error"&&g(A,k,{once:!0})})}function g(A,v,I){typeof A.on=="function"&&_(A,"error",v,I)}function _(A,v,I,S){if(typeof A.on=="function")S.once?A.once(v,I):A.on(v,I);else if(typeof A.addEventListener=="function")A.addEventListener(v,function k(P){S.once&&A.removeEventListener(v,k),I(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof A)}return $r}var $r,ko,Er,uu,fu,cu,hu,pu,du,gr=nt(()=>{le(),fe(),ue(),$r={},ko=!1,Er=nh(),Er.once,Er.once=function(r,o){return new Promise((s,l)=>{function u(...n){e!==void 0&&r.removeListener("error",e),s(n)}let e;o!=="error"&&(e=n=>{r.removeListener(name,u),l(n)},r.once("error",e)),r.once(o,u)})},Er.on=function(r,o){let s=[],l=[],u=null,e=!1,n={async next(){let a=s.shift();if(a)return createIterResult(a,!1);if(u){let f=Promise.reject(u);return u=null,f}return e?createIterResult(void 0,!0):new Promise((f,d)=>l.push({resolve:f,reject:d}))},async return(){r.removeListener(o,i),r.removeListener("error",t),e=!0;for(let a of l)a.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(a){u=a,r.removeListener(o,i),r.removeListener("error",t)},[Symbol.asyncIterator](){return this}};return r.on(o,i),r.on("error",t),n;function i(...a){let f=l.shift();f?f.resolve(createIterResult(a,!1)):s.push(a)}function t(a){e=!0;let f=l.shift();f?f.reject(a):u=a,n.return()}},{EventEmitter:uu,defaultMaxListeners:fu,init:cu,listenerCount:hu,on:pu,once:du}=Er}),tt=de((r,o)=>{le(),fe(),ue();var s=(Fe(),Ce(De)),{format:l,inspect:u}=lu(),{codes:{ERR_INVALID_ARG_TYPE:e}}=Ze(),{kResistStopPropagation:n,AggregateError:i,SymbolDispose:t}=Be(),a=globalThis.AbortSignal||Zr().AbortSignal,f=globalThis.AbortController||Zr().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||s.Blob,b=typeof p<"u"?function(m){return m instanceof p}:function(m){return!1},c=(m,E)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new e(E,"AbortSignal",m)},y=(m,E)=>{if(typeof m!="function")throw new e(E,"Function",m)};o.exports={AggregateError:i,kEmptyObject:Object.freeze({}),once(m){let E=!1;return function(...g){E||(E=!0,m.apply(this,g))}},createDeferredPromise:function(){let m,E;return{promise:new Promise((g,_)=>{m=g,E=_}),resolve:m,reject:E}},promisify(m){return new Promise((E,g)=>{m((_,...A)=>_?g(_):E(...A))})},debuglog(){return function(){}},format:l,inspect:u,types:{isAsyncFunction(m){return m instanceof d},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:b,deprecate(m,E){return m},addAbortListener:(gr(),Ce(Zt)).addAbortListener||function(m,E){if(m===void 0)throw new e("signal","AbortSignal",m);c(m,"signal"),y(E,"listener");let g;return m.aborted?queueMicrotask(()=>E()):(m.addEventListener("abort",E,{__proto__:null,once:!0,[n]:!0}),g=()=>{m.removeEventListener("abort",E)}),{__proto__:null,[t](){var _;(_=g)===null||_===void 0||_()}}},AbortSignalAny:a.any||function(m){if(m.length===1)return m[0];let E=new f,g=()=>E.abort();return m.forEach(_=>{c(_,"signals"),_.addEventListener("abort",g,{once:!0})}),E.signal.addEventListener("abort",()=>{m.forEach(_=>_.removeEventListener("abort",g))},{once:!0}),E.signal}},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),sn=de((r,o)=>{le(),fe(),ue();var{ArrayIsArray:s,ArrayPrototypeIncludes:l,ArrayPrototypeJoin:u,ArrayPrototypeMap:e,NumberIsInteger:n,NumberIsNaN:i,NumberMAX_SAFE_INTEGER:t,NumberMIN_SAFE_INTEGER:a,NumberParseInt:f,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:p,String:b,StringPrototypeToUpperCase:c,StringPrototypeTrim:y}=Be(),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:E,ERR_INVALID_ARG_TYPE:g,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:A,ERR_UNKNOWN_SIGNAL:v}}=Ze(),{normalizeEncoding:I}=tt(),{isAsyncFunction:S,isArrayBufferView:k}=tt().types,P={};function R($){return $===($|0)}function B($){return $===$>>>0}var T=/^[0-7]+$/,W="must be a 32-bit unsigned integer or an octal string";function L($,ge,ve){if(typeof $>"u"&&($=ve),typeof $=="string"){if(p(T,$)===null)throw new _(ge,$,W);$=f($,8)}return Q($,ge),$}var U=m(($,ge,ve=a,se=t)=>{if(typeof $!="number")throw new g(ge,"number",$);if(!n($))throw new A(ge,"an integer",$);if($<ve||$>se)throw new A(ge,`>= ${ve} && <= ${se}`,$)}),ae=m(($,ge,ve=-2147483648,se=2147483647)=>{if(typeof $!="number")throw new g(ge,"number",$);if(!n($))throw new A(ge,"an integer",$);if($<ve||$>se)throw new A(ge,`>= ${ve} && <= ${se}`,$)}),Q=m(($,ge,ve=!1)=>{if(typeof $!="number")throw new g(ge,"number",$);if(!n($))throw new A(ge,"an integer",$);let se=ve?1:0,Te=4294967295;if($<se||$>Te)throw new A(ge,`>= ${se} && <= ${Te}`,$)});function K($,ge){if(typeof $!="string")throw new g(ge,"string",$)}function re($,ge,ve=void 0,se){if(typeof $!="number")throw new g(ge,"number",$);if(ve!=null&&$<ve||se!=null&&$>se||(ve!=null||se!=null)&&i($))throw new A(ge,`${ve!=null?`>= ${ve}`:""}${ve!=null&&se!=null?" && ":""}${se!=null?`<= ${se}`:""}`,$)}var F=m(($,ge,ve)=>{if(!l(ve,$)){let se="must be one of: "+u(e(ve,Te=>typeof Te=="string"?`'${Te}'`:b(Te)),", ");throw new _(ge,$,se)}});function Z($,ge){if(typeof $!="boolean")throw new g(ge,"boolean",$)}function C($,ge,ve){return $==null||!d($,ge)?ve:$[ge]}var J=m(($,ge,ve=null)=>{let se=C(ve,"allowArray",!1),Te=C(ve,"allowFunction",!1);if(!C(ve,"nullable",!1)&&$===null||!se&&s($)||typeof $!="object"&&(!Te||typeof $!="function"))throw new g(ge,"Object",$)}),be=m(($,ge)=>{if($!=null&&typeof $!="object"&&typeof $!="function")throw new g(ge,"a dictionary",$)}),te=m(($,ge,ve=0)=>{if(!s($))throw new g(ge,"Array",$);if($.length<ve){let se=`must be longer than ${ve}`;throw new _(ge,$,se)}});function _e($,ge){te($,ge);for(let ve=0;ve<$.length;ve++)K($[ve],`${ge}[${ve}]`)}function H($,ge){te($,ge);for(let ve=0;ve<$.length;ve++)Z($[ve],`${ge}[${ve}]`)}function N($,ge){te($,ge);for(let ve=0;ve<$.length;ve++){let se=$[ve],Te=`${ge}[${ve}]`;if(se==null)throw new g(Te,"AbortSignal",se);ye(se,Te)}}function ne($,ge="signal"){if(K($,ge),P[$]===void 0)throw P[c($)]!==void 0?new v($+" (signals must use all capital letters)"):new v($)}var V=m(($,ge="buffer")=>{if(!k($))throw new g(ge,["Buffer","TypedArray","DataView"],$)});function G($,ge){let ve=I(ge),se=$.length;if(ve==="hex"&&se%2!==0)throw new _("encoding",ge,`is invalid for data of length ${se}`)}function Y($,ge="Port",ve=!0){if(typeof $!="number"&&typeof $!="string"||typeof $=="string"&&y($).length===0||+$!==+$>>>0||$>65535||$===0&&!ve)throw new E(ge,$,ve);return $|0}var ye=m(($,ge)=>{if($!==void 0&&($===null||typeof $!="object"||!("aborted"in $)))throw new g(ge,"AbortSignal",$)}),oe=m(($,ge)=>{if(typeof $!="function")throw new g(ge,"Function",$)}),M=m(($,ge)=>{if(typeof $!="function"||S($))throw new g(ge,"Function",$)}),q=m(($,ge)=>{if($!==void 0)throw new g(ge,"undefined",$)});function ee($,ge,ve){if(!l(ve,$))throw new g(ge,`('${u(ve,"|")}')`,$)}var he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function pe($,ge){if(typeof $>"u"||!p(he,$))throw new _(ge,$,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function me($){if(typeof $=="string")return pe($,"hints"),$;if(s($)){let ge=$.length,ve="";if(ge===0)return ve;for(let se=0;se<ge;se++){let Te=$[se];pe(Te,"hints"),ve+=Te,se!==ge-1&&(ve+=", ")}return ve}throw new _("hints",$,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:R,isUint32:B,parseFileMode:L,validateArray:te,validateStringArray:_e,validateBooleanArray:H,validateAbortSignalArray:N,validateBoolean:Z,validateBuffer:V,validateDictionary:be,validateEncoding:G,validateFunction:oe,validateInt32:ae,validateInteger:U,validateNumber:re,validateObject:J,validateOneOf:F,validatePlainFunction:M,validatePort:Y,validateSignalName:ne,validateString:K,validateUint32:Q,validateUndefined:q,validateUnion:ee,validateAbortSignal:ye,validateLinkHeaderValue:me}}),yr=de((r,o)=>{le(),fe(),ue();var s=o.exports={},l,u;function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=e}catch{l=e}try{typeof clearTimeout=="function"?u=clearTimeout:u=n}catch{u=n}})();function i(E){if(l===setTimeout)return setTimeout(E,0);if((l===e||!l)&&setTimeout)return l=setTimeout,setTimeout(E,0);try{return l(E,0)}catch{try{return l.call(null,E,0)}catch{return l.call(this,E,0)}}}function t(E){if(u===clearTimeout)return clearTimeout(E);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(E);try{return u(E)}catch{try{return u.call(null,E)}catch{return u.call(this,E)}}}var a=[],f=!1,d,p=-1;function b(){!f||!d||(f=!1,d.length?a=d.concat(a):p=-1,a.length&&c())}function c(){if(!f){var E=i(b);f=!0;for(var g=a.length;g;){for(d=a,a=[];++p<g;)d&&d[p].run();p=-1,g=a.length}d=null,f=!1,t(E)}}s.nextTick=function(E){var g=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)g[_-1]=arguments[_];a.push(new y(E,g)),a.length===1&&!f&&i(c)};function y(E,g){this.fun=E,this.array=g}y.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function m(){}s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(E){return[]},s.binding=function(E){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(E){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}}),Ft=de((r,o)=>{le(),fe(),ue();var{SymbolAsyncIterator:s,SymbolIterator:l,SymbolFor:u}=Be(),e=u("nodejs.stream.destroyed"),n=u("nodejs.stream.errored"),i=u("nodejs.stream.readable"),t=u("nodejs.stream.writable"),a=u("nodejs.stream.disturbed"),f=u("nodejs.webstream.isClosedPromise"),d=u("nodejs.webstream.controllerErrorFunction");function p(C,J=!1){var be;return!!(C&&typeof C.pipe=="function"&&typeof C.on=="function"&&(!J||typeof C.pause=="function"&&typeof C.resume=="function")&&(!C._writableState||((be=C._readableState)===null||be===void 0?void 0:be.readable)!==!1)&&(!C._writableState||C._readableState))}function b(C){var J;return!!(C&&typeof C.write=="function"&&typeof C.on=="function"&&(!C._readableState||((J=C._writableState)===null||J===void 0?void 0:J.writable)!==!1))}function c(C){return!!(C&&typeof C.pipe=="function"&&C._readableState&&typeof C.on=="function"&&typeof C.write=="function")}function y(C){return C&&(C._readableState||C._writableState||typeof C.write=="function"&&typeof C.on=="function"||typeof C.pipe=="function"&&typeof C.on=="function")}function m(C){return!!(C&&!y(C)&&typeof C.pipeThrough=="function"&&typeof C.getReader=="function"&&typeof C.cancel=="function")}function E(C){return!!(C&&!y(C)&&typeof C.getWriter=="function"&&typeof C.abort=="function")}function g(C){return!!(C&&!y(C)&&typeof C.readable=="object"&&typeof C.writable=="object")}function _(C){return m(C)||E(C)||g(C)}function A(C,J){return C==null?!1:J===!0?typeof C[s]=="function":J===!1?typeof C[l]=="function":typeof C[s]=="function"||typeof C[l]=="function"}function v(C){if(!y(C))return null;let J=C._writableState,be=C._readableState,te=J||be;return!!(C.destroyed||C[e]||te!=null&&te.destroyed)}function I(C){if(!b(C))return null;if(C.writableEnded===!0)return!0;let J=C._writableState;return J!=null&&J.errored?!1:typeof J?.ended!="boolean"?null:J.ended}function S(C,J){if(!b(C))return null;if(C.writableFinished===!0)return!0;let be=C._writableState;return be!=null&&be.errored?!1:typeof be?.finished!="boolean"?null:!!(be.finished||J===!1&&be.ended===!0&&be.length===0)}function k(C){if(!p(C))return null;if(C.readableEnded===!0)return!0;let J=C._readableState;return!J||J.errored?!1:typeof J?.ended!="boolean"?null:J.ended}function P(C,J){if(!p(C))return null;let be=C._readableState;return be!=null&&be.errored?!1:typeof be?.endEmitted!="boolean"?null:!!(be.endEmitted||J===!1&&be.ended===!0&&be.length===0)}function R(C){return C&&C[i]!=null?C[i]:typeof C?.readable!="boolean"?null:v(C)?!1:p(C)&&C.readable&&!P(C)}function B(C){return C&&C[t]!=null?C[t]:typeof C?.writable!="boolean"?null:v(C)?!1:b(C)&&C.writable&&!I(C)}function T(C,J){return y(C)?v(C)?!0:!(J?.readable!==!1&&R(C)||J?.writable!==!1&&B(C)):null}function W(C){var J,be;return y(C)?C.writableErrored?C.writableErrored:(J=(be=C._writableState)===null||be===void 0?void 0:be.errored)!==null&&J!==void 0?J:null:null}function L(C){var J,be;return y(C)?C.readableErrored?C.readableErrored:(J=(be=C._readableState)===null||be===void 0?void 0:be.errored)!==null&&J!==void 0?J:null:null}function U(C){if(!y(C))return null;if(typeof C.closed=="boolean")return C.closed;let J=C._writableState,be=C._readableState;return typeof J?.closed=="boolean"||typeof be?.closed=="boolean"?J?.closed||be?.closed:typeof C._closed=="boolean"&&ae(C)?C._closed:null}function ae(C){return typeof C._closed=="boolean"&&typeof C._defaultKeepAlive=="boolean"&&typeof C._removedConnection=="boolean"&&typeof C._removedContLen=="boolean"}function Q(C){return typeof C._sent100=="boolean"&&ae(C)}function K(C){var J;return typeof C._consuming=="boolean"&&typeof C._dumped=="boolean"&&((J=C.req)===null||J===void 0?void 0:J.upgradeOrConnect)===void 0}function re(C){if(!y(C))return null;let J=C._writableState,be=C._readableState,te=J||be;return!te&&Q(C)||!!(te&&te.autoDestroy&&te.emitClose&&te.closed===!1)}function F(C){var J;return!!(C&&((J=C[a])!==null&&J!==void 0?J:C.readableDidRead||C.readableAborted))}function Z(C){var J,be,te,_e,H,N,ne,V,G,Y;return!!(C&&((J=(be=(te=(_e=(H=(N=C[n])!==null&&N!==void 0?N:C.readableErrored)!==null&&H!==void 0?H:C.writableErrored)!==null&&_e!==void 0?_e:(ne=C._readableState)===null||ne===void 0?void 0:ne.errorEmitted)!==null&&te!==void 0?te:(V=C._writableState)===null||V===void 0?void 0:V.errorEmitted)!==null&&be!==void 0?be:(G=C._readableState)===null||G===void 0?void 0:G.errored)!==null&&J!==void 0?J:!((Y=C._writableState)===null||Y===void 0)&&Y.errored))}o.exports={isDestroyed:v,kIsDestroyed:e,isDisturbed:F,kIsDisturbed:a,isErrored:Z,kIsErrored:n,isReadable:R,kIsReadable:i,kIsClosedPromise:f,kControllerErrorFunction:d,kIsWritable:t,isClosed:U,isDuplexNodeStream:c,isFinished:T,isIterable:A,isReadableNodeStream:p,isReadableStream:m,isReadableEnded:k,isReadableFinished:P,isReadableErrored:L,isNodeStream:y,isWebStream:_,isWritable:B,isWritableNodeStream:b,isWritableStream:E,isWritableEnded:I,isWritableFinished:S,isWritableErrored:W,isServerRequest:K,isServerResponse:Q,willEmitClose:re,isTransformStream:g}}),er=de((r,o)=>{le(),fe(),ue();var s=yr(),{AbortError:l,codes:u}=Ze(),{ERR_INVALID_ARG_TYPE:e,ERR_STREAM_PREMATURE_CLOSE:n}=u,{kEmptyObject:i,once:t}=tt(),{validateAbortSignal:a,validateFunction:f,validateObject:d,validateBoolean:p}=sn(),{Promise:b,PromisePrototypeThen:c,SymbolDispose:y}=Be(),{isClosed:m,isReadable:E,isReadableNodeStream:g,isReadableStream:_,isReadableFinished:A,isReadableErrored:v,isWritable:I,isWritableNodeStream:S,isWritableStream:k,isWritableFinished:P,isWritableErrored:R,isNodeStream:B,willEmitClose:T,kIsClosedPromise:W}=Ft(),L;function U(F){return F.setHeader&&typeof F.abort=="function"}var ae=()=>{};function Q(F,Z,C){var J,be;if(arguments.length===2?(C=Z,Z=i):Z==null?Z=i:d(Z,"options"),f(C,"callback"),a(Z.signal,"options.signal"),C=t(C),_(F)||k(F))return K(F,Z,C);if(!B(F))throw new e("stream",["ReadableStream","WritableStream","Stream"],F);let te=(J=Z.readable)!==null&&J!==void 0?J:g(F),_e=(be=Z.writable)!==null&&be!==void 0?be:S(F),H=F._writableState,N=F._readableState,ne=()=>{F.writable||Y()},V=T(F)&&g(F)===te&&S(F)===_e,G=P(F,!1),Y=()=>{G=!0,F.destroyed&&(V=!1),!(V&&(!F.readable||te))&&(!te||ye)&&C.call(F)},ye=A(F,!1),oe=()=>{ye=!0,F.destroyed&&(V=!1),!(V&&(!F.writable||_e))&&(!_e||G)&&C.call(F)},M=$=>{C.call(F,$)},q=m(F),ee=()=>{q=!0;let $=R(F)||v(F);if($&&typeof $!="boolean")return C.call(F,$);if(te&&!ye&&g(F,!0)&&!A(F,!1))return C.call(F,new n);if(_e&&!G&&!P(F,!1))return C.call(F,new n);C.call(F)},he=()=>{q=!0;let $=R(F)||v(F);if($&&typeof $!="boolean")return C.call(F,$);C.call(F)},pe=()=>{F.req.on("finish",Y)};U(F)?(F.on("complete",Y),V||F.on("abort",ee),F.req?pe():F.on("request",pe)):_e&&!H&&(F.on("end",ne),F.on("close",ne)),!V&&typeof F.aborted=="boolean"&&F.on("aborted",ee),F.on("end",oe),F.on("finish",Y),Z.error!==!1&&F.on("error",M),F.on("close",ee),q?s.nextTick(ee):H!=null&&H.errorEmitted||N!=null&&N.errorEmitted?V||s.nextTick(he):(!te&&(!V||E(F))&&(G||I(F)===!1)||!_e&&(!V||I(F))&&(ye||E(F)===!1)||N&&F.req&&F.aborted)&&s.nextTick(he);let me=()=>{C=ae,F.removeListener("aborted",ee),F.removeListener("complete",Y),F.removeListener("abort",ee),F.removeListener("request",pe),F.req&&F.req.removeListener("finish",Y),F.removeListener("end",ne),F.removeListener("close",ne),F.removeListener("finish",Y),F.removeListener("end",oe),F.removeListener("error",M),F.removeListener("close",ee)};if(Z.signal&&!q){let $=()=>{let ge=C;me(),ge.call(F,new l(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)s.nextTick($);else{L=L||tt().addAbortListener;let ge=L(Z.signal,$),ve=C;C=t((...se)=>{ge[y](),ve.apply(F,se)})}}return me}function K(F,Z,C){let J=!1,be=ae;if(Z.signal)if(be=()=>{J=!0,C.call(F,new l(void 0,{cause:Z.signal.reason}))},Z.signal.aborted)s.nextTick(be);else{L=L||tt().addAbortListener;let _e=L(Z.signal,be),H=C;C=t((...N)=>{_e[y](),H.apply(F,N)})}let te=(..._e)=>{J||s.nextTick(()=>C.apply(F,_e))};return c(F[W].promise,te,te),ae}function re(F,Z){var C;let J=!1;return Z===null&&(Z=i),(C=Z)!==null&&C!==void 0&&C.cleanup&&(p(Z.cleanup,"cleanup"),J=Z.cleanup),new b((be,te)=>{let _e=Q(F,Z,H=>{J&&_e(),H?te(H):be()})})}o.exports=Q,o.exports.finished=re}),jr=de((r,o)=>{le(),fe(),ue();var s=yr(),{aggregateTwoErrors:l,codes:{ERR_MULTIPLE_CALLBACK:u},AbortError:e}=Ze(),{Symbol:n}=Be(),{kIsDestroyed:i,isDestroyed:t,isFinished:a,isServerRequest:f}=Ft(),d=n("kDestroy"),p=n("kConstruct");function b(T,W,L){T&&(T.stack,W&&!W.errored&&(W.errored=T),L&&!L.errored&&(L.errored=T))}function c(T,W){let L=this._readableState,U=this._writableState,ae=U||L;return U!=null&&U.destroyed||L!=null&&L.destroyed?(typeof W=="function"&&W(),this):(b(T,U,L),U&&(U.destroyed=!0),L&&(L.destroyed=!0),ae.constructed?y(this,T,W):this.once(d,function(Q){y(this,l(Q,T),W)}),this)}function y(T,W,L){let U=!1;function ae(Q){if(U)return;U=!0;let K=T._readableState,re=T._writableState;b(Q,re,K),re&&(re.closed=!0),K&&(K.closed=!0),typeof L=="function"&&L(Q),Q?s.nextTick(m,T,Q):s.nextTick(E,T)}try{T._destroy(W||null,ae)}catch(Q){ae(Q)}}function m(T,W){g(T,W),E(T)}function E(T){let W=T._readableState,L=T._writableState;L&&(L.closeEmitted=!0),W&&(W.closeEmitted=!0),(L!=null&&L.emitClose||W!=null&&W.emitClose)&&T.emit("close")}function g(T,W){let L=T._readableState,U=T._writableState;U!=null&&U.errorEmitted||L!=null&&L.errorEmitted||(U&&(U.errorEmitted=!0),L&&(L.errorEmitted=!0),T.emit("error",W))}function _(){let T=this._readableState,W=this._writableState;T&&(T.constructed=!0,T.closed=!1,T.closeEmitted=!1,T.destroyed=!1,T.errored=null,T.errorEmitted=!1,T.reading=!1,T.ended=T.readable===!1,T.endEmitted=T.readable===!1),W&&(W.constructed=!0,W.destroyed=!1,W.closed=!1,W.closeEmitted=!1,W.errored=null,W.errorEmitted=!1,W.finalCalled=!1,W.prefinished=!1,W.ended=W.writable===!1,W.ending=W.writable===!1,W.finished=W.writable===!1)}function A(T,W,L){let U=T._readableState,ae=T._writableState;if(ae!=null&&ae.destroyed||U!=null&&U.destroyed)return this;U!=null&&U.autoDestroy||ae!=null&&ae.autoDestroy?T.destroy(W):W&&(W.stack,ae&&!ae.errored&&(ae.errored=W),U&&!U.errored&&(U.errored=W),L?s.nextTick(g,T,W):g(T,W))}function v(T,W){if(typeof T._construct!="function")return;let L=T._readableState,U=T._writableState;L&&(L.constructed=!1),U&&(U.constructed=!1),T.once(p,W),!(T.listenerCount(p)>1)&&s.nextTick(I,T)}function I(T){let W=!1;function L(U){if(W){A(T,U??new u);return}W=!0;let ae=T._readableState,Q=T._writableState,K=Q||ae;ae&&(ae.constructed=!0),Q&&(Q.constructed=!0),K.destroyed?T.emit(d,U):U?A(T,U,!0):s.nextTick(S,T)}try{T._construct(U=>{s.nextTick(L,U)})}catch(U){s.nextTick(L,U)}}function S(T){T.emit(p)}function k(T){return T?.setHeader&&typeof T.abort=="function"}function P(T){T.emit("close")}function R(T,W){T.emit("error",W),s.nextTick(P,T)}function B(T,W){!T||t(T)||(!W&&!a(T)&&(W=new e),f(T)?(T.socket=null,T.destroy(W)):k(T)?T.abort():k(T.req)?T.req.abort():typeof T.destroy=="function"?T.destroy(W):typeof T.close=="function"?T.close():W?s.nextTick(R,T,W):s.nextTick(P,T),T.destroyed||(T[i]=!0))}o.exports={construct:v,destroyer:B,destroy:c,undestroy:_,errorOrDestroy:A}}),Os=de((r,o)=>{le(),fe(),ue();var{ArrayIsArray:s,ObjectSetPrototypeOf:l}=Be(),{EventEmitter:u}=(gr(),Ce(Zt));function e(i){u.call(this,i)}l(e.prototype,u.prototype),l(e,u),e.prototype.pipe=function(i,t){let a=this;function f(E){i.writable&&i.write(E)===!1&&a.pause&&a.pause()}a.on("data",f);function d(){a.readable&&a.resume&&a.resume()}i.on("drain",d),!i._isStdio&&(!t||t.end!==!1)&&(a.on("end",b),a.on("close",c));let p=!1;function b(){p||(p=!0,i.end())}function c(){p||(p=!0,typeof i.destroy=="function"&&i.destroy())}function y(E){m(),u.listenerCount(this,"error")===0&&this.emit("error",E)}n(a,"error",y),n(i,"error",y);function m(){a.removeListener("data",f),i.removeListener("drain",d),a.removeListener("end",b),a.removeListener("close",c),a.removeListener("error",y),i.removeListener("error",y),a.removeListener("end",m),a.removeListener("close",m),i.removeListener("close",m)}return a.on("end",m),a.on("close",m),i.on("close",m),i.emit("pipe",a),i};function n(i,t,a){if(typeof i.prependListener=="function")return i.prependListener(t,a);!i._events||!i._events[t]?i.on(t,a):s(i._events[t])?i._events[t].unshift(a):i._events[t]=[a,i._events[t]]}o.exports={Stream:e,prependListener:n}}),Jn=de((r,o)=>{le(),fe(),ue();var{SymbolDispose:s}=Be(),{AbortError:l,codes:u}=Ze(),{isNodeStream:e,isWebStream:n,kControllerErrorFunction:i}=Ft(),t=er(),{ERR_INVALID_ARG_TYPE:a}=u,f,d=(p,b)=>{if(typeof p!="object"||!("aborted"in p))throw new a(b,"AbortSignal",p)};o.exports.addAbortSignal=function(p,b){if(d(p,"signal"),!e(b)&&!n(b))throw new a("stream",["ReadableStream","WritableStream","Stream"],b);return o.exports.addAbortSignalNoValidate(p,b)},o.exports.addAbortSignalNoValidate=function(p,b){if(typeof p!="object"||!("aborted"in p))return b;let c=e(b)?()=>{b.destroy(new l(void 0,{cause:p.reason}))}:()=>{b[i](new l(void 0,{cause:p.reason}))};if(p.aborted)c();else{f=f||tt().addAbortListener;let y=f(p,c);t(b,y[s])}return b}}),ih=de((r,o)=>{le(),fe(),ue();var{StringPrototypeSlice:s,SymbolIterator:l,TypedArrayPrototypeSet:u,Uint8Array:e}=Be(),{Buffer:n}=(Fe(),Ce(De)),{inspect:i}=tt();o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(t){let a={data:t,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length}unshift(t){let a={data:t,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length}shift(){if(this.length===0)return;let t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}clear(){this.head=this.tail=null,this.length=0}join(t){if(this.length===0)return"";let a=this.head,f=""+a.data;for(;(a=a.next)!==null;)f+=t+a.data;return f}concat(t){if(this.length===0)return n.alloc(0);let a=n.allocUnsafe(t>>>0),f=this.head,d=0;for(;f;)u(a,f.data,d),d+=f.data.length,f=f.next;return a}consume(t,a){let f=this.head.data;if(t<f.length){let d=f.slice(0,t);return this.head.data=f.slice(t),d}return t===f.length?this.shift():a?this._getString(t):this._getBuffer(t)}first(){return this.head.data}*[l](){for(let t=this.head;t;t=t.next)yield t.data}_getString(t){let a="",f=this.head,d=0;do{let p=f.data;if(t>p.length)a+=p,t-=p.length;else{t===p.length?(a+=p,++d,f.next?this.head=f.next:this.head=this.tail=null):(a+=s(p,0,t),this.head=f,f.data=s(p,t));break}++d}while((f=f.next)!==null);return this.length-=d,a}_getBuffer(t){let a=n.allocUnsafe(t),f=t,d=this.head,p=0;do{let b=d.data;if(t>b.length)u(a,b,f-t),t-=b.length;else{t===b.length?(u(a,b,f-t),++p,d.next?this.head=d.next:this.head=this.tail=null):(u(a,new e(b.buffer,b.byteOffset,t),f-t),this.head=d,d.data=b.slice(t));break}++p}while((d=d.next)!==null);return this.length-=p,a}[Symbol.for("nodejs.util.inspect.custom")](t,a){return i(this,{...a,depth:0,customInspect:!1})}}}),Xn=de((r,o)=>{le(),fe(),ue();var{MathFloor:s,NumberIsInteger:l}=Be(),{validateInteger:u}=sn(),{ERR_INVALID_ARG_VALUE:e}=Ze().codes,n=16*1024,i=16;function t(p,b,c){return p.highWaterMark!=null?p.highWaterMark:b?p[c]:null}function a(p){return p?i:n}function f(p,b){u(b,"value",0),p?i=b:n=b}function d(p,b,c,y){let m=t(b,y,c);if(m!=null){if(!l(m)||m<0){let E=y?`options.${c}`:"options.highWaterMark";throw new e(E,m)}return s(m)}return a(p.objectMode)}o.exports={getHighWaterMark:d,getDefaultHighWaterMark:a,setDefaultHighWaterMark:f}}),oh=de((r,o)=>{le(),fe(),ue();var s=(Fe(),Ce(De)),l=s.Buffer;function u(n,i){for(var t in n)i[t]=n[t]}l.from&&l.alloc&&l.allocUnsafe&&l.allocUnsafeSlow?o.exports=s:(u(s,r),r.Buffer=e);function e(n,i,t){return l(n,i,t)}e.prototype=Object.create(l.prototype),u(l,e),e.from=function(n,i,t){if(typeof n=="number")throw new TypeError("Argument must not be a number");return l(n,i,t)},e.alloc=function(n,i,t){if(typeof n!="number")throw new TypeError("Argument must be a number");var a=l(n);return i!==void 0?typeof t=="string"?a.fill(i,t):a.fill(i):a.fill(0),a},e.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return l(n)},e.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(n)}}),sh=de(r=>{le(),fe(),ue();var o=oh().Buffer,s=o.isEncoding||function(g){switch(g=""+g,g&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function l(g){if(!g)return"utf8";for(var _;;)switch(g){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return g;default:if(_)return;g=(""+g).toLowerCase(),_=!0}}function u(g){var _=l(g);if(typeof _!="string"&&(o.isEncoding===s||!s(g)))throw new Error("Unknown encoding: "+g);return _||g}r.StringDecoder=e;function e(g){this.encoding=u(g);var _;switch(this.encoding){case"utf16le":this.text=p,this.end=b,_=4;break;case"utf8":this.fillLast=a,_=4;break;case"base64":this.text=c,this.end=y,_=3;break;default:this.write=m,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(_)}e.prototype.write=function(g){if(g.length===0)return"";var _,A;if(this.lastNeed){if(_=this.fillLast(g),_===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<g.length?_?_+this.text(g,A):this.text(g,A):_||""},e.prototype.end=d,e.prototype.text=f,e.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length};function n(g){return g<=127?0:g>>5===6?2:g>>4===14?3:g>>3===30?4:g>>6===2?-1:-2}function i(g,_,A){var v=_.length-1;if(v<A)return 0;var I=n(_[v]);return I>=0?(I>0&&(g.lastNeed=I-1),I):--v<A||I===-2?0:(I=n(_[v]),I>=0?(I>0&&(g.lastNeed=I-2),I):--v<A||I===-2?0:(I=n(_[v]),I>=0?(I>0&&(I===2?I=0:g.lastNeed=I-3),I):0))}function t(g,_,A){if((_[0]&192)!==128)return g.lastNeed=0,"";if(g.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return g.lastNeed=1,"";if(g.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return g.lastNeed=2,""}}function a(g){var _=this.lastTotal-this.lastNeed,A=t(this,g);if(A!==void 0)return A;if(this.lastNeed<=g.length)return g.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,_,0,g.length),this.lastNeed-=g.length}function f(g,_){var A=i(this,g,_);if(!this.lastNeed)return g.toString("utf8",_);this.lastTotal=A;var v=g.length-(A-this.lastNeed);return g.copy(this.lastChar,0,v),g.toString("utf8",_,v)}function d(g){var _=g&&g.length?this.write(g):"";return this.lastNeed?_+"":_}function p(g,_){if((g.length-_)%2===0){var A=g.toString("utf16le",_);if(A){var v=A.charCodeAt(A.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",_,g.length-1)}function b(g){var _=g&&g.length?this.write(g):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,A)}return _}function c(g,_){var A=(g.length-_)%3;return A===0?g.toString("base64",_):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",_,g.length-A))}function y(g){var _=g&&g.length?this.write(g):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function m(g){return g.toString(this.encoding)}function E(g){return g&&g.length?this.write(g):""}}),gu=de((r,o)=>{le(),fe(),ue();var s=yr(),{PromisePrototypeThen:l,SymbolAsyncIterator:u,SymbolIterator:e}=Be(),{Buffer:n}=(Fe(),Ce(De)),{ERR_INVALID_ARG_TYPE:i,ERR_STREAM_NULL_VALUES:t}=Ze().codes;function a(f,d,p){let b;if(typeof d=="string"||d instanceof n)return new f({objectMode:!0,...p,read(){this.push(d),this.push(null)}});let c;if(d&&d[u])c=!0,b=d[u]();else if(d&&d[e])c=!1,b=d[e]();else throw new i("iterable",["Iterable"],d);let y=new f({objectMode:!0,highWaterMark:1,...p}),m=!1;y._read=function(){m||(m=!0,g())},y._destroy=function(_,A){l(E(_),()=>s.nextTick(A,_),v=>s.nextTick(A,v||_))};async function E(_){let A=_!=null,v=typeof b.throw=="function";if(A&&v){let{value:I,done:S}=await b.throw(_);if(await I,S)return}if(typeof b.return=="function"){let{value:I}=await b.return();await I}}async function g(){for(;;){try{let{value:_,done:A}=c?await b.next():b.next();if(A)y.push(null);else{let v=_&&typeof _.then=="function"?await _:_;if(v===null)throw m=!1,new t;if(y.push(v))continue;m=!1}}catch(_){y.destroy(_)}break}}return y}o.exports=a}),Zn=de((r,o)=>{le(),fe(),ue();var s=yr(),{ArrayPrototypeIndexOf:l,NumberIsInteger:u,NumberIsNaN:e,NumberParseInt:n,ObjectDefineProperties:i,ObjectKeys:t,ObjectSetPrototypeOf:a,Promise:f,SafeSet:d,SymbolAsyncDispose:p,SymbolAsyncIterator:b,Symbol:c}=Be();o.exports=se,se.ReadableState=ve;var{EventEmitter:y}=(gr(),Ce(Zt)),{Stream:m,prependListener:E}=Os(),{Buffer:g}=(Fe(),Ce(De)),{addAbortSignal:_}=Jn(),A=er(),v=tt().debuglog("stream",O=>{v=O}),I=ih(),S=jr(),{getHighWaterMark:k,getDefaultHighWaterMark:P}=Xn(),{aggregateTwoErrors:R,codes:{ERR_INVALID_ARG_TYPE:B,ERR_METHOD_NOT_IMPLEMENTED:T,ERR_OUT_OF_RANGE:W,ERR_STREAM_PUSH_AFTER_EOF:L,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:U},AbortError:ae}=Ze(),{validateObject:Q}=sn(),K=c("kPaused"),{StringDecoder:re}=sh(),F=gu();a(se.prototype,m.prototype),a(se,m);var Z=()=>{},{errorOrDestroy:C}=S,J=1,be=2,te=4,_e=8,H=16,N=32,ne=64,V=128,G=256,Y=512,ye=1024,oe=2048,M=4096,q=8192,ee=16384,he=32768,pe=65536,me=1<<17,$=1<<18;function ge(O){return{enumerable:!1,get(){return(this.state&O)!==0},set(j){j?this.state|=O:this.state&=~O}}}i(ve.prototype,{objectMode:ge(J),ended:ge(be),endEmitted:ge(te),reading:ge(_e),constructed:ge(H),sync:ge(N),needReadable:ge(ne),emittedReadable:ge(V),readableListening:ge(G),resumeScheduled:ge(Y),errorEmitted:ge(ye),emitClose:ge(oe),autoDestroy:ge(M),destroyed:ge(q),closed:ge(ee),closeEmitted:ge(he),multiAwaitDrain:ge(pe),readingMore:ge(me),dataEmitted:ge($)});function ve(O,j,we){typeof we!="boolean"&&(we=j instanceof Nt()),this.state=oe|M|H|N,O&&O.objectMode&&(this.state|=J),we&&O&&O.readableObjectMode&&(this.state|=J),this.highWaterMark=O?k(this,O,"readableHighWaterMark",we):P(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[K]=null,O&&O.emitClose===!1&&(this.state&=~oe),O&&O.autoDestroy===!1&&(this.state&=~M),this.errored=null,this.defaultEncoding=O&&O.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,O&&O.encoding&&(this.decoder=new re(O.encoding),this.encoding=O.encoding)}function se(O){if(!(this instanceof se))return new se(O);let j=this instanceof Nt();this._readableState=new ve(O,this,j),O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.construct=="function"&&(this._construct=O.construct),O.signal&&!j&&_(O.signal,this)),m.call(this,O),S.construct(this,()=>{this._readableState.needReadable&&z(this,this._readableState)})}se.prototype.destroy=S.destroy,se.prototype._undestroy=S.undestroy,se.prototype._destroy=function(O,j){j(O)},se.prototype[y.captureRejectionSymbol]=function(O){this.destroy(O)},se.prototype[p]=function(){let O;return this.destroyed||(O=this.readableEnded?null:new ae,this.destroy(O)),new f((j,we)=>A(this,Se=>Se&&Se!==O?we(Se):j(null)))},se.prototype.push=function(O,j){return Te(this,O,j,!1)},se.prototype.unshift=function(O,j){return Te(this,O,j,!0)};function Te(O,j,we,Se){v("readableAddChunk",j);let Ae=O._readableState,Le;if((Ae.state&J)===0&&(typeof j=="string"?(we=we||Ae.defaultEncoding,Ae.encoding!==we&&(Se&&Ae.encoding?j=g.from(j,we).toString(Ae.encoding):(j=g.from(j,we),we=""))):j instanceof g?we="":m._isUint8Array(j)?(j=m._uint8ArrayToBuffer(j),we=""):j!=null&&(Le=new B("chunk",["string","Buffer","Uint8Array"],j))),Le)C(O,Le);else if(j===null)Ae.state&=~_e,X(O,Ae);else if((Ae.state&J)!==0||j&&j.length>0)if(Se)if((Ae.state&te)!==0)C(O,new U);else{if(Ae.destroyed||Ae.errored)return!1;h(O,Ae,j,!0)}else if(Ae.ended)C(O,new L);else{if(Ae.destroyed||Ae.errored)return!1;Ae.state&=~_e,Ae.decoder&&!we?(j=Ae.decoder.write(j),Ae.objectMode||j.length!==0?h(O,Ae,j,!1):z(O,Ae)):h(O,Ae,j,!1)}else Se||(Ae.state&=~_e,z(O,Ae));return!Ae.ended&&(Ae.length<Ae.highWaterMark||Ae.length===0)}function h(O,j,we,Se){j.flowing&&j.length===0&&!j.sync&&O.listenerCount("data")>0?((j.state&pe)!==0?j.awaitDrainWriters.clear():j.awaitDrainWriters=null,j.dataEmitted=!0,O.emit("data",we)):(j.length+=j.objectMode?1:we.length,Se?j.buffer.unshift(we):j.buffer.push(we),(j.state&ne)!==0&&ce(O)),z(O,j)}se.prototype.isPaused=function(){let O=this._readableState;return O[K]===!0||O.flowing===!1},se.prototype.setEncoding=function(O){let j=new re(O);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;let we=this._readableState.buffer,Se="";for(let Ae of we)Se+=j.write(Ae);return we.clear(),Se!==""&&we.push(Se),this._readableState.length=Se.length,this};var w=1073741824;function x(O){if(O>w)throw new W("size","<= 1GiB",O);return O--,O|=O>>>1,O|=O>>>2,O|=O>>>4,O|=O>>>8,O|=O>>>16,O++,O}function D(O,j){return O<=0||j.length===0&&j.ended?0:(j.state&J)!==0?1:e(O)?j.flowing&&j.length?j.buffer.first().length:j.length:O<=j.length?O:j.ended?j.length:0}se.prototype.read=function(O){v("read",O),O===void 0?O=NaN:u(O)||(O=n(O,10));let j=this._readableState,we=O;if(O>j.highWaterMark&&(j.highWaterMark=x(O)),O!==0&&(j.state&=~V),O===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return v("read: emitReadable",j.length,j.ended),j.length===0&&j.ended?mt(this):ce(this),null;if(O=D(O,j),O===0&&j.ended)return j.length===0&&mt(this),null;let Se=(j.state&ne)!==0;if(v("need readable",Se),(j.length===0||j.length-O<j.highWaterMark)&&(Se=!0,v("length less than watermark",Se)),j.ended||j.reading||j.destroyed||j.errored||!j.constructed)Se=!1,v("reading, ended or constructing",Se);else if(Se){v("do read"),j.state|=_e|N,j.length===0&&(j.state|=ne);try{this._read(j.highWaterMark)}catch(Le){C(this,Le)}j.state&=~N,j.reading||(O=D(we,j))}let Ae;return O>0?Ae=mr(O,j):Ae=null,Ae===null?(j.needReadable=j.length<=j.highWaterMark,O=0):(j.length-=O,j.multiAwaitDrain?j.awaitDrainWriters.clear():j.awaitDrainWriters=null),j.length===0&&(j.ended||(j.needReadable=!0),we!==O&&j.ended&&mt(this)),Ae!==null&&!j.errorEmitted&&!j.closeEmitted&&(j.dataEmitted=!0,this.emit("data",Ae)),Ae};function X(O,j){if(v("onEofChunk"),!j.ended){if(j.decoder){let we=j.decoder.end();we&&we.length&&(j.buffer.push(we),j.length+=j.objectMode?1:we.length)}j.ended=!0,j.sync?ce(O):(j.needReadable=!1,j.emittedReadable=!0,Ee(O))}}function ce(O){let j=O._readableState;v("emitReadable",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(v("emitReadable",j.flowing),j.emittedReadable=!0,s.nextTick(Ee,O))}function Ee(O){let j=O._readableState;v("emitReadable_",j.destroyed,j.length,j.ended),!j.destroyed&&!j.errored&&(j.length||j.ended)&&(O.emit("readable"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,yt(O)}function z(O,j){!j.readingMore&&j.constructed&&(j.readingMore=!0,s.nextTick(ie,O,j))}function ie(O,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){let we=j.length;if(v("maybeReadMore read 0"),O.read(0),we===j.length)break}j.readingMore=!1}se.prototype._read=function(O){throw new T("_read()")},se.prototype.pipe=function(O,j){let we=this,Se=this._readableState;Se.pipes.length===1&&(Se.multiAwaitDrain||(Se.multiAwaitDrain=!0,Se.awaitDrainWriters=new d(Se.awaitDrainWriters?[Se.awaitDrainWriters]:[]))),Se.pipes.push(O),v("pipe count=%d opts=%j",Se.pipes.length,j);let Ae=(!j||j.end!==!1)&&O!==s.stdout&&O!==s.stderr?Qe:rr;Se.endEmitted?s.nextTick(Ae):we.once("end",Ae),O.on("unpipe",Le);function Le(_t,Tt){v("onunpipe"),_t===we&&Tt&&Tt.hasUnpiped===!1&&(Tt.hasUnpiped=!0,Dr())}function Qe(){v("onend"),O.end()}let ct,Lr=!1;function Dr(){v("cleanup"),O.removeListener("close",vt),O.removeListener("finish",$t),ct&&O.removeListener("drain",ct),O.removeListener("error",tr),O.removeListener("unpipe",Le),we.removeListener("end",Qe),we.removeListener("end",rr),we.removeListener("data",un),Lr=!0,ct&&Se.awaitDrainWriters&&(!O._writableState||O._writableState.needDrain)&&ct()}function Fr(){Lr||(Se.pipes.length===1&&Se.pipes[0]===O?(v("false write response, pause",0),Se.awaitDrainWriters=O,Se.multiAwaitDrain=!1):Se.pipes.length>1&&Se.pipes.includes(O)&&(v("false write response, pause",Se.awaitDrainWriters.size),Se.awaitDrainWriters.add(O)),we.pause()),ct||(ct=Ie(we,O),O.on("drain",ct))}we.on("data",un);function un(_t){v("ondata");let Tt=O.write(_t);v("dest.write",Tt),Tt===!1&&Fr()}function tr(_t){if(v("onerror",_t),rr(),O.removeListener("error",tr),O.listenerCount("error")===0){let Tt=O._writableState||O._readableState;Tt&&!Tt.errorEmitted?C(O,_t):O.emit("error",_t)}}E(O,"error",tr);function vt(){O.removeListener("finish",$t),rr()}O.once("close",vt);function $t(){v("onfinish"),O.removeListener("close",vt),rr()}O.once("finish",$t);function rr(){v("unpipe"),we.unpipe(O)}return O.emit("pipe",we),O.writableNeedDrain===!0?Fr():Se.flowing||(v("pipe resume"),we.resume()),O};function Ie(O,j){return function(){let we=O._readableState;we.awaitDrainWriters===j?(v("pipeOnDrain",1),we.awaitDrainWriters=null):we.multiAwaitDrain&&(v("pipeOnDrain",we.awaitDrainWriters.size),we.awaitDrainWriters.delete(j)),(!we.awaitDrainWriters||we.awaitDrainWriters.size===0)&&O.listenerCount("data")&&O.resume()}}se.prototype.unpipe=function(O){let j=this._readableState,we={hasUnpiped:!1};if(j.pipes.length===0)return this;if(!O){let Ae=j.pipes;j.pipes=[],this.pause();for(let Le=0;Le<Ae.length;Le++)Ae[Le].emit("unpipe",this,{hasUnpiped:!1});return this}let Se=l(j.pipes,O);return Se===-1?this:(j.pipes.splice(Se,1),j.pipes.length===0&&this.pause(),O.emit("unpipe",this,we),this)},se.prototype.on=function(O,j){let we=m.prototype.on.call(this,O,j),Se=this._readableState;return O==="data"?(Se.readableListening=this.listenerCount("readable")>0,Se.flowing!==!1&&this.resume()):O==="readable"&&!Se.endEmitted&&!Se.readableListening&&(Se.readableListening=Se.needReadable=!0,Se.flowing=!1,Se.emittedReadable=!1,v("on readable",Se.length,Se.reading),Se.length?ce(this):Se.reading||s.nextTick(ke,this)),we},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(O,j){let we=m.prototype.removeListener.call(this,O,j);return O==="readable"&&s.nextTick(xe,this),we},se.prototype.off=se.prototype.removeListener,se.prototype.removeAllListeners=function(O){let j=m.prototype.removeAllListeners.apply(this,arguments);return(O==="readable"||O===void 0)&&s.nextTick(xe,this),j};function xe(O){let j=O._readableState;j.readableListening=O.listenerCount("readable")>0,j.resumeScheduled&&j[K]===!1?j.flowing=!0:O.listenerCount("data")>0?O.resume():j.readableListening||(j.flowing=null)}function ke(O){v("readable nexttick read 0"),O.read(0)}se.prototype.resume=function(){let O=this._readableState;return O.flowing||(v("resume"),O.flowing=!O.readableListening,Oe(this,O)),O[K]=!1,this};function Oe(O,j){j.resumeScheduled||(j.resumeScheduled=!0,s.nextTick(gt,O,j))}function gt(O,j){v("resume",j.reading),j.reading||O.read(0),j.resumeScheduled=!1,O.emit("resume"),yt(O),j.flowing&&!j.reading&&O.read(0)}se.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[K]=!0,this};function yt(O){let j=O._readableState;for(v("flow",j.flowing);j.flowing&&O.read()!==null;);}se.prototype.wrap=function(O){let j=!1;O.on("data",Se=>{!this.push(Se)&&O.pause&&(j=!0,O.pause())}),O.on("end",()=>{this.push(null)}),O.on("error",Se=>{C(this,Se)}),O.on("close",()=>{this.destroy()}),O.on("destroy",()=>{this.destroy()}),this._read=()=>{j&&O.resume&&(j=!1,O.resume())};let we=t(O);for(let Se=1;Se<we.length;Se++){let Ae=we[Se];this[Ae]===void 0&&typeof O[Ae]=="function"&&(this[Ae]=O[Ae].bind(O))}return this},se.prototype[b]=function(){return We(this)},se.prototype.iterator=function(O){return O!==void 0&&Q(O,"options"),We(this,O)};function We(O,j){typeof O.read!="function"&&(O=se.wrap(O,{objectMode:!0}));let we=bt(O,j);return we.stream=O,we}async function*bt(O,j){let we=Z;function Se(Qe){this===O?(we(),we=Z):we=Qe}O.on("readable",Se);let Ae,Le=A(O,{writable:!1},Qe=>{Ae=Qe?R(Ae,Qe):null,we(),we=Z});try{for(;;){let Qe=O.destroyed?null:O.read();if(Qe!==null)yield Qe;else{if(Ae)throw Ae;if(Ae===null)return;await new f(Se)}}}catch(Qe){throw Ae=R(Ae,Qe),Ae}finally{(Ae||j?.destroyOnReturn!==!1)&&(Ae===void 0||O._readableState.autoDestroy)?S.destroyer(O,null):(O.off("readable",Se),Le())}}i(se.prototype,{readable:{__proto__:null,get(){let O=this._readableState;return!!O&&O.readable!==!1&&!O.destroyed&&!O.errorEmitted&&!O.endEmitted},set(O){this._readableState&&(this._readableState.readable=!!O)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(O){this._readableState&&(this._readableState.destroyed=O)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),i(ve.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[K]!==!1},set(O){this[K]=!!O}}}),se._fromList=mr;function mr(O,j){if(j.length===0)return null;let we;return j.objectMode?we=j.buffer.shift():!O||O>=j.length?(j.decoder?we=j.buffer.join(""):j.buffer.length===1?we=j.buffer.first():we=j.buffer.concat(j.length),j.buffer.clear()):we=j.buffer.consume(O,j.decoder),we}function mt(O){let j=O._readableState;v("endReadable",j.endEmitted),j.endEmitted||(j.ended=!0,s.nextTick(it,j,O))}function it(O,j){if(v("endReadableNT",O.endEmitted,O.length),!O.errored&&!O.closeEmitted&&!O.endEmitted&&O.length===0){if(O.endEmitted=!0,j.emit("end"),j.writable&&j.allowHalfOpen===!1)s.nextTick(ln,j);else if(O.autoDestroy){let we=j._writableState;(!we||we.autoDestroy&&(we.finished||we.writable===!1))&&j.destroy()}}}function ln(O){O.writable&&!O.writableEnded&&!O.destroyed&&O.end()}se.from=function(O,j){return F(se,O,j)};var vr;function Ur(){return vr===void 0&&(vr={}),vr}se.fromWeb=function(O,j){return Ur().newStreamReadableFromReadableStream(O,j)},se.toWeb=function(O,j){return Ur().newReadableStreamFromStreamReadable(O,j)},se.wrap=function(O,j){var we,Se;return new se({objectMode:(we=(Se=O.readableObjectMode)!==null&&Se!==void 0?Se:O.objectMode)!==null&&we!==void 0?we:!0,...j,destroy(Ae,Le){S.destroyer(O,Ae),Le(Ae)}}).wrap(O)}}),Ps=de((r,o)=>{le(),fe(),ue();var s=yr(),{ArrayPrototypeSlice:l,Error:u,FunctionPrototypeSymbolHasInstance:e,ObjectDefineProperty:n,ObjectDefineProperties:i,ObjectSetPrototypeOf:t,StringPrototypeToLowerCase:a,Symbol:f,SymbolHasInstance:d}=Be();o.exports=Q,Q.WritableState=U;var{EventEmitter:p}=(gr(),Ce(Zt)),b=Os().Stream,{Buffer:c}=(Fe(),Ce(De)),y=jr(),{addAbortSignal:m}=Jn(),{getHighWaterMark:E,getDefaultHighWaterMark:g}=Xn(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:P,ERR_STREAM_WRITE_AFTER_END:R,ERR_UNKNOWN_ENCODING:B}=Ze().codes,{errorOrDestroy:T}=y;t(Q.prototype,b.prototype),t(Q,b);function W(){}var L=f("kOnFinished");function U(M,q,ee){typeof ee!="boolean"&&(ee=q instanceof Nt()),this.objectMode=!!(M&&M.objectMode),ee&&(this.objectMode=this.objectMode||!!(M&&M.writableObjectMode)),this.highWaterMark=M?E(this,M,"writableHighWaterMark",ee):g(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let he=!!(M&&M.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=M&&M.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=C.bind(void 0,q),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ae(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!M||M.emitClose!==!1,this.autoDestroy=!M||M.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[L]=[]}function ae(M){M.buffered=[],M.bufferedIndex=0,M.allBuffers=!0,M.allNoop=!0}U.prototype.getBuffer=function(){return l(this.buffered,this.bufferedIndex)},n(U.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Q(M){let q=this instanceof Nt();if(!q&&!e(Q,this))return new Q(M);this._writableState=new U(M,this,q),M&&(typeof M.write=="function"&&(this._write=M.write),typeof M.writev=="function"&&(this._writev=M.writev),typeof M.destroy=="function"&&(this._destroy=M.destroy),typeof M.final=="function"&&(this._final=M.final),typeof M.construct=="function"&&(this._construct=M.construct),M.signal&&m(M.signal,this)),b.call(this,M),y.construct(this,()=>{let ee=this._writableState;ee.writing||_e(this,ee),V(this,ee)})}n(Q,d,{__proto__:null,value:function(M){return e(this,M)?!0:this!==Q?!1:M&&M._writableState instanceof U}}),Q.prototype.pipe=function(){T(this,new I)};function K(M,q,ee,he){let pe=M._writableState;if(typeof ee=="function")he=ee,ee=pe.defaultEncoding;else{if(!ee)ee=pe.defaultEncoding;else if(ee!=="buffer"&&!c.isEncoding(ee))throw new B(ee);typeof he!="function"&&(he=W)}if(q===null)throw new P;if(!pe.objectMode)if(typeof q=="string")pe.decodeStrings!==!1&&(q=c.from(q,ee),ee="buffer");else if(q instanceof c)ee="buffer";else if(b._isUint8Array(q))q=b._uint8ArrayToBuffer(q),ee="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],q);let me;return pe.ending?me=new R:pe.destroyed&&(me=new S("write")),me?(s.nextTick(he,me),T(M,me,!0),me):(pe.pendingcb++,re(M,pe,q,ee,he))}Q.prototype.write=function(M,q,ee){return K(this,M,q,ee)===!0},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){let M=this._writableState;M.corked&&(M.corked--,M.writing||_e(this,M))},Q.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=a(M)),!c.isEncoding(M))throw new B(M);return this._writableState.defaultEncoding=M,this};function re(M,q,ee,he,pe){let me=q.objectMode?1:ee.length;q.length+=me;let $=q.length<q.highWaterMark;return $||(q.needDrain=!0),q.writing||q.corked||q.errored||!q.constructed?(q.buffered.push({chunk:ee,encoding:he,callback:pe}),q.allBuffers&&he!=="buffer"&&(q.allBuffers=!1),q.allNoop&&pe!==W&&(q.allNoop=!1)):(q.writelen=me,q.writecb=pe,q.writing=!0,q.sync=!0,M._write(ee,he,q.onwrite),q.sync=!1),$&&!q.errored&&!q.destroyed}function F(M,q,ee,he,pe,me,$){q.writelen=he,q.writecb=$,q.writing=!0,q.sync=!0,q.destroyed?q.onwrite(new S("write")):ee?M._writev(pe,q.onwrite):M._write(pe,me,q.onwrite),q.sync=!1}function Z(M,q,ee,he){--q.pendingcb,he(ee),te(q),T(M,ee)}function C(M,q){let ee=M._writableState,he=ee.sync,pe=ee.writecb;if(typeof pe!="function"){T(M,new v);return}ee.writing=!1,ee.writecb=null,ee.length-=ee.writelen,ee.writelen=0,q?(q.stack,ee.errored||(ee.errored=q),M._readableState&&!M._readableState.errored&&(M._readableState.errored=q),he?s.nextTick(Z,M,ee,q,pe):Z(M,ee,q,pe)):(ee.buffered.length>ee.bufferedIndex&&_e(M,ee),he?ee.afterWriteTickInfo!==null&&ee.afterWriteTickInfo.cb===pe?ee.afterWriteTickInfo.count++:(ee.afterWriteTickInfo={count:1,cb:pe,stream:M,state:ee},s.nextTick(J,ee.afterWriteTickInfo)):be(M,ee,1,pe))}function J({stream:M,state:q,count:ee,cb:he}){return q.afterWriteTickInfo=null,be(M,q,ee,he)}function be(M,q,ee,he){for(!q.ending&&!M.destroyed&&q.length===0&&q.needDrain&&(q.needDrain=!1,M.emit("drain"));ee-- >0;)q.pendingcb--,he();q.destroyed&&te(q),V(M,q)}function te(M){if(M.writing)return;for(let pe=M.bufferedIndex;pe<M.buffered.length;++pe){var q;let{chunk:me,callback:$}=M.buffered[pe],ge=M.objectMode?1:me.length;M.length-=ge,$((q=M.errored)!==null&&q!==void 0?q:new S("write"))}let ee=M[L].splice(0);for(let pe=0;pe<ee.length;pe++){var he;ee[pe]((he=M.errored)!==null&&he!==void 0?he:new S("end"))}ae(M)}function _e(M,q){if(q.corked||q.bufferProcessing||q.destroyed||!q.constructed)return;let{buffered:ee,bufferedIndex:he,objectMode:pe}=q,me=ee.length-he;if(!me)return;let $=he;if(q.bufferProcessing=!0,me>1&&M._writev){q.pendingcb-=me-1;let ge=q.allNoop?W:se=>{for(let Te=$;Te<ee.length;++Te)ee[Te].callback(se)},ve=q.allNoop&&$===0?ee:l(ee,$);ve.allBuffers=q.allBuffers,F(M,q,!0,q.length,ve,"",ge),ae(q)}else{do{let{chunk:ge,encoding:ve,callback:se}=ee[$];ee[$++]=null;let Te=pe?1:ge.length;F(M,q,!1,Te,ge,ve,se)}while($<ee.length&&!q.writing);$===ee.length?ae(q):$>256?(ee.splice(0,$),q.bufferedIndex=0):q.bufferedIndex=$}q.bufferProcessing=!1}Q.prototype._write=function(M,q,ee){if(this._writev)this._writev([{chunk:M,encoding:q}],ee);else throw new A("_write()")},Q.prototype._writev=null,Q.prototype.end=function(M,q,ee){let he=this._writableState;typeof M=="function"?(ee=M,M=null,q=null):typeof q=="function"&&(ee=q,q=null);let pe;if(M!=null){let me=K(this,M,q);me instanceof u&&(pe=me)}return he.corked&&(he.corked=1,this.uncork()),pe||(!he.errored&&!he.ending?(he.ending=!0,V(this,he,!0),he.ended=!0):he.finished?pe=new k("end"):he.destroyed&&(pe=new S("end"))),typeof ee=="function"&&(pe||he.finished?s.nextTick(ee,pe):he[L].push(ee)),this};function H(M){return M.ending&&!M.destroyed&&M.constructed&&M.length===0&&!M.errored&&M.buffered.length===0&&!M.finished&&!M.writing&&!M.errorEmitted&&!M.closeEmitted}function N(M,q){let ee=!1;function he(pe){if(ee){T(M,pe??v());return}if(ee=!0,q.pendingcb--,pe){let me=q[L].splice(0);for(let $=0;$<me.length;$++)me[$](pe);T(M,pe,q.sync)}else H(q)&&(q.prefinished=!0,M.emit("prefinish"),q.pendingcb++,s.nextTick(G,M,q))}q.sync=!0,q.pendingcb++;try{M._final(he)}catch(pe){he(pe)}q.sync=!1}function ne(M,q){!q.prefinished&&!q.finalCalled&&(typeof M._final=="function"&&!q.destroyed?(q.finalCalled=!0,N(M,q)):(q.prefinished=!0,M.emit("prefinish")))}function V(M,q,ee){H(q)&&(ne(M,q),q.pendingcb===0&&(ee?(q.pendingcb++,s.nextTick((he,pe)=>{H(pe)?G(he,pe):pe.pendingcb--},M,q)):H(q)&&(q.pendingcb++,G(M,q))))}function G(M,q){q.pendingcb--,q.finished=!0;let ee=q[L].splice(0);for(let he=0;he<ee.length;he++)ee[he]();if(M.emit("finish"),q.autoDestroy){let he=M._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&M.destroy()}}i(Q.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(M){this._writableState&&(this._writableState.destroyed=M)}},writable:{__proto__:null,get(){let M=this._writableState;return!!M&&M.writable!==!1&&!M.destroyed&&!M.errored&&!M.ending&&!M.ended},set(M){this._writableState&&(this._writableState.writable=!!M)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let M=this._writableState;return M?!M.destroyed&&!M.ending&&M.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Y=y.destroy;Q.prototype.destroy=function(M,q){let ee=this._writableState;return!ee.destroyed&&(ee.bufferedIndex<ee.buffered.length||ee[L].length)&&s.nextTick(te,ee),Y.call(this,M,q),this},Q.prototype._undestroy=y.undestroy,Q.prototype._destroy=function(M,q){q(M)},Q.prototype[p.captureRejectionSymbol]=function(M){this.destroy(M)};var ye;function oe(){return ye===void 0&&(ye={}),ye}Q.fromWeb=function(M,q){return oe().newStreamWritableFromWritableStream(M,q)},Q.toWeb=function(M){return oe().newWritableStreamFromStreamWritable(M)}}),ah=de((r,o)=>{le(),fe(),ue();var s=yr(),l=(Fe(),Ce(De)),{isReadable:u,isWritable:e,isIterable:n,isNodeStream:i,isReadableNodeStream:t,isWritableNodeStream:a,isDuplexNodeStream:f,isReadableStream:d,isWritableStream:p}=Ft(),b=er(),{AbortError:c,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:m}}=Ze(),{destroyer:E}=jr(),g=Nt(),_=Zn(),A=Ps(),{createDeferredPromise:v}=tt(),I=gu(),S=globalThis.Blob||l.Blob,k=typeof S<"u"?function(L){return L instanceof S}:function(L){return!1},P=globalThis.AbortController||Zr().AbortController,{FunctionPrototypeCall:R}=Be(),B=class extends g{constructor(L){super(L),L?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),L?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};o.exports=function L(U,ae){if(f(U))return U;if(t(U))return W({readable:U});if(a(U))return W({writable:U});if(i(U))return W({writable:!1,readable:!1});if(d(U))return W({readable:_.fromWeb(U)});if(p(U))return W({writable:A.fromWeb(U)});if(typeof U=="function"){let{value:K,write:re,final:F,destroy:Z}=T(U);if(n(K))return I(B,K,{objectMode:!0,write:re,final:F,destroy:Z});let C=K?.then;if(typeof C=="function"){let J,be=R(C,K,te=>{if(te!=null)throw new m("nully","body",te)},te=>{E(J,te)});return J=new B({objectMode:!0,readable:!1,write:re,final(te){F(async()=>{try{await be,s.nextTick(te,null)}catch(_e){s.nextTick(te,_e)}})},destroy:Z})}throw new m("Iterable, AsyncIterable or AsyncFunction",ae,K)}if(k(U))return L(U.arrayBuffer());if(n(U))return I(B,U,{objectMode:!0,writable:!1});if(d(U?.readable)&&p(U?.writable))return B.fromWeb(U);if(typeof U?.writable=="object"||typeof U?.readable=="object"){let K=U!=null&&U.readable?t(U?.readable)?U?.readable:L(U.readable):void 0,re=U!=null&&U.writable?a(U?.writable)?U?.writable:L(U.writable):void 0;return W({readable:K,writable:re})}let Q=U?.then;if(typeof Q=="function"){let K;return R(Q,U,re=>{re!=null&&K.push(re),K.push(null)},re=>{E(K,re)}),K=new B({objectMode:!0,writable:!1,read(){}})}throw new y(ae,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],U)};function T(L){let{promise:U,resolve:ae}=v(),Q=new P,K=Q.signal;return{value:L((async function*(){for(;;){let re=U;U=null;let{chunk:F,done:Z,cb:C}=await re;if(s.nextTick(C),Z)return;if(K.aborted)throw new c(void 0,{cause:K.reason});({promise:U,resolve:ae}=v()),yield F}})(),{signal:K}),write(re,F,Z){let C=ae;ae=null,C({chunk:re,done:!1,cb:Z})},final(re){let F=ae;ae=null,F({done:!0,cb:re})},destroy(re,F){Q.abort(),F(re)}}}function W(L){let U=L.readable&&typeof L.readable.read!="function"?_.wrap(L.readable):L.readable,ae=L.writable,Q=!!u(U),K=!!e(ae),re,F,Z,C,J;function be(te){let _e=C;C=null,_e?_e(te):te&&J.destroy(te)}return J=new B({readableObjectMode:!!(U!=null&&U.readableObjectMode),writableObjectMode:!!(ae!=null&&ae.writableObjectMode),readable:Q,writable:K}),K&&(b(ae,te=>{K=!1,te&&E(U,te),be(te)}),J._write=function(te,_e,H){ae.write(te,_e)?H():re=H},J._final=function(te){ae.end(),F=te},ae.on("drain",function(){if(re){let te=re;re=null,te()}}),ae.on("finish",function(){if(F){let te=F;F=null,te()}})),Q&&(b(U,te=>{Q=!1,te&&E(U,te),be(te)}),U.on("readable",function(){if(Z){let te=Z;Z=null,te()}}),U.on("end",function(){J.push(null)}),J._read=function(){for(;;){let te=U.read();if(te===null){Z=J._read;return}if(!J.push(te))return}}),J._destroy=function(te,_e){!te&&C!==null&&(te=new c),Z=null,re=null,F=null,C===null?_e(te):(C=_e,E(ae,te),E(U,te))},J}}),Nt=de((r,o)=>{le(),fe(),ue();var{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:l,ObjectKeys:u,ObjectSetPrototypeOf:e}=Be();o.exports=t;var n=Zn(),i=Ps();e(t.prototype,n.prototype),e(t,n);{let p=u(i.prototype);for(let b=0;b<p.length;b++){let c=p[b];t.prototype[c]||(t.prototype[c]=i.prototype[c])}}function t(p){if(!(this instanceof t))return new t(p);n.call(this,p),i.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(t.prototype,{writable:{__proto__:null,...l(i.prototype,"writable")},writableHighWaterMark:{__proto__:null,...l(i.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...l(i.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...l(i.prototype,"writableBuffer")},writableLength:{__proto__:null,...l(i.prototype,"writableLength")},writableFinished:{__proto__:null,...l(i.prototype,"writableFinished")},writableCorked:{__proto__:null,...l(i.prototype,"writableCorked")},writableEnded:{__proto__:null,...l(i.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...l(i.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var a;function f(){return a===void 0&&(a={}),a}t.fromWeb=function(p,b){return f().newStreamDuplexFromReadableWritablePair(p,b)},t.toWeb=function(p){return f().newReadableWritablePairFromDuplex(p)};var d;t.from=function(p){return d||(d=ah()),d(p,"body")}}),yu=de((r,o)=>{le(),fe(),ue();var{ObjectSetPrototypeOf:s,Symbol:l}=Be();o.exports=t;var{ERR_METHOD_NOT_IMPLEMENTED:u}=Ze().codes,e=Nt(),{getHighWaterMark:n}=Xn();s(t.prototype,e.prototype),s(t,e);var i=l("kCallback");function t(d){if(!(this instanceof t))return new t(d);let p=d?n(this,d,"readableHighWaterMark",!0):null;p===0&&(d={...d,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:d.writableHighWaterMark||0}),e.call(this,d),this._readableState.sync=!1,this[i]=null,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",f)}function a(d){typeof this._flush=="function"&&!this.destroyed?this._flush((p,b)=>{if(p){d?d(p):this.destroy(p);return}b!=null&&this.push(b),this.push(null),d&&d()}):(this.push(null),d&&d())}function f(){this._final!==a&&a.call(this)}t.prototype._final=a,t.prototype._transform=function(d,p,b){throw new u("_transform()")},t.prototype._write=function(d,p,b){let c=this._readableState,y=this._writableState,m=c.length;this._transform(d,p,(E,g)=>{if(E){b(E);return}g!=null&&this.push(g),y.ended||m===c.length||c.length<c.highWaterMark?b():this[i]=b})},t.prototype._read=function(){if(this[i]){let d=this[i];this[i]=null,d()}}}),bu=de((r,o)=>{le(),fe(),ue();var{ObjectSetPrototypeOf:s}=Be();o.exports=u;var l=yu();s(u.prototype,l.prototype),s(u,l);function u(e){if(!(this instanceof u))return new u(e);l.call(this,e)}u.prototype._transform=function(e,n,i){i(null,e)}}),Rs=de((r,o)=>{le(),fe(),ue();var s=yr(),{ArrayIsArray:l,Promise:u,SymbolAsyncIterator:e,SymbolDispose:n}=Be(),i=er(),{once:t}=tt(),a=jr(),f=Nt(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:c,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:m},AbortError:E}=Ze(),{validateFunction:g,validateAbortSignal:_}=sn(),{isIterable:A,isReadable:v,isReadableNodeStream:I,isNodeStream:S,isTransformStream:k,isWebStream:P,isReadableStream:R,isReadableFinished:B}=Ft(),T=globalThis.AbortController||Zr().AbortController,W,L,U;function ae(te,_e,H){let N=!1;te.on("close",()=>{N=!0});let ne=i(te,{readable:_e,writable:H},V=>{N=!V});return{destroy:V=>{N||(N=!0,a.destroyer(te,V||new y("pipe")))},cleanup:ne}}function Q(te){return g(te[te.length-1],"streams[stream.length - 1]"),te.pop()}function K(te){if(A(te))return te;if(I(te))return re(te);throw new p("val",["Readable","Iterable","AsyncIterable"],te)}async function*re(te){L||(L=Zn()),yield*L.prototype[e].call(te)}async function F(te,_e,H,{end:N}){let ne,V=null,G=oe=>{if(oe&&(ne=oe),V){let M=V;V=null,M()}},Y=()=>new u((oe,M)=>{ne?M(ne):V=()=>{ne?M(ne):oe()}});_e.on("drain",G);let ye=i(_e,{readable:!1},G);try{_e.writableNeedDrain&&await Y();for await(let oe of te)_e.write(oe)||await Y();N&&(_e.end(),await Y()),H()}catch(oe){H(ne!==oe?d(ne,oe):oe)}finally{ye(),_e.off("drain",G)}}async function Z(te,_e,H,{end:N}){k(_e)&&(_e=_e.writable);let ne=_e.getWriter();try{for await(let V of te)await ne.ready,ne.write(V).catch(()=>{});await ne.ready,N&&await ne.close(),H()}catch(V){try{await ne.abort(V),H(V)}catch(G){H(G)}}}function C(...te){return J(te,t(Q(te)))}function J(te,_e,H){if(te.length===1&&l(te[0])&&(te=te[0]),te.length<2)throw new c("streams");let N=new T,ne=N.signal,V=H?.signal,G=[];_(V,"options.signal");function Y(){pe(new E)}U=U||tt().addAbortListener;let ye;V&&(ye=U(V,Y));let oe,M,q=[],ee=0;function he(ve){pe(ve,--ee===0)}function pe(ve,se){var Te;if(ve&&(!oe||oe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(oe=ve),!(!oe&&!se)){for(;q.length;)q.shift()(oe);(Te=ye)===null||Te===void 0||Te[n](),N.abort(),se&&(oe||G.forEach(h=>h()),s.nextTick(_e,oe,M))}}let me;for(let ve=0;ve<te.length;ve++){let se=te[ve],Te=ve<te.length-1,h=ve>0,w=Te||H?.end!==!1,x=ve===te.length-1;if(S(se)){let D=function(X){X&&X.name!=="AbortError"&&X.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(X)};if(w){let{destroy:X,cleanup:ce}=ae(se,Te,h);q.push(X),v(se)&&x&&G.push(ce)}se.on("error",D),v(se)&&x&&G.push(()=>{se.removeListener("error",D)})}if(ve===0)if(typeof se=="function"){if(me=se({signal:ne}),!A(me))throw new b("Iterable, AsyncIterable or Stream","source",me)}else A(se)||I(se)||k(se)?me=se:me=f.from(se);else if(typeof se=="function"){if(k(me)){var $;me=K(($=me)===null||$===void 0?void 0:$.readable)}else me=K(me);if(me=se(me,{signal:ne}),Te){if(!A(me,!0))throw new b("AsyncIterable",`transform[${ve-1}]`,me)}else{var ge;W||(W=bu());let D=new W({objectMode:!0}),X=(ge=me)===null||ge===void 0?void 0:ge.then;if(typeof X=="function")ee++,X.call(me,z=>{M=z,z!=null&&D.write(z),w&&D.end(),s.nextTick(he)},z=>{D.destroy(z),s.nextTick(he,z)});else if(A(me,!0))ee++,F(me,D,he,{end:w});else if(R(me)||k(me)){let z=me.readable||me;ee++,F(z,D,he,{end:w})}else throw new b("AsyncIterable or Promise","destination",me);me=D;let{destroy:ce,cleanup:Ee}=ae(me,!1,!0);q.push(ce),x&&G.push(Ee)}}else if(S(se)){if(I(me)){ee+=2;let D=be(me,se,he,{end:w});v(se)&&x&&G.push(D)}else if(k(me)||R(me)){let D=me.readable||me;ee++,F(D,se,he,{end:w})}else if(A(me))ee++,F(me,se,he,{end:w});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=se}else if(P(se)){if(I(me))ee++,Z(K(me),se,he,{end:w});else if(R(me)||A(me))ee++,Z(me,se,he,{end:w});else if(k(me))ee++,Z(me.readable,se,he,{end:w});else throw new p("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],me);me=se}else me=f.from(se)}return(ne!=null&&ne.aborted||V!=null&&V.aborted)&&s.nextTick(Y),me}function be(te,_e,H,{end:N}){let ne=!1;if(_e.on("close",()=>{ne||H(new m)}),te.pipe(_e,{end:!1}),N){let V=function(){ne=!0,_e.end()};B(te)?s.nextTick(V):te.once("end",V)}else H();return i(te,{readable:!0,writable:!1},V=>{let G=te._readableState;V&&V.code==="ERR_STREAM_PREMATURE_CLOSE"&&G&&G.ended&&!G.errored&&!G.errorEmitted?te.once("end",H).once("error",H):H(V)}),i(_e,{readable:!1,writable:!0},H)}o.exports={pipelineImpl:J,pipeline:C}}),mu=de((r,o)=>{le(),fe(),ue();var{pipeline:s}=Rs(),l=Nt(),{destroyer:u}=jr(),{isNodeStream:e,isReadable:n,isWritable:i,isWebStream:t,isTransformStream:a,isWritableStream:f,isReadableStream:d}=Ft(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:b,ERR_MISSING_ARGS:c}}=Ze(),y=er();o.exports=function(...m){if(m.length===0)throw new c("streams");if(m.length===1)return l.from(m[0]);let E=[...m];if(typeof m[0]=="function"&&(m[0]=l.from(m[0])),typeof m[m.length-1]=="function"){let T=m.length-1;m[T]=l.from(m[T])}for(let T=0;T<m.length;++T)if(!(!e(m[T])&&!t(m[T]))){if(T<m.length-1&&!(n(m[T])||d(m[T])||a(m[T])))throw new b(`streams[${T}]`,E[T],"must be readable");if(T>0&&!(i(m[T])||f(m[T])||a(m[T])))throw new b(`streams[${T}]`,E[T],"must be writable")}let g,_,A,v,I;function S(T){let W=v;v=null,W?W(T):T?I.destroy(T):!B&&!R&&I.destroy()}let k=m[0],P=s(m,S),R=!!(i(k)||f(k)||a(k)),B=!!(n(P)||d(P)||a(P));if(I=new l({writableObjectMode:!!(k!=null&&k.writableObjectMode),readableObjectMode:!!(P!=null&&P.readableObjectMode),writable:R,readable:B}),R){if(e(k))I._write=function(W,L,U){k.write(W,L)?U():g=U},I._final=function(W){k.end(),_=W},k.on("drain",function(){if(g){let W=g;g=null,W()}});else if(t(k)){let W=(a(k)?k.writable:k).getWriter();I._write=async function(L,U,ae){try{await W.ready,W.write(L).catch(()=>{}),ae()}catch(Q){ae(Q)}},I._final=async function(L){try{await W.ready,W.close().catch(()=>{}),_=L}catch(U){L(U)}}}let T=a(P)?P.readable:P;y(T,()=>{if(_){let W=_;_=null,W()}})}if(B){if(e(P))P.on("readable",function(){if(A){let T=A;A=null,T()}}),P.on("end",function(){I.push(null)}),I._read=function(){for(;;){let T=P.read();if(T===null){A=I._read;return}if(!I.push(T))return}};else if(t(P)){let T=(a(P)?P.readable:P).getReader();I._read=async function(){for(;;)try{let{value:W,done:L}=await T.read();if(!I.push(W))return;if(L){I.push(null);return}}catch{return}}}}return I._destroy=function(T,W){!T&&v!==null&&(T=new p),A=null,g=null,_=null,v===null?W(T):(v=W,e(P)&&u(P,T))},I}}),lh=de((r,o)=>{le(),fe(),ue();var s=globalThis.AbortController||Zr().AbortController,{codes:{ERR_INVALID_ARG_VALUE:l,ERR_INVALID_ARG_TYPE:u,ERR_MISSING_ARGS:e,ERR_OUT_OF_RANGE:n},AbortError:i}=Ze(),{validateAbortSignal:t,validateInteger:a,validateObject:f}=sn(),d=Be().Symbol("kWeak"),p=Be().Symbol("kResistStopPropagation"),{finished:b}=er(),c=mu(),{addAbortSignalNoValidate:y}=Jn(),{isWritable:m,isNodeStream:E}=Ft(),{deprecate:g}=tt(),{ArrayPrototypePush:_,Boolean:A,MathFloor:v,Number:I,NumberIsNaN:S,Promise:k,PromiseReject:P,PromiseResolve:R,PromisePrototypeThen:B,Symbol:T}=Be(),W=T("kEmpty"),L=T("kEof");function U(V,G){if(G!=null&&f(G,"options"),G?.signal!=null&&t(G.signal,"options.signal"),E(V)&&!m(V))throw new l("stream",V,"must be writable");let Y=c(this,V);return G!=null&&G.signal&&y(G.signal,Y),Y}function ae(V,G){if(typeof V!="function")throw new u("fn",["Function","AsyncFunction"],V);G!=null&&f(G,"options"),G?.signal!=null&&t(G.signal,"options.signal");let Y=1;G?.concurrency!=null&&(Y=v(G.concurrency));let ye=Y-1;return G?.highWaterMark!=null&&(ye=v(G.highWaterMark)),a(Y,"options.concurrency",1),a(ye,"options.highWaterMark",0),ye+=Y,(async function*(){let oe=tt().AbortSignalAny([G?.signal].filter(A)),M=this,q=[],ee={signal:oe},he,pe,me=!1,$=0;function ge(){me=!0,ve()}function ve(){$-=1,se()}function se(){pe&&!me&&$<Y&&q.length<ye&&(pe(),pe=null)}async function Te(){try{for await(let h of M){if(me)return;if(oe.aborted)throw new i;try{if(h=V(h,ee),h===W)continue;h=R(h)}catch(w){h=P(w)}$+=1,B(h,ve,ge),q.push(h),he&&(he(),he=null),!me&&(q.length>=ye||$>=Y)&&await new k(w=>{pe=w})}q.push(L)}catch(h){let w=P(h);B(w,ve,ge),q.push(w)}finally{me=!0,he&&(he(),he=null)}}Te();try{for(;;){for(;q.length>0;){let h=await q[0];if(h===L)return;if(oe.aborted)throw new i;h!==W&&(yield h),q.shift(),se()}await new k(h=>{he=h})}}finally{me=!0,pe&&(pe(),pe=null)}}).call(this)}function Q(V=void 0){return V!=null&&f(V,"options"),V?.signal!=null&&t(V.signal,"options.signal"),(async function*(){let G=0;for await(let ye of this){var Y;if(V!=null&&(Y=V.signal)!==null&&Y!==void 0&&Y.aborted)throw new i({cause:V.signal.reason});yield[G++,ye]}}).call(this)}async function K(V,G=void 0){for await(let Y of C.call(this,V,G))return!0;return!1}async function re(V,G=void 0){if(typeof V!="function")throw new u("fn",["Function","AsyncFunction"],V);return!await K.call(this,async(...Y)=>!await V(...Y),G)}async function F(V,G){for await(let Y of C.call(this,V,G))return Y}async function Z(V,G){if(typeof V!="function")throw new u("fn",["Function","AsyncFunction"],V);async function Y(ye,oe){return await V(ye,oe),W}for await(let ye of ae.call(this,Y,G));}function C(V,G){if(typeof V!="function")throw new u("fn",["Function","AsyncFunction"],V);async function Y(ye,oe){return await V(ye,oe)?ye:W}return ae.call(this,Y,G)}var J=class extends e{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function be(V,G,Y){var ye;if(typeof V!="function")throw new u("reducer",["Function","AsyncFunction"],V);Y!=null&&f(Y,"options"),Y?.signal!=null&&t(Y.signal,"options.signal");let oe=arguments.length>1;if(Y!=null&&(ye=Y.signal)!==null&&ye!==void 0&&ye.aborted){let pe=new i(void 0,{cause:Y.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(pe)),pe}let M=new s,q=M.signal;if(Y!=null&&Y.signal){let pe={once:!0,[d]:this,[p]:!0};Y.signal.addEventListener("abort",()=>M.abort(),pe)}let ee=!1;try{for await(let pe of this){var he;if(ee=!0,Y!=null&&(he=Y.signal)!==null&&he!==void 0&&he.aborted)throw new i;oe?G=await V(G,pe,{signal:q}):(G=pe,oe=!0)}if(!ee&&!oe)throw new J}finally{M.abort()}return G}async function te(V){V!=null&&f(V,"options"),V?.signal!=null&&t(V.signal,"options.signal");let G=[];for await(let ye of this){var Y;if(V!=null&&(Y=V.signal)!==null&&Y!==void 0&&Y.aborted)throw new i(void 0,{cause:V.signal.reason});_(G,ye)}return G}function _e(V,G){let Y=ae.call(this,V,G);return(async function*(){for await(let ye of Y)yield*ye}).call(this)}function H(V){if(V=I(V),S(V))return 0;if(V<0)throw new n("number",">= 0",V);return V}function N(V,G=void 0){return G!=null&&f(G,"options"),G?.signal!=null&&t(G.signal,"options.signal"),V=H(V),(async function*(){var Y;if(G!=null&&(Y=G.signal)!==null&&Y!==void 0&&Y.aborted)throw new i;for await(let oe of this){var ye;if(G!=null&&(ye=G.signal)!==null&&ye!==void 0&&ye.aborted)throw new i;V--<=0&&(yield oe)}}).call(this)}function ne(V,G=void 0){return G!=null&&f(G,"options"),G?.signal!=null&&t(G.signal,"options.signal"),V=H(V),(async function*(){var Y;if(G!=null&&(Y=G.signal)!==null&&Y!==void 0&&Y.aborted)throw new i;for await(let oe of this){var ye;if(G!=null&&(ye=G.signal)!==null&&ye!==void 0&&ye.aborted)throw new i;if(V-- >0&&(yield oe),V<=0)return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:g(Q,"readable.asIndexedPairs will be removed in a future version."),drop:N,filter:C,flatMap:_e,map:ae,take:ne,compose:U},o.exports.promiseReturningOperators={every:re,forEach:Z,reduce:be,toArray:te,some:K,find:F}}),vu=de((r,o)=>{le(),fe(),ue();var{ArrayPrototypePop:s,Promise:l}=Be(),{isIterable:u,isNodeStream:e,isWebStream:n}=Ft(),{pipelineImpl:i}=Rs(),{finished:t}=er();_u();function a(...f){return new l((d,p)=>{let b,c,y=f[f.length-1];if(y&&typeof y=="object"&&!e(y)&&!u(y)&&!n(y)){let m=s(f);b=m.signal,c=m.end}i(f,(m,E)=>{m?p(m):d(E)},{signal:b,end:c})})}o.exports={finished:t,pipeline:a}}),_u=de((r,o)=>{le(),fe(),ue();var{Buffer:s}=(Fe(),Ce(De)),{ObjectDefineProperty:l,ObjectKeys:u,ReflectApply:e}=Be(),{promisify:{custom:n}}=tt(),{streamReturningOperators:i,promiseReturningOperators:t}=lh(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Ze(),f=mu(),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:p}=Xn(),{pipeline:b}=Rs(),{destroyer:c}=jr(),y=er(),m=vu(),E=Ft(),g=o.exports=Os().Stream;g.isDestroyed=E.isDestroyed,g.isDisturbed=E.isDisturbed,g.isErrored=E.isErrored,g.isReadable=E.isReadable,g.isWritable=E.isWritable,g.Readable=Zn();for(let A of u(i)){let v=function(...S){if(new.target)throw a();return g.Readable.from(e(I,this,S))},I=i[A];l(v,"name",{__proto__:null,value:I.name}),l(v,"length",{__proto__:null,value:I.length}),l(g.Readable.prototype,A,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}for(let A of u(t)){let v=function(...S){if(new.target)throw a();return e(I,this,S)},I=t[A];l(v,"name",{__proto__:null,value:I.name}),l(v,"length",{__proto__:null,value:I.length}),l(g.Readable.prototype,A,{__proto__:null,value:v,enumerable:!1,configurable:!0,writable:!0})}g.Writable=Ps(),g.Duplex=Nt(),g.Transform=yu(),g.PassThrough=bu(),g.pipeline=b;var{addAbortSignal:_}=Jn();g.addAbortSignal=_,g.finished=y,g.destroy=c,g.compose=f,g.setDefaultHighWaterMark=d,g.getDefaultHighWaterMark=p,l(g,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return m}}),l(b,n,{__proto__:null,enumerable:!0,get(){return m.pipeline}}),l(y,n,{__proto__:null,enumerable:!0,get(){return m.finished}}),g.Stream=g,g._isUint8Array=function(A){return A instanceof Uint8Array},g._uint8ArrayToBuffer=function(A){return s.from(A.buffer,A.byteOffset,A.byteLength)}}),br=de((r,o)=>{le(),fe(),ue();var s=_u(),l=vu(),u=s.Readable.destroy;o.exports=s.Readable,o.exports._uint8ArrayToBuffer=s._uint8ArrayToBuffer,o.exports._isUint8Array=s._isUint8Array,o.exports.isDisturbed=s.isDisturbed,o.exports.isErrored=s.isErrored,o.exports.isReadable=s.isReadable,o.exports.Readable=s.Readable,o.exports.Writable=s.Writable,o.exports.Duplex=s.Duplex,o.exports.Transform=s.Transform,o.exports.PassThrough=s.PassThrough,o.exports.addAbortSignal=s.addAbortSignal,o.exports.finished=s.finished,o.exports.destroy=s.destroy,o.exports.destroy=u,o.exports.pipeline=s.pipeline,o.exports.compose=s.compose,Object.defineProperty(s,"promises",{configurable:!0,enumerable:!0,get(){return l}}),o.exports.Stream=s.Stream,o.exports.default=o.exports}),uh=de((r,o)=>{le(),fe(),ue(),typeof Object.create=="function"?o.exports=function(s,l){l&&(s.super_=l,s.prototype=Object.create(l.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(s,l){if(l){s.super_=l;var u=function(){};u.prototype=l.prototype,s.prototype=new u,s.prototype.constructor=s}}}),fh=de((r,o)=>{le(),fe(),ue();var{Buffer:s}=(Fe(),Ce(De)),l=Symbol.for("BufferList");function u(e){if(!(this instanceof u))return new u(e);u._init.call(this,e)}u._init=function(e){Object.defineProperty(this,l,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},u.prototype._new=function(e){return new u(e)},u.prototype._offset=function(e){if(e===0)return[0,0];let n=0;for(let i=0;i<this._bufs.length;i++){let t=n+this._bufs[i].length;if(e<t||i===this._bufs.length-1)return[i,e-n];n=t}},u.prototype._reverseOffset=function(e){let n=e[0],i=e[1];for(let t=0;t<n;t++)i+=this._bufs[t].length;return i},u.prototype.getBuffers=function(){return this._bufs},u.prototype.get=function(e){if(e>this.length||e<0)return;let n=this._offset(e);return this._bufs[n[0]][n[1]]},u.prototype.slice=function(e,n){return typeof e=="number"&&e<0&&(e+=this.length),typeof n=="number"&&n<0&&(n+=this.length),this.copy(null,0,e,n)},u.prototype.copy=function(e,n,i,t){if((typeof i!="number"||i<0)&&(i=0),(typeof t!="number"||t>this.length)&&(t=this.length),i>=this.length||t<=0)return e||s.alloc(0);let a=!!e,f=this._offset(i),d=t-i,p=d,b=a&&n||0,c=f[1];if(i===0&&t===this.length){if(!a)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let y=0;y<this._bufs.length;y++)this._bufs[y].copy(e,b),b+=this._bufs[y].length;return e}if(p<=this._bufs[f[0]].length-c)return a?this._bufs[f[0]].copy(e,n,c,c+p):this._bufs[f[0]].slice(c,c+p);a||(e=s.allocUnsafe(d));for(let y=f[0];y<this._bufs.length;y++){let m=this._bufs[y].length-c;if(p>m)this._bufs[y].copy(e,b,c),b+=m;else{this._bufs[y].copy(e,b,c,c+p),b+=m;break}p-=m,c&&(c=0)}return e.length>b?e.slice(0,b):e},u.prototype.shallowSlice=function(e,n){if(e=e||0,n=typeof n!="number"?this.length:n,e<0&&(e+=this.length),n<0&&(n+=this.length),e===n)return this._new();let i=this._offset(e),t=this._offset(n),a=this._bufs.slice(i[0],t[0]+1);return t[1]===0?a.pop():a[a.length-1]=a[a.length-1].slice(0,t[1]),i[1]!==0&&(a[0]=a[0].slice(i[1])),this._new(a)},u.prototype.toString=function(e,n,i){return this.slice(n,i).toString(e)},u.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},u.prototype.duplicate=function(){let e=this._new();for(let n=0;n<this._bufs.length;n++)e.append(this._bufs[n]);return e},u.prototype.append=function(e){return this._attach(e,u.prototype._appendBuffer)},u.prototype.prepend=function(e){return this._attach(e,u.prototype._prependBuffer,!0)},u.prototype._attach=function(e,n,i){if(e==null)return this;if(e.buffer)n.call(this,s.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e)){let[t,a]=i?[e.length-1,-1]:[0,1];for(let f=t;f>=0&&f<e.length;f+=a)this._attach(e[f],n,i)}else if(this._isBufferList(e)){let[t,a]=i?[e._bufs.length-1,-1]:[0,1];for(let f=t;f>=0&&f<e._bufs.length;f+=a)this._attach(e._bufs[f],n,i)}else typeof e=="number"&&(e=e.toString()),n.call(this,s.from(e));return this},u.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},u.prototype._prependBuffer=function(e){this._bufs.unshift(e),this.length+=e.length},u.prototype.indexOf=function(e,n,i){if(i===void 0&&typeof n=="string"&&(i=n,n=void 0),typeof e=="function"||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof e=="number"?e=s.from([e]):typeof e=="string"?e=s.from(e,i):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=s.from(e.buffer,e.byteOffset,e.byteLength):s.isBuffer(e)||(e=s.from(e)),n=Number(n||0),isNaN(n)&&(n=0),n<0&&(n=this.length+n),n<0&&(n=0),e.length===0)return n>this.length?this.length:n;let t=this._offset(n),a=t[0],f=t[1];for(;a<this._bufs.length;a++){let d=this._bufs[a];for(;f<d.length;)if(d.length-f>=e.length){let p=d.indexOf(e,f);if(p!==-1)return this._reverseOffset([a,p]);f=d.length-e.length+1}else{let p=this._reverseOffset([a,f]);if(this._match(p,e))return p;f++}f=0}return-1},u.prototype._match=function(e,n){if(this.length-e<n.length)return!1;for(let i=0;i<n.length;i++)if(this.get(e+i)!==n[i])return!1;return!0},(function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let n in e)(function(i){e[i]===null?u.prototype[i]=function(t,a){return this.slice(t,t+a)[i](0,a)}:u.prototype[i]=function(t=0){return this.slice(t,t+e[i])[i](0)}})(n)})(),u.prototype._isBufferList=function(e){return e instanceof u||u.isBufferList(e)},u.isBufferList=function(e){return e!=null&&e[l]},o.exports=u}),ch=de((r,o)=>{le(),fe(),ue();var s=br().Duplex,l=uh(),u=fh();function e(n){if(!(this instanceof e))return new e(n);if(typeof n=="function"){this._callback=n;let i=(function(t){this._callback&&(this._callback(t),this._callback=null)}).bind(this);this.on("pipe",function(t){t.on("error",i)}),this.on("unpipe",function(t){t.removeListener("error",i)}),n=null}u._init.call(this,n),s.call(this)}l(e,s),Object.assign(e.prototype,u.prototype),e.prototype._new=function(n){return new e(n)},e.prototype._write=function(n,i,t){this._appendBuffer(n),typeof t=="function"&&t()},e.prototype._read=function(n){if(!this.length)return this.push(null);n=Math.min(n,this.length),this.push(this.slice(0,n)),this.consume(n)},e.prototype.end=function(n){s.prototype.end.call(this,n),this._callback&&(this._callback(null,this.slice()),this._callback=null)},e.prototype._destroy=function(n,i){this._bufs.length=0,this.length=0,i(n)},e.prototype._isBufferList=function(n){return n instanceof e||n instanceof u||e.isBufferList(n)},e.isBufferList=u.isBufferList,o.exports=e,o.exports.BufferListStream=e,o.exports.BufferList=u}),hh=de((r,o)=>{le(),fe(),ue();var s=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};o.exports=s}),wu=de((r,o)=>{le(),fe(),ue();var s=o.exports,{Buffer:l}=(Fe(),Ce(De));s.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},s.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},s.requiredHeaderFlagsErrors={};for(let e in s.requiredHeaderFlags){let n=s.requiredHeaderFlags[e];s.requiredHeaderFlagsErrors[e]="Invalid header flag bits, must be 0x"+n.toString(16)+" for "+s.types[e]+" packet"}s.codes={};for(let e in s.types){let n=s.types[e];s.codes[n]=e}s.CMD_SHIFT=4,s.CMD_MASK=240,s.DUP_MASK=8,s.QOS_MASK=3,s.QOS_SHIFT=1,s.RETAIN_MASK=1,s.VARBYTEINT_MASK=127,s.VARBYTEINT_FIN_MASK=128,s.VARBYTEINT_MAX=268435455,s.SESSIONPRESENT_MASK=1,s.SESSIONPRESENT_HEADER=l.from([s.SESSIONPRESENT_MASK]),s.CONNACK_HEADER=l.from([s.codes.connack<<s.CMD_SHIFT]),s.USERNAME_MASK=128,s.PASSWORD_MASK=64,s.WILL_RETAIN_MASK=32,s.WILL_QOS_MASK=24,s.WILL_QOS_SHIFT=3,s.WILL_FLAG_MASK=4,s.CLEAN_SESSION_MASK=2,s.CONNECT_HEADER=l.from([s.codes.connect<<s.CMD_SHIFT]),s.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},s.propertiesCodes={};for(let e in s.properties){let n=s.properties[e];s.propertiesCodes[n]=e}s.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function u(e){return[0,1,2].map(n=>[0,1].map(i=>[0,1].map(t=>{let a=l.alloc(1);return a.writeUInt8(s.codes[e]<<s.CMD_SHIFT|(i?s.DUP_MASK:0)|n<<s.QOS_SHIFT|t,0,!0),a})))}s.PUBLISH_HEADER=u("publish"),s.SUBSCRIBE_HEADER=u("subscribe"),s.SUBSCRIBE_OPTIONS_QOS_MASK=3,s.SUBSCRIBE_OPTIONS_NL_MASK=1,s.SUBSCRIBE_OPTIONS_NL_SHIFT=2,s.SUBSCRIBE_OPTIONS_RAP_MASK=1,s.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,s.SUBSCRIBE_OPTIONS_RH_MASK=3,s.SUBSCRIBE_OPTIONS_RH_SHIFT=4,s.SUBSCRIBE_OPTIONS_RH=[0,16,32],s.SUBSCRIBE_OPTIONS_NL=4,s.SUBSCRIBE_OPTIONS_RAP=8,s.SUBSCRIBE_OPTIONS_QOS=[0,1,2],s.UNSUBSCRIBE_HEADER=u("unsubscribe"),s.ACKS={unsuback:u("unsuback"),puback:u("puback"),pubcomp:u("pubcomp"),pubrel:u("pubrel"),pubrec:u("pubrec")},s.SUBACK_HEADER=l.from([s.codes.suback<<s.CMD_SHIFT]),s.VERSION3=l.from([3]),s.VERSION4=l.from([4]),s.VERSION5=l.from([5]),s.VERSION131=l.from([131]),s.VERSION132=l.from([132]),s.QOS=[0,1,2].map(e=>l.from([e])),s.EMPTY={pingreq:l.from([s.codes.pingreq<<4,0]),pingresp:l.from([s.codes.pingresp<<4,0]),disconnect:l.from([s.codes.disconnect<<4,0])},s.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},s.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},s.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},s.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},s.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),ph=de((r,o)=>{le(),fe(),ue();var s=1e3,l=s*60,u=l*60,e=u*24,n=e*7,i=e*365.25;o.exports=function(p,b){b=b||{};var c=typeof p;if(c==="string"&&p.length>0)return t(p);if(c==="number"&&isFinite(p))return b.long?f(p):a(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function t(p){if(p=String(p),!(p.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(b){var c=parseFloat(b[1]),y=(b[2]||"ms").toLowerCase();switch(y){case"years":case"year":case"yrs":case"yr":case"y":return c*i;case"weeks":case"week":case"w":return c*n;case"days":case"day":case"d":return c*e;case"hours":case"hour":case"hrs":case"hr":case"h":return c*u;case"minutes":case"minute":case"mins":case"min":case"m":return c*l;case"seconds":case"second":case"secs":case"sec":case"s":return c*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function a(p){var b=Math.abs(p);return b>=e?Math.round(p/e)+"d":b>=u?Math.round(p/u)+"h":b>=l?Math.round(p/l)+"m":b>=s?Math.round(p/s)+"s":p+"ms"}function f(p){var b=Math.abs(p);return b>=e?d(p,b,e,"day"):b>=u?d(p,b,u,"hour"):b>=l?d(p,b,l,"minute"):b>=s?d(p,b,s,"second"):p+" ms"}function d(p,b,c,y){var m=b>=c*1.5;return Math.round(p/c)+" "+y+(m?"s":"")}}),dh=de((r,o)=>{le(),fe(),ue();function s(l){e.debug=e,e.default=e,e.coerce=d,e.disable=a,e.enable=i,e.enabled=f,e.humanize=ph(),e.destroy=p,Object.keys(l).forEach(b=>{e[b]=l[b]}),e.names=[],e.skips=[],e.formatters={};function u(b){let c=0;for(let y=0;y<b.length;y++)c=(c<<5)-c+b.charCodeAt(y),c|=0;return e.colors[Math.abs(c)%e.colors.length]}e.selectColor=u;function e(b){let c,y=null,m,E;function g(..._){if(!g.enabled)return;let A=g,v=Number(new Date),I=v-(c||v);A.diff=I,A.prev=c,A.curr=v,c=v,_[0]=e.coerce(_[0]),typeof _[0]!="string"&&_.unshift("%O");let S=0;_[0]=_[0].replace(/%([a-zA-Z%])/g,(k,P)=>{if(k==="%%")return"%";S++;let R=e.formatters[P];if(typeof R=="function"){let B=_[S];k=R.call(A,B),_.splice(S,1),S--}return k}),e.formatArgs.call(A,_),(A.log||e.log).apply(A,_)}return g.namespace=b,g.useColors=e.useColors(),g.color=e.selectColor(b),g.extend=n,g.destroy=e.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(m!==e.namespaces&&(m=e.namespaces,E=e.enabled(b)),E),set:_=>{y=_}}),typeof e.init=="function"&&e.init(g),g}function n(b,c){let y=e(this.namespace+(typeof c>"u"?":":c)+b);return y.log=this.log,y}function i(b){e.save(b),e.namespaces=b,e.names=[],e.skips=[];let c=(typeof b=="string"?b:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of c)y[0]==="-"?e.skips.push(y.slice(1)):e.names.push(y)}function t(b,c){let y=0,m=0,E=-1,g=0;for(;y<b.length;)if(m<c.length&&(c[m]===b[y]||c[m]==="*"))c[m]==="*"?(E=m,g=y,m++):(y++,m++);else if(E!==-1)m=E+1,g++,y=g;else return!1;for(;m<c.length&&c[m]==="*";)m++;return m===c.length}function a(){let b=[...e.names,...e.skips.map(c=>"-"+c)].join(",");return e.enable(""),b}function f(b){for(let c of e.skips)if(t(b,c))return!1;for(let c of e.names)if(t(b,c))return!0;return!1}function d(b){return b instanceof Error?b.stack||b.message:b}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}o.exports=s}),Bt=de((r,o)=>{le(),fe(),ue(),r.formatArgs=l,r.save=u,r.load=e,r.useColors=s,r.storage=n(),r.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function s(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function l(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;t.splice(1,0,a,"color: inherit");let f=0,d=0;t[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(f++,p==="%c"&&(d=f))}),t.splice(d,0,a)}r.log=console.debug||console.log||(()=>{});function u(t){try{t?r.storage.setItem("debug",t):r.storage.removeItem("debug")}catch{}}function e(){let t;try{t=r.storage.getItem("debug")||r.storage.getItem("DEBUG")}catch{}return!t&&typeof je<"u"&&"env"in je&&(t=je.env.DEBUG),t}function n(){try{return localStorage}catch{}}o.exports=dh()(r);var{formatters:i}=o.exports;i.j=function(t){try{return JSON.stringify(t)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}}),gh=de((r,o)=>{le(),fe(),ue();var s=ch(),{EventEmitter:l}=(gr(),Ce(Zt)),u=hh(),e=wu(),n=Bt()("mqtt-packet:parser"),i=class To extends l{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof To?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new To().parser(a)}_resetState(){n("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new u,this.error=null,this._list=s(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),n("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,n("parse: state complete. _stateCounter is now: %d",this._stateCounter),n("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return n("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0),f=a>>e.CMD_SHIFT;this.packet.cmd=e.types[f];let d=a&15,p=e.requiredHeaderFlags[f];return p!=null&&d!==p?this._emitError(new Error(e.requiredHeaderFlagsErrors[f])):(this.packet.retain=(a&e.RETAIN_MASK)!==0,this.packet.qos=a>>e.QOS_SHIFT&e.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(a&e.DUP_MASK)!==0,n("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),n("_parseLength %d",a.value),!!a}_parsePayload(){n("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return n("_parsePayload complete result: %s",a),a}_parseConnect(){n("_parseConnect");let a,f,d,p,b={},c=this.packet,y=this._parseString();if(y===null)return this._emitError(new Error("Cannot parse protocolId"));if(y!=="MQTT"&&y!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(c.protocolId=y,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(c.protocolVersion=this._list.readUInt8(this._pos),c.protocolVersion>=128&&(c.bridgeMode=!0,c.protocolVersion=c.protocolVersion-128),c.protocolVersion!==3&&c.protocolVersion!==4&&c.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));b.username=this._list.readUInt8(this._pos)&e.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&e.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&e.WILL_FLAG_MASK;let m=!!(this._list.readUInt8(this._pos)&e.WILL_RETAIN_MASK),E=(this._list.readUInt8(this._pos)&e.WILL_QOS_MASK)>>e.WILL_QOS_SHIFT;if(b.will)c.will={},c.will.retain=m,c.will.qos=E;else{if(m)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(E)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(c.clean=(this._list.readUInt8(this._pos)&e.CLEAN_SESSION_MASK)!==0,this._pos++,c.keepalive=this._parseNum(),c.keepalive===-1)return this._emitError(new Error("Packet too short"));if(c.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(c.properties=_)}let g=this._parseString();if(g===null)return this._emitError(new Error("Packet too short"));if(c.clientId=g,n("_parseConnect: packet.clientId: %s",c.clientId),b.will){if(c.protocolVersion===5){let _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(c.will.properties=_)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(c.will.topic=a,n("_parseConnect: packet.will.topic: %s",c.will.topic),f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse will payload"));c.will.payload=f,n("_parseConnect: packet.will.paylaod: %s",c.will.payload)}if(b.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));c.username=p,n("_parseConnect: packet.username: %s",c.username)}if(b.password){if(d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse password"));c.password=d}return this.settings=c,n("_parseConnect: complete"),c}_parseConnack(){n("_parseConnack");let a=this.packet;if(this._list.length<1)return null;let f=this._list.readUInt8(this._pos++);if(f>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(a.sessionPresent=!!(f&e.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(a.properties=d)}n("_parseConnack: complete")}_parsePublish(){n("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.properties=f)}a.payload=this._list.slice(this._pos,a.length),n("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){n("_parseSubscribe");let a=this.packet,f,d,p,b,c,y,m;if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let E=this._parseProperties();Object.getOwnPropertyNames(E).length&&(a.properties=E)}if(a.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<a.length;){if(f=this._parseString(),f===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(d=this._parseByte(),this.settings.protocolVersion===5){if(d&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(d&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=d&e.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(y=(d>>e.SUBSCRIBE_OPTIONS_NL_SHIFT&e.SUBSCRIBE_OPTIONS_NL_MASK)!==0,c=(d>>e.SUBSCRIBE_OPTIONS_RAP_SHIFT&e.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=d>>e.SUBSCRIBE_OPTIONS_RH_SHIFT&e.SUBSCRIBE_OPTIONS_RH_MASK,b>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));m={topic:f,qos:p},this.settings.protocolVersion===5?(m.nl=y,m.rap=c,m.rh=b):this.settings.bridgeMode&&(m.rh=0,m.rap=!0,m.nl=!0),n("_parseSubscribe: push subscription `%s` to subscription",m),a.subscriptions.push(m)}}}_parseSuback(){n("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.properties=f)}if(a.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!e.MQTT5_SUBACK_CODES[f])return this._emitError(new Error("Invalid suback code"))}else if(f>2&&f!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(f)}}}_parseUnsubscribe(){n("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.properties=f)}if(a.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<a.length;){let f=this._parseString();if(f===null)return this._emitError(new Error("Cannot parse topic"));n("_parseUnsubscribe: push topic `%s` to unsubscriptions",f),a.unsubscriptions.push(f)}}}_parseUnsuback(){n("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&a.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(a.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let f=this._parseProperties();for(Object.getOwnPropertyNames(f).length&&(a.properties=f),a.granted=[];this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(!e.MQTT5_UNSUBACK_CODES[d])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(d)}}}_parseConfirmation(){n("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(a.length>2){switch(a.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!e.MQTT5_PUBACK_PUBREC_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!e.MQTT5_PUBREL_PUBCOMP_CODES[a.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}n("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)}else a.reasonCode=0;if(a.length>3){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.properties=f)}}return!0}_parseDisconnect(){let a=this.packet;if(n("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(a.reasonCode=this._parseByte(),e.MQTT5_DISCONNECT_CODES[a.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):a.reasonCode=0;let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(a.properties=f)}return n("_parseDisconnect result: true"),!0}_parseAuth(){n("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(a.reasonCode=this._parseByte(),!e.MQTT5_AUTH_CODES[a.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let f=this._parseProperties();return Object.getOwnPropertyNames(f).length&&(a.properties=f),n("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(n("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let f=this._parseNum(),d=f+this._pos;if(f===-1||d>this._list.length||d>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,d);return this._pos+=f,n("_parseString: result: %s",p),p}_parseStringPair(){return n("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),f=a+this._pos;if(a===-1||f>this._list.length||f>this.packet.length)return null;let d=this._list.slice(this._pos,f);return this._pos+=a,n("_parseBuffer: result: %o",d),d}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,n("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,n("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){n("_parseVarByteNum");let f=4,d=0,p=1,b=0,c=!1,y,m=this._pos?this._pos:0;for(;d<f&&m+d<this._list.length;){if(y=this._list.readUInt8(m+d++),b+=p*(y&e.VARBYTEINT_MASK),p*=128,(y&e.VARBYTEINT_FIN_MASK)===0){c=!0;break}if(this._list.length<=d)break}return!c&&d===f&&this._list.length>=d&&this._emitError(new Error("Invalid variable byte integer")),m&&(this._pos+=d),c?a?c={bytes:d,value:b}:c=b:c=!1,n("_parseVarByteNum: result: %o",c),c}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),n("_parseByte: result: %o",a),a}_parseByType(a){switch(n("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){n("_parseProperties");let a=this._parseVarByteNum(),f=this._pos+a,d={};for(;this._pos<f;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let b=e.propertiesCodes[p];if(!b)return this._emitError(new Error("Unknown property")),!1;if(b==="userProperties"){d[b]||(d[b]=Object.create(null));let c=this._parseByType(e.propertiesTypes[b]);if(d[b][c.name])if(Array.isArray(d[b][c.name]))d[b][c.name].push(c.value);else{let y=d[b][c.name];d[b][c.name]=[y],d[b][c.name].push(c.value)}else d[b][c.name]=c.value;continue}d[b]?Array.isArray(d[b])?d[b].push(this._parseByType(e.propertiesTypes[b])):(d[b]=[d[b]],d[b].push(this._parseByType(e.propertiesTypes[b]))):d[b]=this._parseByType(e.propertiesTypes[b])}return d}_newPacket(){return n("_newPacket"),this.packet&&(this._list.consume(this.packet.length),n("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),n("_newPacket: new packet"),this.packet=new u,this._pos=0,!0}_emitError(a){n("_emitError",a),this.error=a,this.emit("error",a)}};o.exports=i}),yh=de((r,o)=>{le(),fe(),ue();var{Buffer:s}=(Fe(),Ce(De)),l=65536,u={},e=s.isBuffer(s.from([1,2]).subarray(0,1));function n(f){let d=s.allocUnsafe(2);return d.writeUInt8(f>>8,0),d.writeUInt8(f&255,1),d}function i(){for(let f=0;f<l;f++)u[f]=n(f)}function t(f){let d=0,p=0,b=s.allocUnsafe(4);do d=f%128|0,f=f/128|0,f>0&&(d=d|128),b.writeUInt8(d,p++);while(f>0&&p<4);return f>0&&(p=0),e?b.subarray(0,p):b.slice(0,p)}function a(f){let d=s.allocUnsafe(4);return d.writeUInt32BE(f,0),d}o.exports={cache:u,generateCache:i,generateNumber:n,genBufVariableByteInt:t,generate4ByteBuffer:a}}),bh=de((r,o)=>{le(),fe(),ue(),typeof je>"u"||!je.version||je.version.indexOf("v0.")===0||je.version.indexOf("v1.")===0&&je.version.indexOf("v1.8.")!==0?o.exports={nextTick:s}:o.exports=je;function s(l,u,e,n){if(typeof l!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,t,a;switch(i){case 0:case 1:return je.nextTick(l);case 2:return je.nextTick(function(){l.call(null,u)});case 3:return je.nextTick(function(){l.call(null,u,e)});case 4:return je.nextTick(function(){l.call(null,u,e,n)});default:for(t=new Array(i-1),a=0;a<t.length;)t[a++]=arguments[a];return je.nextTick(function(){l.apply(null,t)})}}}),Eu=de((r,o)=>{le(),fe(),ue();var s=wu(),{Buffer:l}=(Fe(),Ce(De)),u=l.allocUnsafe(0),e=l.from([0]),n=yh(),i=bh().nextTick,t=Bt()("mqtt-packet:writeToStream"),a=n.cache,f=n.generateNumber,d=n.generateCache,p=n.genBufVariableByteInt,b=n.generate4ByteBuffer,c=Q,y=!0;function m(H,N,ne){switch(t("generate called"),N.cork&&(N.cork(),i(E,N)),y&&(y=!1,d()),t("generate: packet.cmd: %s",H.cmd),H.cmd){case"connect":return g(H,N);case"connack":return _(H,N,ne);case"publish":return A(H,N,ne);case"puback":case"pubrec":case"pubrel":case"pubcomp":return v(H,N,ne);case"subscribe":return I(H,N,ne);case"suback":return S(H,N,ne);case"unsubscribe":return k(H,N,ne);case"unsuback":return P(H,N,ne);case"pingreq":case"pingresp":return R(H,N);case"disconnect":return B(H,N,ne);case"auth":return T(H,N,ne);default:return N.destroy(new Error("Unknown command")),!1}}Object.defineProperty(m,"cacheNumbers",{get(){return c===Q},set(H){H?((!a||Object.keys(a).length===0)&&(y=!0),c=Q):(y=!1,c=K)}});function E(H){H.uncork()}function g(H,N,ne){let V=H||{},G=V.protocolId||"MQTT",Y=V.protocolVersion||4,ye=V.will,oe=V.clean,M=V.keepalive||0,q=V.clientId||"",ee=V.username,he=V.password,pe=V.properties;oe===void 0&&(oe=!0);let me=0;if(typeof G!="string"&&!l.isBuffer(G))return N.destroy(new Error("Invalid protocolId")),!1;if(me+=G.length+2,Y!==3&&Y!==4&&Y!==5)return N.destroy(new Error("Invalid protocol version")),!1;if(me+=1,(typeof q=="string"||l.isBuffer(q))&&(q||Y>=4)&&(q||oe))me+=l.byteLength(q)+2;else{if(Y<4)return N.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(oe*1===0)return N.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof M!="number"||M<0||M>65535||M%1!==0)return N.destroy(new Error("Invalid keepalive")),!1;me+=2,me+=1;let $,ge;if(Y===5){if($=Z(N,pe),!$)return!1;me+=$.length}if(ye){if(typeof ye!="object")return N.destroy(new Error("Invalid will")),!1;if(!ye.topic||typeof ye.topic!="string")return N.destroy(new Error("Invalid will topic")),!1;if(me+=l.byteLength(ye.topic)+2,me+=2,ye.payload)if(ye.payload.length>=0)typeof ye.payload=="string"?me+=l.byteLength(ye.payload):me+=ye.payload.length;else return N.destroy(new Error("Invalid will payload")),!1;if(ge={},Y===5){if(ge=Z(N,ye.properties),!ge)return!1;me+=ge.length}}let ve=!1;if(ee!=null)if(_e(ee))ve=!0,me+=l.byteLength(ee)+2;else return N.destroy(new Error("Invalid username")),!1;if(he!=null){if(!ve)return N.destroy(new Error("Username is required to use password")),!1;if(_e(he))me+=te(he)+2;else return N.destroy(new Error("Invalid password")),!1}N.write(s.CONNECT_HEADER),L(N,me),F(N,G),V.bridgeMode&&(Y+=128),N.write(Y===131?s.VERSION131:Y===132?s.VERSION132:Y===4?s.VERSION4:Y===5?s.VERSION5:s.VERSION3);let se=0;return se|=ee!=null?s.USERNAME_MASK:0,se|=he!=null?s.PASSWORD_MASK:0,se|=ye&&ye.retain?s.WILL_RETAIN_MASK:0,se|=ye&&ye.qos?ye.qos<<s.WILL_QOS_SHIFT:0,se|=ye?s.WILL_FLAG_MASK:0,se|=oe?s.CLEAN_SESSION_MASK:0,N.write(l.from([se])),c(N,M),Y===5&&$.write(),F(N,q),ye&&(Y===5&&ge.write(),U(N,ye.topic),F(N,ye.payload)),ee!=null&&F(N,ee),he!=null&&F(N,he),!0}function _(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=V===5?G.reasonCode:G.returnCode,ye=G.properties,oe=2;if(typeof Y!="number")return N.destroy(new Error("Invalid return code")),!1;let M=null;if(V===5){if(M=Z(N,ye),!M)return!1;oe+=M.length}return N.write(s.CONNACK_HEADER),L(N,oe),N.write(G.sessionPresent?s.SESSIONPRESENT_HEADER:e),N.write(l.from([Y])),M?.write(),!0}function A(H,N,ne){t("publish: packet: %o",H);let V=ne?ne.protocolVersion:4,G=H||{},Y=G.qos||0,ye=G.retain?s.RETAIN_MASK:0,oe=G.topic,M=G.payload||u,q=G.messageId,ee=G.properties,he=0;if(typeof oe=="string")he+=l.byteLength(oe)+2;else if(l.isBuffer(oe))he+=oe.length+2;else return N.destroy(new Error("Invalid topic")),!1;if(l.isBuffer(M)?he+=M.length:he+=l.byteLength(M),Y&&typeof q!="number")return N.destroy(new Error("Invalid messageId")),!1;Y&&(he+=2);let pe=null;if(V===5){if(pe=Z(N,ee),!pe)return!1;he+=pe.length}return N.write(s.PUBLISH_HEADER[Y][G.dup?1:0][ye?1:0]),L(N,he),c(N,te(oe)),N.write(oe),Y>0&&c(N,q),pe?.write(),t("publish: payload: %o",M),N.write(M)}function v(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=G.cmd||"puback",ye=G.messageId,oe=G.dup&&Y==="pubrel"?s.DUP_MASK:0,M=0,q=G.reasonCode,ee=G.properties,he=V===5?3:2;if(Y==="pubrel"&&(M=1),typeof ye!="number")return N.destroy(new Error("Invalid messageId")),!1;let pe=null;if(V===5&&typeof ee=="object"){if(pe=C(N,ee,ne,he),!pe)return!1;he+=pe.length}return N.write(s.ACKS[Y][M][oe][0]),he===3&&(he+=q!==0?1:-1),L(N,he),c(N,ye),V===5&&he!==2&&N.write(l.from([q])),pe!==null?pe.write():he===4&&N.write(l.from([0])),!0}function I(H,N,ne){t("subscribe: packet: ");let V=ne?ne.protocolVersion:4,G=H||{},Y=G.dup?s.DUP_MASK:0,ye=G.messageId,oe=G.subscriptions,M=G.properties,q=0;if(typeof ye!="number")return N.destroy(new Error("Invalid messageId")),!1;q+=2;let ee=null;if(V===5){if(ee=Z(N,M),!ee)return!1;q+=ee.length}if(typeof oe=="object"&&oe.length)for(let pe=0;pe<oe.length;pe+=1){let me=oe[pe].topic,$=oe[pe].qos;if(typeof me!="string")return N.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof $!="number")return N.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(V===5){if(typeof(oe[pe].nl||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(oe[pe].rap||!1)!="boolean")return N.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let ge=oe[pe].rh||0;if(typeof ge!="number"||ge>2)return N.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}q+=l.byteLength(me)+2+1}else return N.destroy(new Error("Invalid subscriptions")),!1;t("subscribe: writing to stream: %o",s.SUBSCRIBE_HEADER),N.write(s.SUBSCRIBE_HEADER[1][Y?1:0][0]),L(N,q),c(N,ye),ee!==null&&ee.write();let he=!0;for(let pe of oe){let me=pe.topic,$=pe.qos,ge=+pe.nl,ve=+pe.rap,se=pe.rh,Te;U(N,me),Te=s.SUBSCRIBE_OPTIONS_QOS[$],V===5&&(Te|=ge?s.SUBSCRIBE_OPTIONS_NL:0,Te|=ve?s.SUBSCRIBE_OPTIONS_RAP:0,Te|=se?s.SUBSCRIBE_OPTIONS_RH[se]:0),he=N.write(l.from([Te]))}return he}function S(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=G.messageId,ye=G.granted,oe=G.properties,M=0;if(typeof Y!="number")return N.destroy(new Error("Invalid messageId")),!1;if(M+=2,typeof ye=="object"&&ye.length)for(let ee=0;ee<ye.length;ee+=1){if(typeof ye[ee]!="number")return N.destroy(new Error("Invalid qos vector")),!1;M+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let q=null;if(V===5){if(q=C(N,oe,ne,M),!q)return!1;M+=q.length}return N.write(s.SUBACK_HEADER),L(N,M),c(N,Y),q!==null&&q.write(),N.write(l.from(ye))}function k(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=G.messageId,ye=G.dup?s.DUP_MASK:0,oe=G.unsubscriptions,M=G.properties,q=0;if(typeof Y!="number")return N.destroy(new Error("Invalid messageId")),!1;if(q+=2,typeof oe=="object"&&oe.length)for(let pe=0;pe<oe.length;pe+=1){if(typeof oe[pe]!="string")return N.destroy(new Error("Invalid unsubscriptions")),!1;q+=l.byteLength(oe[pe])+2}else return N.destroy(new Error("Invalid unsubscriptions")),!1;let ee=null;if(V===5){if(ee=Z(N,M),!ee)return!1;q+=ee.length}N.write(s.UNSUBSCRIBE_HEADER[1][ye?1:0][0]),L(N,q),c(N,Y),ee!==null&&ee.write();let he=!0;for(let pe=0;pe<oe.length;pe++)he=U(N,oe[pe]);return he}function P(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=G.messageId,ye=G.dup?s.DUP_MASK:0,oe=G.granted,M=G.properties,q=G.cmd,ee=0,he=2;if(typeof Y!="number")return N.destroy(new Error("Invalid messageId")),!1;if(V===5)if(typeof oe=="object"&&oe.length)for(let me=0;me<oe.length;me+=1){if(typeof oe[me]!="number")return N.destroy(new Error("Invalid qos vector")),!1;he+=1}else return N.destroy(new Error("Invalid qos vector")),!1;let pe=null;if(V===5){if(pe=C(N,M,ne,he),!pe)return!1;he+=pe.length}return N.write(s.ACKS[q][ee][ye][0]),L(N,he),c(N,Y),pe!==null&&pe.write(),V===5&&N.write(l.from(oe)),!0}function R(H,N,ne){return N.write(s.EMPTY[H.cmd])}function B(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=G.reasonCode,ye=G.properties,oe=V===5?1:0,M=null;if(V===5){if(M=C(N,ye,ne,oe),!M)return!1;oe+=M.length}return N.write(l.from([s.codes.disconnect<<4])),L(N,oe),V===5&&N.write(l.from([Y])),M!==null&&M.write(),!0}function T(H,N,ne){let V=ne?ne.protocolVersion:4,G=H||{},Y=G.reasonCode,ye=G.properties,oe=V===5?1:0;V!==5&&N.destroy(new Error("Invalid mqtt version for auth packet"));let M=C(N,ye,ne,oe);return M?(oe+=M.length,N.write(l.from([s.codes.auth<<4])),L(N,oe),N.write(l.from([Y])),M!==null&&M.write(),!0):!1}var W={};function L(H,N){if(N>s.VARBYTEINT_MAX)return H.destroy(new Error(`Invalid variable byte integer: ${N}`)),!1;let ne=W[N];return ne||(ne=p(N),N<16384&&(W[N]=ne)),t("writeVarByteInt: writing to stream: %o",ne),H.write(ne)}function U(H,N){let ne=l.byteLength(N);return c(H,ne),t("writeString: %s",N),H.write(N,"utf8")}function ae(H,N,ne){U(H,N),U(H,ne)}function Q(H,N){return t("writeNumberCached: number: %d",N),t("writeNumberCached: %o",a[N]),H.write(a[N])}function K(H,N){let ne=f(N);return t("writeNumberGenerated: %o",ne),H.write(ne)}function re(H,N){let ne=b(N);return t("write4ByteNumber: %o",ne),H.write(ne)}function F(H,N){typeof N=="string"?U(H,N):N?(c(H,N.length),H.write(N)):c(H,0)}function Z(H,N){if(typeof N!="object"||N.length!=null)return{length:1,write(){be(H,{},0)}};let ne=0;function V(G,Y){let ye=s.propertiesTypes[G],oe=0;switch(ye){case"byte":{if(typeof Y!="boolean")return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=2;break}case"int8":{if(typeof Y!="number"||Y<0||Y>255)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=2;break}case"binary":{if(Y&&Y===null)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=1+l.byteLength(Y)+2;break}case"int16":{if(typeof Y!="number"||Y<0||Y>65535)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=3;break}case"int32":{if(typeof Y!="number"||Y<0||Y>4294967295)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=5;break}case"var":{if(typeof Y!="number"||Y<0||Y>268435455)return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=1+l.byteLength(p(Y));break}case"string":{if(typeof Y!="string")return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=3+l.byteLength(Y.toString());break}case"pair":{if(typeof Y!="object")return H.destroy(new Error(`Invalid ${G}: ${Y}`)),!1;oe+=Object.getOwnPropertyNames(Y).reduce((M,q)=>{let ee=Y[q];return Array.isArray(ee)?M+=ee.reduce((he,pe)=>(he+=3+l.byteLength(q.toString())+2+l.byteLength(pe.toString()),he),0):M+=3+l.byteLength(q.toString())+2+l.byteLength(Y[q].toString()),M},0);break}default:return H.destroy(new Error(`Invalid property ${G}: ${Y}`)),!1}return oe}if(N)for(let G in N){let Y=0,ye=0,oe=N[G];if(oe!==void 0){if(Array.isArray(oe))for(let M=0;M<oe.length;M++){if(ye=V(G,oe[M]),!ye)return!1;Y+=ye}else{if(ye=V(G,oe),!ye)return!1;Y=ye}if(!Y)return!1;ne+=Y}}return{length:l.byteLength(p(ne))+ne,write(){be(H,N,ne)}}}function C(H,N,ne,V){let G=["reasonString","userProperties"],Y=ne&&ne.properties&&ne.properties.maximumPacketSize?ne.properties.maximumPacketSize:0,ye=Z(H,N);if(Y)for(;V+ye.length>Y;){let oe=G.shift();if(oe&&N[oe])delete N[oe],ye=Z(H,N);else return!1}return ye}function J(H,N,ne){switch(s.propertiesTypes[N]){case"byte":{H.write(l.from([s.properties[N]])),H.write(l.from([+ne]));break}case"int8":{H.write(l.from([s.properties[N]])),H.write(l.from([ne]));break}case"binary":{H.write(l.from([s.properties[N]])),F(H,ne);break}case"int16":{H.write(l.from([s.properties[N]])),c(H,ne);break}case"int32":{H.write(l.from([s.properties[N]])),re(H,ne);break}case"var":{H.write(l.from([s.properties[N]])),L(H,ne);break}case"string":{H.write(l.from([s.properties[N]])),U(H,ne);break}case"pair":{Object.getOwnPropertyNames(ne).forEach(V=>{let G=ne[V];Array.isArray(G)?G.forEach(Y=>{H.write(l.from([s.properties[N]])),ae(H,V.toString(),Y.toString())}):(H.write(l.from([s.properties[N]])),ae(H,V.toString(),G.toString()))});break}default:return H.destroy(new Error(`Invalid property ${N} value: ${ne}`)),!1}}function be(H,N,ne){L(H,ne);for(let V in N)if(Object.prototype.hasOwnProperty.call(N,V)&&N[V]!=null){let G=N[V];if(Array.isArray(G))for(let Y=0;Y<G.length;Y++)J(H,V,G[Y]);else J(H,V,G)}}function te(H){return H?H instanceof l?H.length:l.byteLength(H):0}function _e(H){return typeof H=="string"||H instanceof l}o.exports=m}),mh=de((r,o)=>{le(),fe(),ue();var s=Eu(),{EventEmitter:l}=(gr(),Ce(Zt)),{Buffer:u}=(Fe(),Ce(De));function e(i,t){let a=new n;return s(i,a,t),a.concat()}var n=class extends l{constructor(){super(),this._array=new Array(20),this._i=0}write(i){return this._array[this._i++]=i,!0}concat(){let i=0,t=new Array(this._array.length),a=this._array,f=0,d;for(d=0;d<a.length&&a[d]!==void 0;d++)typeof a[d]!="string"?t[d]=a[d].length:t[d]=u.byteLength(a[d]),i+=t[d];let p=u.allocUnsafe(i);for(d=0;d<a.length&&a[d]!==void 0;d++)typeof a[d]!="string"?(a[d].copy(p,f),f+=t[d]):(p.write(a[d],f),f+=t[d]);return p}destroy(i){i&&this.emit("error",i)}};o.exports=e}),vh=de(r=>{le(),fe(),ue(),r.parser=gh().parser,r.generate=mh(),r.writeToStream=Eu()}),_h=de((r,o)=>{le(),fe(),ue(),o.exports=l;function s(e){return e instanceof zn?zn.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function l(e){if(e=e||{},e.circles)return u(e);let n=new Map;if(n.set(Date,d=>new Date(d)),n.set(Map,(d,p)=>new Map(t(Array.from(d),p))),n.set(Set,(d,p)=>new Set(t(Array.from(d),p))),e.constructorHandlers)for(let d of e.constructorHandlers)n.set(d[0],d[1]);let i=null;return e.proto?f:a;function t(d,p){let b=Object.keys(d),c=new Array(b.length);for(let y=0;y<b.length;y++){let m=b[y],E=d[m];typeof E!="object"||E===null?c[m]=E:E.constructor!==Object&&(i=n.get(E.constructor))?c[m]=i(E,p):ArrayBuffer.isView(E)?c[m]=s(E):c[m]=p(E)}return c}function a(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return t(d,a);if(d.constructor!==Object&&(i=n.get(d.constructor)))return i(d,a);let p={};for(let b in d){if(Object.hasOwnProperty.call(d,b)===!1)continue;let c=d[b];typeof c!="object"||c===null?p[b]=c:c.constructor!==Object&&(i=n.get(c.constructor))?p[b]=i(c,a):ArrayBuffer.isView(c)?p[b]=s(c):p[b]=a(c)}return p}function f(d){if(typeof d!="object"||d===null)return d;if(Array.isArray(d))return t(d,f);if(d.constructor!==Object&&(i=n.get(d.constructor)))return i(d,f);let p={};for(let b in d){let c=d[b];typeof c!="object"||c===null?p[b]=c:c.constructor!==Object&&(i=n.get(c.constructor))?p[b]=i(c,f):ArrayBuffer.isView(c)?p[b]=s(c):p[b]=f(c)}return p}}function u(e){let n=[],i=[],t=new Map;if(t.set(Date,b=>new Date(b)),t.set(Map,(b,c)=>new Map(f(Array.from(b),c))),t.set(Set,(b,c)=>new Set(f(Array.from(b),c))),e.constructorHandlers)for(let b of e.constructorHandlers)t.set(b[0],b[1]);let a=null;return e.proto?p:d;function f(b,c){let y=Object.keys(b),m=new Array(y.length);for(let E=0;E<y.length;E++){let g=y[E],_=b[g];if(typeof _!="object"||_===null)m[g]=_;else if(_.constructor!==Object&&(a=t.get(_.constructor)))m[g]=a(_,c);else if(ArrayBuffer.isView(_))m[g]=s(_);else{let A=n.indexOf(_);A!==-1?m[g]=i[A]:m[g]=c(_)}}return m}function d(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return f(b,d);if(b.constructor!==Object&&(a=t.get(b.constructor)))return a(b,d);let c={};n.push(b),i.push(c);for(let y in b){if(Object.hasOwnProperty.call(b,y)===!1)continue;let m=b[y];if(typeof m!="object"||m===null)c[y]=m;else if(m.constructor!==Object&&(a=t.get(m.constructor)))c[y]=a(m,d);else if(ArrayBuffer.isView(m))c[y]=s(m);else{let E=n.indexOf(m);E!==-1?c[y]=i[E]:c[y]=d(m)}}return n.pop(),i.pop(),c}function p(b){if(typeof b!="object"||b===null)return b;if(Array.isArray(b))return f(b,p);if(b.constructor!==Object&&(a=t.get(b.constructor)))return a(b,p);let c={};n.push(b),i.push(c);for(let y in b){let m=b[y];if(typeof m!="object"||m===null)c[y]=m;else if(m.constructor!==Object&&(a=t.get(m.constructor)))c[y]=a(m,p);else if(ArrayBuffer.isView(m))c[y]=s(m);else{let E=n.indexOf(m);E!==-1?c[y]=i[E]:c[y]=p(m)}}return n.pop(),i.pop(),c}}}),wh=de((r,o)=>{le(),fe(),ue(),o.exports=_h()()}),Eh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.validateTopic=o,r.validateTopics=s;function o(l){let u=l.split("/");for(let e=0;e<u.length;e++)if(u[e]!=="+"){if(u[e]==="#")return e===u.length-1;if(u[e].indexOf("+")!==-1||u[e].indexOf("#")!==-1)return!1}return!0}function s(l){if(l.length===0)return"empty_topic_list";for(let u=0;u<l.length;u++)if(!o(l[u]))return l[u];return null}}),Su=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=br(),s={objectMode:!0},l={clean:!0},u=class{options;_inflights;constructor(e){this.options=e||{},this.options={...l,...e},this._inflights=new Map}put(e,n){return this._inflights.set(e.messageId,e),n&&n(),this}createStream(){let e=new o.Readable(s),n=[],i=!1,t=0;return this._inflights.forEach((a,f)=>{n.push(a)}),e._read=()=>{!i&&t<n.length?e.push(n[t++]):e.push(null)},e.destroy=a=>{if(!i)return i=!0,setTimeout(()=>{e.emit("close")},0),e},e}del(e,n){let i=this._inflights.get(e.messageId);return i?(this._inflights.delete(e.messageId),n(null,i)):n&&n(new Error("missing packet")),this}get(e,n){let i=this._inflights.get(e.messageId);return i?n(null,i):n&&n(new Error("missing packet")),this}close(e){this.options.clean&&(this._inflights=null),e&&e()}};r.default=u}),Sh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=[0,16,128,131,135,144,145,151,153],s=(l,u,e)=>{l.log("handlePublish: packet %o",u),e=typeof e<"u"?e:l.noop;let n=u.topic.toString(),i=u.payload,{qos:t}=u,{messageId:a}=u,{options:f}=l;if(l.options.protocolVersion===5){let d;if(u.properties&&(d=u.properties.topicAlias),typeof d<"u")if(n.length===0)if(d>0&&d<=65535){let p=l.topicAliasRecv.getTopicByAlias(d);if(p)n=p,l.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",n,d);else{l.log("handlePublish :: unregistered topic alias. alias: %d",d),l.emit("error",new Error("Received unregistered Topic Alias"));return}}else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}else if(l.topicAliasRecv.put(n,d))l.log("handlePublish :: registered topic: %s - alias: %d",n,d);else{l.log("handlePublish :: topic alias out of range. alias: %d",d),l.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(l.log("handlePublish: qos %d",t),t){case 2:{f.customHandleAcks(n,i,u,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return l.emit("error",d);if(o.indexOf(p)===-1)return l.emit("error",new Error("Wrong reason code for pubrec"));p?l._sendPacket({cmd:"pubrec",messageId:a,reasonCode:p},e):l.incomingStore.put(u,()=>{l._sendPacket({cmd:"pubrec",messageId:a},e)})});break}case 1:{f.customHandleAcks(n,i,u,(d,p)=>{if(typeof d=="number"&&(p=d,d=null),d)return l.emit("error",d);if(o.indexOf(p)===-1)return l.emit("error",new Error("Wrong reason code for puback"));p||l.emit("message",n,i,u),l.handleMessage(u,b=>{if(b)return e&&e(b);l._sendPacket({cmd:"puback",messageId:a,reasonCode:p},e)})});break}case 0:l.emit("message",n,i,u),l.handleMessage(u,e);break;default:l.log("handlePublish: unknown QoS. Doing nothing.");break}};r.default=s}),Ah=de((r,o)=>{o.exports={version:"5.14.1"}}),Nr=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.MQTTJS_VERSION=r.nextTick=r.ErrorWithSubackPacket=r.ErrorWithReasonCode=void 0,r.applyMixin=l;var o=class Au extends Error{code;constructor(e,n){super(e),this.code=n,Object.setPrototypeOf(this,Au.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};r.ErrorWithReasonCode=o;var s=class Iu extends Error{packet;constructor(e,n){super(e),this.packet=n,Object.setPrototypeOf(this,Iu.prototype),Object.getPrototypeOf(this).name="ErrorWithSubackPacket"}};r.ErrorWithSubackPacket=s;function l(u,e,n=!1){let i=[e];for(;;){let t=i[0],a=Object.getPrototypeOf(t);if(a?.prototype)i.unshift(a);else break}for(let t of i)for(let a of Object.getOwnPropertyNames(t.prototype))(n||a!=="constructor")&&Object.defineProperty(u.prototype,a,Object.getOwnPropertyDescriptor(t.prototype,a)??Object.create(null))}r.nextTick=typeof je?.nextTick=="function"?je.nextTick:u=>{setTimeout(u,0)},r.MQTTJS_VERSION=Ah().version}),ei=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=void 0;var o=Nr();r.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var s=(l,u)=>{let{messageId:e}=u,n=u.cmd,i=null,t=l.outgoing[e]?l.outgoing[e].cb:null,a=null;if(!t){l.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(l.log("_handleAck :: packet type",n),n){case"pubcomp":case"puback":{let f=u.reasonCode;f&&f>0&&f!==16?(a=new o.ErrorWithReasonCode(`Publish error: ${r.ReasonCodes[f]}`,f),l._removeOutgoingAndStoreMessage(e,()=>{t(a,u)})):l._removeOutgoingAndStoreMessage(e,t);break}case"pubrec":{i={cmd:"pubrel",qos:2,messageId:e};let f=u.reasonCode;f&&f>0&&f!==16?(a=new o.ErrorWithReasonCode(`Publish error: ${r.ReasonCodes[f]}`,f),l._removeOutgoingAndStoreMessage(e,()=>{t(a,u)})):l._sendPacket(i);break}case"suback":{delete l.outgoing[e],l.messageIdProvider.deallocate(e);let f=u.granted;for(let d=0;d<f.length;d++){let p=f[d];if((p&128)!==0){a=new Error(`Subscribe error: ${r.ReasonCodes[p]}`),a.code=p;let b=l.messageIdToTopic[e];b&&b.forEach(c=>{delete l._resubscribeTopics[c]})}}delete l.messageIdToTopic[e],l._invokeStoreProcessingQueue(),t(a,u);break}case"unsuback":{delete l.outgoing[e],l.messageIdProvider.deallocate(e),l._invokeStoreProcessingQueue(),t(null,u);break}default:l.emit("error",new Error("unrecognized packet type"))}l.disconnecting&&Object.keys(l.outgoing).length===0&&l.emit("outgoingEmpty")};r.default=s}),Ih=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=Nr(),s=ei(),l=(u,e)=>{let{options:n}=u,i=n.protocolVersion,t=i===5?e.reasonCode:e.returnCode;if(i!==5){let a=new o.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${i}`,t);u.emit("error",a);return}u.handleAuth(e,(a,f)=>{if(a){u.emit("error",a);return}if(t===24)u.reconnecting=!1,u._sendPacket(f);else{let d=new o.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[t]}`,t);u.emit("error",d)}})};r.default=l}),xh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.LRUCache=void 0;var o=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,s=new Set,l=typeof je=="object"&&je?je:{},u=(b,c,y,m)=>{typeof l.emitWarning=="function"?l.emitWarning(b,c,y,m):console.error(`[${y}] ${c}: ${b}`)},e=globalThis.AbortController,n=globalThis.AbortSignal;if(typeof e>"u"){n=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(y,m){this._onabort.push(m)}},e=class{constructor(){c()}signal=new n;abort(y){if(!this.signal.aborted){this.signal.reason=y,this.signal.aborted=!0;for(let m of this.signal._onabort)m(y);this.signal.onabort?.(y)}}};let b=l.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",c=()=>{b&&(b=!1,u("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",c))}}var i=b=>!s.has(b),t=b=>b&&b===Math.floor(b)&&b>0&&isFinite(b),a=b=>t(b)?b<=Math.pow(2,8)?Uint8Array:b<=Math.pow(2,16)?Uint16Array:b<=Math.pow(2,32)?Uint32Array:b<=Number.MAX_SAFE_INTEGER?f:null:null,f=class extends Array{constructor(b){super(b),this.fill(0)}},d=class Vr{heap;length;static#t=!1;static create(c){let y=a(c);if(!y)return[];Vr.#t=!0;let m=new Vr(c,y);return Vr.#t=!1,m}constructor(c,y){if(!Vr.#t)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new y(c),this.length=0}push(c){this.heap[this.length++]=c}pop(){return this.heap[--this.length]}},p=class xu{#t;#r;#s;#a;#b;#h;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#o;#u;#n;#i;#e;#p;#g;#c;#f;#_;#d;#E;#S;#m;#v;#A;#y;static unsafeExposeInternals(c){return{starts:c.#S,ttls:c.#m,sizes:c.#E,keyMap:c.#n,keyList:c.#i,valList:c.#e,next:c.#p,prev:c.#g,get head(){return c.#c},get tail(){return c.#f},free:c.#_,isBackgroundFetch:y=>c.#l(y),backgroundFetch:(y,m,E,g)=>c.#j(y,m,E,g),moveToTail:y=>c.#R(y),indexes:y=>c.#I(y),rindexes:y=>c.#x(y),isStale:y=>c.#w(y)}}get max(){return this.#t}get maxSize(){return this.#r}get calculatedSize(){return this.#u}get size(){return this.#o}get fetchMethod(){return this.#b}get memoMethod(){return this.#h}get dispose(){return this.#s}get disposeAfter(){return this.#a}constructor(c){let{max:y=0,ttl:m,ttlResolution:E=1,ttlAutopurge:g,updateAgeOnGet:_,updateAgeOnHas:A,allowStale:v,dispose:I,disposeAfter:S,noDisposeOnSet:k,noUpdateTTL:P,maxSize:R=0,maxEntrySize:B=0,sizeCalculation:T,fetchMethod:W,memoMethod:L,noDeleteOnFetchRejection:U,noDeleteOnStaleGet:ae,allowStaleOnFetchRejection:Q,allowStaleOnFetchAbort:K,ignoreFetchAbort:re}=c;if(y!==0&&!t(y))throw new TypeError("max option must be a nonnegative integer");let F=y?a(y):Array;if(!F)throw new Error("invalid max value: "+y);if(this.#t=y,this.#r=R,this.maxEntrySize=B||this.#r,this.sizeCalculation=T,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(L!==void 0&&typeof L!="function")throw new TypeError("memoMethod must be a function if defined");if(this.#h=L,W!==void 0&&typeof W!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#b=W,this.#A=!!W,this.#n=new Map,this.#i=new Array(y).fill(void 0),this.#e=new Array(y).fill(void 0),this.#p=new F(y),this.#g=new F(y),this.#c=0,this.#f=0,this.#_=d.create(y),this.#o=0,this.#u=0,typeof I=="function"&&(this.#s=I),typeof S=="function"?(this.#a=S,this.#d=[]):(this.#a=void 0,this.#d=void 0),this.#v=!!this.#s,this.#y=!!this.#a,this.noDisposeOnSet=!!k,this.noUpdateTTL=!!P,this.noDeleteOnFetchRejection=!!U,this.allowStaleOnFetchRejection=!!Q,this.allowStaleOnFetchAbort=!!K,this.ignoreFetchAbort=!!re,this.maxEntrySize!==0){if(this.#r!==0&&!t(this.#r))throw new TypeError("maxSize must be a positive integer if specified");if(!t(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#W()}if(this.allowStale=!!v,this.noDeleteOnStaleGet=!!ae,this.updateAgeOnGet=!!_,this.updateAgeOnHas=!!A,this.ttlResolution=t(E)||E===0?E:1,this.ttlAutopurge=!!g,this.ttl=m||0,this.ttl){if(!t(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#N()}if(this.#t===0&&this.ttl===0&&this.#r===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#t&&!this.#r){let Z="LRU_CACHE_UNBOUNDED";i(Z)&&(s.add(Z),u("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Z,xu))}}getRemainingTTL(c){return this.#n.has(c)?1/0:0}#N(){let c=new f(this.#t),y=new f(this.#t);this.#m=c,this.#S=y,this.#B=(g,_,A=o.now())=>{if(y[g]=_!==0?A:0,c[g]=_,_!==0&&this.ttlAutopurge){let v=setTimeout(()=>{this.#w(g)&&this.#k(this.#i[g],"expire")},_+1);v.unref&&v.unref()}},this.#O=g=>{y[g]=c[g]!==0?o.now():0},this.#T=(g,_)=>{if(c[_]){let A=c[_],v=y[_];if(!A||!v)return;g.ttl=A,g.start=v,g.now=m||E();let I=g.now-v;g.remainingTTL=A-I}};let m=0,E=()=>{let g=o.now();if(this.ttlResolution>0){m=g;let _=setTimeout(()=>m=0,this.ttlResolution);_.unref&&_.unref()}return g};this.getRemainingTTL=g=>{let _=this.#n.get(g);if(_===void 0)return 0;let A=c[_],v=y[_];if(!A||!v)return 1/0;let I=(m||E())-v;return A-I},this.#w=g=>{let _=y[g],A=c[g];return!!A&&!!_&&(m||E())-_>A}}#O=()=>{};#T=()=>{};#B=()=>{};#w=()=>!1;#W(){let c=new f(this.#t);this.#u=0,this.#E=c,this.#P=y=>{this.#u-=c[y],c[y]=0},this.#U=(y,m,E,g)=>{if(this.#l(m))return 0;if(!t(E))if(g){if(typeof g!="function")throw new TypeError("sizeCalculation must be a function");if(E=g(m,y),!t(E))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return E},this.#C=(y,m,E)=>{if(c[y]=m,this.#r){let g=this.#r-c[y];for(;this.#u>g;)this.#M(!0)}this.#u+=c[y],E&&(E.entrySize=m,E.totalCalculatedSize=this.#u)}}#P=c=>{};#C=(c,y,m)=>{};#U=(c,y,m,E)=>{if(m||E)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#I({allowStale:c=this.allowStale}={}){if(this.#o)for(let y=this.#f;!(!this.#L(y)||((c||!this.#w(y))&&(yield y),y===this.#c));)y=this.#g[y]}*#x({allowStale:c=this.allowStale}={}){if(this.#o)for(let y=this.#c;!(!this.#L(y)||((c||!this.#w(y))&&(yield y),y===this.#f));)y=this.#p[y]}#L(c){return c!==void 0&&this.#n.get(this.#i[c])===c}*entries(){for(let c of this.#I())this.#e[c]!==void 0&&this.#i[c]!==void 0&&!this.#l(this.#e[c])&&(yield[this.#i[c],this.#e[c]])}*rentries(){for(let c of this.#x())this.#e[c]!==void 0&&this.#i[c]!==void 0&&!this.#l(this.#e[c])&&(yield[this.#i[c],this.#e[c]])}*keys(){for(let c of this.#I()){let y=this.#i[c];y!==void 0&&!this.#l(this.#e[c])&&(yield y)}}*rkeys(){for(let c of this.#x()){let y=this.#i[c];y!==void 0&&!this.#l(this.#e[c])&&(yield y)}}*values(){for(let c of this.#I())this.#e[c]!==void 0&&!this.#l(this.#e[c])&&(yield this.#e[c])}*rvalues(){for(let c of this.#x())this.#e[c]!==void 0&&!this.#l(this.#e[c])&&(yield this.#e[c])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(c,y={}){for(let m of this.#I()){let E=this.#e[m],g=this.#l(E)?E.__staleWhileFetching:E;if(g!==void 0&&c(g,this.#i[m],this))return this.get(this.#i[m],y)}}forEach(c,y=this){for(let m of this.#I()){let E=this.#e[m],g=this.#l(E)?E.__staleWhileFetching:E;g!==void 0&&c.call(y,g,this.#i[m],this)}}rforEach(c,y=this){for(let m of this.#x()){let E=this.#e[m],g=this.#l(E)?E.__staleWhileFetching:E;g!==void 0&&c.call(y,g,this.#i[m],this)}}purgeStale(){let c=!1;for(let y of this.#x({allowStale:!0}))this.#w(y)&&(this.#k(this.#i[y],"expire"),c=!0);return c}info(c){let y=this.#n.get(c);if(y===void 0)return;let m=this.#e[y],E=this.#l(m)?m.__staleWhileFetching:m;if(E===void 0)return;let g={value:E};if(this.#m&&this.#S){let _=this.#m[y],A=this.#S[y];if(_&&A){let v=_-(o.now()-A);g.ttl=v,g.start=Date.now()}}return this.#E&&(g.size=this.#E[y]),g}dump(){let c=[];for(let y of this.#I({allowStale:!0})){let m=this.#i[y],E=this.#e[y],g=this.#l(E)?E.__staleWhileFetching:E;if(g===void 0||m===void 0)continue;let _={value:g};if(this.#m&&this.#S){_.ttl=this.#m[y];let A=o.now()-this.#S[y];_.start=Math.floor(Date.now()-A)}this.#E&&(_.size=this.#E[y]),c.unshift([m,_])}return c}load(c){this.clear();for(let[y,m]of c){if(m.start){let E=Date.now()-m.start;m.start=o.now()-E}this.set(y,m.value,m)}}set(c,y,m={}){if(y===void 0)return this.delete(c),this;let{ttl:E=this.ttl,start:g,noDisposeOnSet:_=this.noDisposeOnSet,sizeCalculation:A=this.sizeCalculation,status:v}=m,{noUpdateTTL:I=this.noUpdateTTL}=m,S=this.#U(c,y,m.size||0,A);if(this.maxEntrySize&&S>this.maxEntrySize)return v&&(v.set="miss",v.maxEntrySizeExceeded=!0),this.#k(c,"set"),this;let k=this.#o===0?void 0:this.#n.get(c);if(k===void 0)k=this.#o===0?this.#f:this.#_.length!==0?this.#_.pop():this.#o===this.#t?this.#M(!1):this.#o,this.#i[k]=c,this.#e[k]=y,this.#n.set(c,k),this.#p[this.#f]=k,this.#g[k]=this.#f,this.#f=k,this.#o++,this.#C(k,S,v),v&&(v.set="add"),I=!1;else{this.#R(k);let P=this.#e[k];if(y!==P){if(this.#A&&this.#l(P)){P.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:R}=P;R!==void 0&&!_&&(this.#v&&this.#s?.(R,c,"set"),this.#y&&this.#d?.push([R,c,"set"]))}else _||(this.#v&&this.#s?.(P,c,"set"),this.#y&&this.#d?.push([P,c,"set"]));if(this.#P(k),this.#C(k,S,v),this.#e[k]=y,v){v.set="replace";let R=P&&this.#l(P)?P.__staleWhileFetching:P;R!==void 0&&(v.oldValue=R)}}else v&&(v.set="update")}if(E!==0&&!this.#m&&this.#N(),this.#m&&(I||this.#B(k,E,g),v&&this.#T(v,k)),!_&&this.#y&&this.#d){let P=this.#d,R;for(;R=P?.shift();)this.#a?.(...R)}return this}pop(){try{for(;this.#o;){let c=this.#e[this.#c];if(this.#M(!0),this.#l(c)){if(c.__staleWhileFetching)return c.__staleWhileFetching}else if(c!==void 0)return c}}finally{if(this.#y&&this.#d){let c=this.#d,y;for(;y=c?.shift();)this.#a?.(...y)}}}#M(c){let y=this.#c,m=this.#i[y],E=this.#e[y];return this.#A&&this.#l(E)?E.__abortController.abort(new Error("evicted")):(this.#v||this.#y)&&(this.#v&&this.#s?.(E,m,"evict"),this.#y&&this.#d?.push([E,m,"evict"])),this.#P(y),c&&(this.#i[y]=void 0,this.#e[y]=void 0,this.#_.push(y)),this.#o===1?(this.#c=this.#f=0,this.#_.length=0):this.#c=this.#p[y],this.#n.delete(m),this.#o--,y}has(c,y={}){let{updateAgeOnHas:m=this.updateAgeOnHas,status:E}=y,g=this.#n.get(c);if(g!==void 0){let _=this.#e[g];if(this.#l(_)&&_.__staleWhileFetching===void 0)return!1;if(this.#w(g))E&&(E.has="stale",this.#T(E,g));else return m&&this.#O(g),E&&(E.has="hit",this.#T(E,g)),!0}else E&&(E.has="miss");return!1}peek(c,y={}){let{allowStale:m=this.allowStale}=y,E=this.#n.get(c);if(E===void 0||!m&&this.#w(E))return;let g=this.#e[E];return this.#l(g)?g.__staleWhileFetching:g}#j(c,y,m,E){let g=y===void 0?void 0:this.#e[y];if(this.#l(g))return g;let _=new e,{signal:A}=m;A?.addEventListener("abort",()=>_.abort(A.reason),{signal:_.signal});let v={signal:_.signal,options:m,context:E},I=(T,W=!1)=>{let{aborted:L}=_.signal,U=m.ignoreFetchAbort&&T!==void 0;if(m.status&&(L&&!W?(m.status.fetchAborted=!0,m.status.fetchError=_.signal.reason,U&&(m.status.fetchAbortIgnored=!0)):m.status.fetchResolved=!0),L&&!U&&!W)return k(_.signal.reason);let ae=R;return this.#e[y]===R&&(T===void 0?ae.__staleWhileFetching?this.#e[y]=ae.__staleWhileFetching:this.#k(c,"fetch"):(m.status&&(m.status.fetchUpdated=!0),this.set(c,T,v.options))),T},S=T=>(m.status&&(m.status.fetchRejected=!0,m.status.fetchError=T),k(T)),k=T=>{let{aborted:W}=_.signal,L=W&&m.allowStaleOnFetchAbort,U=L||m.allowStaleOnFetchRejection,ae=U||m.noDeleteOnFetchRejection,Q=R;if(this.#e[y]===R&&(!ae||Q.__staleWhileFetching===void 0?this.#k(c,"fetch"):L||(this.#e[y]=Q.__staleWhileFetching)),U)return m.status&&Q.__staleWhileFetching!==void 0&&(m.status.returnedStale=!0),Q.__staleWhileFetching;if(Q.__returned===Q)throw T},P=(T,W)=>{let L=this.#b?.(c,g,v);L&&L instanceof Promise&&L.then(U=>T(U===void 0?void 0:U),W),_.signal.addEventListener("abort",()=>{(!m.ignoreFetchAbort||m.allowStaleOnFetchAbort)&&(T(void 0),m.allowStaleOnFetchAbort&&(T=U=>I(U,!0)))})};m.status&&(m.status.fetchDispatched=!0);let R=new Promise(P).then(I,S),B=Object.assign(R,{__abortController:_,__staleWhileFetching:g,__returned:void 0});return y===void 0?(this.set(c,B,{...v.options,status:void 0}),y=this.#n.get(c)):this.#e[y]=B,B}#l(c){if(!this.#A)return!1;let y=c;return!!y&&y instanceof Promise&&y.hasOwnProperty("__staleWhileFetching")&&y.__abortController instanceof e}async fetch(c,y={}){let{allowStale:m=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:g=this.noDeleteOnStaleGet,ttl:_=this.ttl,noDisposeOnSet:A=this.noDisposeOnSet,size:v=0,sizeCalculation:I=this.sizeCalculation,noUpdateTTL:S=this.noUpdateTTL,noDeleteOnFetchRejection:k=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:P=this.allowStaleOnFetchRejection,ignoreFetchAbort:R=this.ignoreFetchAbort,allowStaleOnFetchAbort:B=this.allowStaleOnFetchAbort,context:T,forceRefresh:W=!1,status:L,signal:U}=y;if(!this.#A)return L&&(L.fetch="get"),this.get(c,{allowStale:m,updateAgeOnGet:E,noDeleteOnStaleGet:g,status:L});let ae={allowStale:m,updateAgeOnGet:E,noDeleteOnStaleGet:g,ttl:_,noDisposeOnSet:A,size:v,sizeCalculation:I,noUpdateTTL:S,noDeleteOnFetchRejection:k,allowStaleOnFetchRejection:P,allowStaleOnFetchAbort:B,ignoreFetchAbort:R,status:L,signal:U},Q=this.#n.get(c);if(Q===void 0){L&&(L.fetch="miss");let K=this.#j(c,Q,ae,T);return K.__returned=K}else{let K=this.#e[Q];if(this.#l(K)){let C=m&&K.__staleWhileFetching!==void 0;return L&&(L.fetch="inflight",C&&(L.returnedStale=!0)),C?K.__staleWhileFetching:K.__returned=K}let re=this.#w(Q);if(!W&&!re)return L&&(L.fetch="hit"),this.#R(Q),E&&this.#O(Q),L&&this.#T(L,Q),K;let F=this.#j(c,Q,ae,T),Z=F.__staleWhileFetching!==void 0&&m;return L&&(L.fetch=re?"stale":"refresh",Z&&re&&(L.returnedStale=!0)),Z?F.__staleWhileFetching:F.__returned=F}}async forceFetch(c,y={}){let m=await this.fetch(c,y);if(m===void 0)throw new Error("fetch() returned undefined");return m}memo(c,y={}){let m=this.#h;if(!m)throw new Error("no memoMethod provided to constructor");let{context:E,forceRefresh:g,..._}=y,A=this.get(c,_);if(!g&&A!==void 0)return A;let v=m(c,A,{options:_,context:E});return this.set(c,v,_),v}get(c,y={}){let{allowStale:m=this.allowStale,updateAgeOnGet:E=this.updateAgeOnGet,noDeleteOnStaleGet:g=this.noDeleteOnStaleGet,status:_}=y,A=this.#n.get(c);if(A!==void 0){let v=this.#e[A],I=this.#l(v);return _&&this.#T(_,A),this.#w(A)?(_&&(_.get="stale"),I?(_&&m&&v.__staleWhileFetching!==void 0&&(_.returnedStale=!0),m?v.__staleWhileFetching:void 0):(g||this.#k(c,"expire"),_&&m&&(_.returnedStale=!0),m?v:void 0)):(_&&(_.get="hit"),I?v.__staleWhileFetching:(this.#R(A),E&&this.#O(A),v))}else _&&(_.get="miss")}#D(c,y){this.#g[y]=c,this.#p[c]=y}#R(c){c!==this.#f&&(c===this.#c?this.#c=this.#p[c]:this.#D(this.#g[c],this.#p[c]),this.#D(this.#f,c),this.#f=c)}delete(c){return this.#k(c,"delete")}#k(c,y){let m=!1;if(this.#o!==0){let E=this.#n.get(c);if(E!==void 0)if(m=!0,this.#o===1)this.#F(y);else{this.#P(E);let g=this.#e[E];if(this.#l(g)?g.__abortController.abort(new Error("deleted")):(this.#v||this.#y)&&(this.#v&&this.#s?.(g,c,y),this.#y&&this.#d?.push([g,c,y])),this.#n.delete(c),this.#i[E]=void 0,this.#e[E]=void 0,E===this.#f)this.#f=this.#g[E];else if(E===this.#c)this.#c=this.#p[E];else{let _=this.#g[E];this.#p[_]=this.#p[E];let A=this.#p[E];this.#g[A]=this.#g[E]}this.#o--,this.#_.push(E)}}if(this.#y&&this.#d?.length){let E=this.#d,g;for(;g=E?.shift();)this.#a?.(...g)}return m}clear(){return this.#F("delete")}#F(c){for(let y of this.#x({allowStale:!0})){let m=this.#e[y];if(this.#l(m))m.__abortController.abort(new Error("deleted"));else{let E=this.#i[y];this.#v&&this.#s?.(m,E,c),this.#y&&this.#d?.push([m,E,c])}}if(this.#n.clear(),this.#e.fill(void 0),this.#i.fill(void 0),this.#m&&this.#S&&(this.#m.fill(0),this.#S.fill(0)),this.#E&&this.#E.fill(0),this.#c=0,this.#f=0,this.#_.length=0,this.#u=0,this.#o=0,this.#y&&this.#d){let y=this.#d,m;for(;m=y?.shift();)this.#a?.(...m)}}};r.LRUCache=p}),Wt=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.ContainerIterator=r.Container=r.Base=void 0;var o=class{constructor(u=0){this.iteratorType=u}equals(u){return this.o===u.o}};r.ContainerIterator=o;var s=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};r.Base=s;var l=class extends s{};r.Container=l}),kh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Wt(),s=class extends o.Base{constructor(u=[]){super(),this.S=[];let e=this;u.forEach(function(n){e.push(n)})}clear(){this.i=0,this.S=[]}push(u){return this.S.push(u),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},l=s;r.default=l}),Th=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Wt(),s=class extends o.Base{constructor(u=[]){super(),this.j=0,this.q=[];let e=this;u.forEach(function(n){e.push(n)})}clear(){this.q=[],this.i=this.j=0}push(u){let e=this.q.length;if(this.j/e>.5&&this.j+this.i>=e&&e>4096){let n=this.i;for(let i=0;i<n;++i)this.q[i]=this.q[this.j+i];this.j=0,this.q[this.i]=u}else this.q[this.j+this.i]=u;return++this.i}pop(){if(this.i===0)return;let u=this.q[this.j++];return this.i-=1,u}front(){if(this.i!==0)return this.q[this.j]}},l=s;r.default=l}),Oh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Wt(),s=class extends o.Base{constructor(u=[],e=function(i,t){return i>t?-1:i<t?1:0},n=!0){if(super(),this.v=e,Array.isArray(u))this.C=n?[...u]:u;else{this.C=[];let t=this;u.forEach(function(a){t.C.push(a)})}this.i=this.C.length;let i=this.i>>1;for(let t=this.i-1>>1;t>=0;--t)this.k(t,i)}m(u){let e=this.C[u];for(;u>0;){let n=u-1>>1,i=this.C[n];if(this.v(i,e)<=0)break;this.C[u]=i,u=n}this.C[u]=e}k(u,e){let n=this.C[u];for(;u<e;){let i=u<<1|1,t=i+1,a=this.C[i];if(t<this.i&&this.v(a,this.C[t])>0&&(i=t,a=this.C[t]),this.v(a,n)>=0)break;this.C[u]=a,u=i}this.C[u]=n}clear(){this.i=0,this.C.length=0}push(u){this.C.push(u),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let u=this.C[0],e=this.C.pop();return this.i-=1,this.i&&(this.C[0]=e,this.k(0,this.i>>1)),u}top(){return this.C[0]}find(u){return this.C.indexOf(u)>=0}remove(u){let e=this.C.indexOf(u);return e<0?!1:(e===0?this.pop():e===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(e,1,this.C.pop()),this.i-=1,this.m(e),this.k(e,this.i>>1)),!0)}updateItem(u){let e=this.C.indexOf(u);return e<0?!1:(this.m(e),this.k(e,this.i>>1),!0)}toArray(){return[...this.C]}},l=s;r.default=l}),Cs=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Wt(),s=class extends o.Container{},l=s;r.default=l}),qt=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.throwIteratorAccessError=o;function o(){throw new RangeError("Iterator access denied!")}}),ku=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.RandomIterator=void 0;var o=Wt(),s=qt(),l=class extends o.ContainerIterator{constructor(u,e){super(e),this.o=u,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,s.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,s.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,s.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,s.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(u){this.container.setElementByPos(this.o,u)}};r.RandomIterator=l}),Ph=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=l(Cs()),s=ku();function l(i){return i&&i.t?i:{default:i}}var u=class Tu extends s.RandomIterator{constructor(t,a,f){super(t,f),this.container=a}copy(){return new Tu(this.o,this.container,this.iteratorType)}},e=class extends o.default{constructor(i=[],t=!0){if(super(),Array.isArray(i))this.J=t?[...i]:i,this.i=i.length;else{this.J=[];let a=this;i.forEach(function(f){a.pushBack(f)})}}clear(){this.i=0,this.J.length=0}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;return this.J[i]}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;return this.J.splice(i,1),this.i-=1,this.i}eraseElementByValue(i){let t=0;for(let a=0;a<this.i;++a)this.J[a]!==i&&(this.J[t++]=this.J[a]);return this.i=this.J.length=t,this.i}eraseElementByIterator(i){let t=i.o;return i=i.next(),this.eraseElementByPos(t),i}pushBack(i){return this.J.push(i),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(i,t){if(i<0||i>this.i-1)throw new RangeError;this.J[i]=t}insert(i,t,a=1){if(i<0||i>this.i)throw new RangeError;return this.J.splice(i,0,...new Array(a).fill(t)),this.i+=a,this.i}find(i){for(let t=0;t<this.i;++t)if(this.J[t]===i)return new u(t,this);return this.end()}reverse(){this.J.reverse()}unique(){let i=1;for(let t=1;t<this.i;++t)this.J[t]!==this.J[t-1]&&(this.J[i++]=this.J[t]);return this.i=this.J.length=i,this.i}sort(i){this.J.sort(i)}forEach(i){for(let t=0;t<this.i;++t)i(this.J[t],t,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},n=e;r.default=n}),Rh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=u(Cs()),s=Wt(),l=qt();function u(t){return t&&t.t?t:{default:t}}var e=class Ou extends s.ContainerIterator{constructor(a,f,d,p){super(p),this.o=a,this.h=f,this.container=d,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l}set pointer(a){this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.l=a}copy(){return new Ou(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(t=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let a=this;t.forEach(function(f){a.pushBack(f)})}V(t){let{L:a,B:f}=t;a.B=f,f.L=a,t===this.p&&(this.p=f),t===this._&&(this._=a),this.i-=1}G(t,a){let f=a.B,d={l:t,L:a,B:f};a.B=d,f.L=d,a===this.h&&(this.p=d),f===this.h&&(this._=d),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new e(this.p,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this._,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let a=this.p;for(;t--;)a=a.B;return a.l}eraseElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let a=this.p;for(;t--;)a=a.B;return this.V(a),this.i}eraseElementByValue(t){let a=this.p;for(;a!==this.h;)a.l===t&&this.V(a),a=a.B;return this.i}eraseElementByIterator(t){let a=t.o;return a===this.h&&(0,l.throwIteratorAccessError)(),t=t.next(),this.V(a),t}pushBack(t){return this.G(t,this._),this.i}popBack(){if(this.i===0)return;let t=this._.l;return this.V(this._),t}pushFront(t){return this.G(t,this.h),this.i}popFront(){if(this.i===0)return;let t=this.p.l;return this.V(this.p),t}setElementByPos(t,a){if(t<0||t>this.i-1)throw new RangeError;let f=this.p;for(;t--;)f=f.B;f.l=a}insert(t,a,f=1){if(t<0||t>this.i)throw new RangeError;if(f<=0)return this.i;if(t===0)for(;f--;)this.pushFront(a);else if(t===this.i)for(;f--;)this.pushBack(a);else{let d=this.p;for(let b=1;b<t;++b)d=d.B;let p=d.B;for(this.i+=f;f--;)d.B={l:a,L:d},d.B.L=d,d=d.B;d.B=p,p.L=d}return this.i}find(t){let a=this.p;for(;a!==this.h;){if(a.l===t)return new e(a,this.h,this);a=a.B}return this.end()}reverse(){if(this.i<=1)return;let t=this.p,a=this._,f=0;for(;f<<1<this.i;){let d=t.l;t.l=a.l,a.l=d,t=t.B,a=a.L,f+=1}}unique(){if(this.i<=1)return this.i;let t=this.p;for(;t!==this.h;){let a=t;for(;a.B!==this.h&&a.l===a.B.l;)a=a.B,this.i-=1;t.B=a.B,t.B.L=t,t=t.B}return this.i}sort(t){if(this.i<=1)return;let a=[];this.forEach(function(d){a.push(d)}),a.sort(t);let f=this.p;a.forEach(function(d){f.l=d,f=f.B})}merge(t){let a=this;if(this.i===0)t.forEach(function(f){a.pushBack(f)});else{let f=this.p;t.forEach(function(d){for(;f!==a.h&&f.l<=d;)f=f.B;a.G(d,f.L)})}return this.i}forEach(t){let a=this.p,f=0;for(;a!==this.h;)t(a.l,f++,this),a=a.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let t=this.p;for(;t!==this.h;)yield t.l,t=t.B}).bind(this)()}},i=n;r.default=i}),Ch=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=l(Cs()),s=ku();function l(i){return i&&i.t?i:{default:i}}var u=class Pu extends s.RandomIterator{constructor(t,a,f){super(t,f),this.container=a}copy(){return new Pu(this.o,this.container,this.iteratorType)}},e=class extends o.default{constructor(i=[],t=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let a=(()=>{if(typeof i.length=="number")return i.length;if(typeof i.size=="number")return i.size;if(typeof i.size=="function")return i.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=t,this.P=Math.max(Math.ceil(a/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let f=Math.ceil(a/this.F);this.j=this.R=(this.P>>1)-(f>>1),this.D=this.N=this.F-a%this.F>>1;let d=this;i.forEach(function(p){d.pushBack(p)})}T(){let i=[],t=Math.max(this.P>>1,1);for(let a=0;a<t;++a)i[a]=new Array(this.F);for(let a=this.j;a<this.P;++a)i[i.length]=this.A[a];for(let a=0;a<this.R;++a)i[i.length]=this.A[a];i[i.length]=[...this.A[this.R]],this.j=t,this.R=i.length-1;for(let a=0;a<t;++a)i[i.length]=new Array(this.F);this.A=i,this.P=i.length}O(i){let t=this.D+i+1,a=t%this.F,f=a-1,d=this.j+(t-a)/this.F;return a===0&&(d-=1),d%=this.P,f<0&&(f+=this.F),{curNodeBucketIndex:d,curNodePointerIndex:f}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new u(0,this)}end(){return new u(this.i,this)}rBegin(){return new u(this.i-1,this,1)}rEnd(){return new u(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(i){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=i,this.i}popBack(){if(this.i===0)return;let i=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,i}pushFront(i){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=i,this.i}popFront(){if(this.i===0)return;let i=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,i}getElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let{curNodeBucketIndex:t,curNodePointerIndex:a}=this.O(i);return this.A[t][a]}setElementByPos(i,t){if(i<0||i>this.i-1)throw new RangeError;let{curNodeBucketIndex:a,curNodePointerIndex:f}=this.O(i);this.A[a][f]=t}insert(i,t,a=1){if(i<0||i>this.i)throw new RangeError;if(i===0)for(;a--;)this.pushFront(t);else if(i===this.i)for(;a--;)this.pushBack(t);else{let f=[];for(let d=i;d<this.i;++d)f.push(this.getElementByPos(d));this.cut(i-1);for(let d=0;d<a;++d)this.pushBack(t);for(let d=0;d<f.length;++d)this.pushBack(f[d])}return this.i}cut(i){if(i<0)return this.clear(),0;let{curNodeBucketIndex:t,curNodePointerIndex:a}=this.O(i);return this.R=t,this.N=a,this.i=i+1,this.i}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;if(i===0)this.popFront();else if(i===this.i-1)this.popBack();else{let t=[];for(let f=i+1;f<this.i;++f)t.push(this.getElementByPos(f));this.cut(i),this.popBack();let a=this;t.forEach(function(f){a.pushBack(f)})}return this.i}eraseElementByValue(i){if(this.i===0)return 0;let t=[];for(let f=0;f<this.i;++f){let d=this.getElementByPos(f);d!==i&&t.push(d)}let a=t.length;for(let f=0;f<a;++f)this.setElementByPos(f,t[f]);return this.cut(a-1)}eraseElementByIterator(i){let t=i.o;return this.eraseElementByPos(t),i=i.next(),i}find(i){for(let t=0;t<this.i;++t)if(this.getElementByPos(t)===i)return new u(t,this);return this.end()}reverse(){let i=0,t=this.i-1;for(;i<t;){let a=this.getElementByPos(i);this.setElementByPos(i,this.getElementByPos(t)),this.setElementByPos(t,a),i+=1,t-=1}}unique(){if(this.i<=1)return this.i;let i=1,t=this.getElementByPos(0);for(let a=1;a<this.i;++a){let f=this.getElementByPos(a);f!==t&&(t=f,this.setElementByPos(i++,f))}for(;this.i>i;)this.popBack();return this.i}sort(i){let t=[];for(let a=0;a<this.i;++a)t.push(this.getElementByPos(a));t.sort(i);for(let a=0;a<this.i;++a)this.setElementByPos(a,t[a])}shrinkToFit(){if(this.i===0)return;let i=[];this.forEach(function(t){i.push(t)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let t=0;t<this.P;++t)this.A.push(new Array(this.F));for(let t=0;t<i.length;++t)this.pushBack(i[t])}forEach(i){for(let t=0;t<this.i;++t)i(this.getElementByPos(t),t,this)}[Symbol.iterator](){return(function*(){for(let i=0;i<this.i;++i)yield this.getElementByPos(i)}).bind(this)()}},n=e;r.default=n}),Mh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.TreeNodeEnableIndex=r.TreeNode=void 0;var o=class{constructor(l,u){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=l,this.l=u}L(){let l=this;if(l.ee===1&&l.tt.tt===l)l=l.W;else if(l.U)for(l=l.U;l.W;)l=l.W;else{let u=l.tt;for(;u.U===l;)l=u,u=l.tt;l=u}return l}B(){let l=this;if(l.W){for(l=l.W;l.U;)l=l.U;return l}else{let u=l.tt;for(;u.W===l;)l=u,u=l.tt;return l.W!==u?u:l}}te(){let l=this.tt,u=this.W,e=u.U;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.U=this,this.tt=u,this.W=e,e&&(e.tt=this),u}se(){let l=this.tt,u=this.U,e=u.W;return l.tt===this?l.tt=u:l.U===this?l.U=u:l.W=u,u.tt=l,u.W=this,this.tt=u,this.U=e,e&&(e.tt=this),u}};r.TreeNode=o;var s=class extends o{constructor(){super(...arguments),this.rt=1}te(){let l=super.te();return this.ie(),l.ie(),l}se(){let l=super.se();return this.ie(),l.ie(),l}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};r.TreeNodeEnableIndex=s}),Ru=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Mh(),s=Wt(),l=qt(),u=class extends s.Container{constructor(n=function(t,a){return t<a?-1:t>a?1:0},i=!1){super(),this.Y=void 0,this.v=n,i?(this.re=o.TreeNodeEnableIndex,this.M=function(t,a,f){let d=this.ne(t,a,f);if(d){let p=d.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let b=this.he(d);if(b){let{parentNode:c,grandParent:y,curNode:m}=b;c.ie(),y.ie(),m.ie()}}return this.i},this.V=function(t){let a=this.fe(t);for(;a!==this.h;)a.rt-=1,a=a.tt}):(this.re=o.TreeNode,this.M=function(t,a,f){let d=this.ne(t,a,f);return d&&this.he(d),this.i},this.V=this.fe),this.h=new this.re}X(n,i){let t=this.h;for(;n;){let a=this.v(n.u,i);if(a<0)n=n.W;else if(a>0)t=n,n=n.U;else return n}return t}Z(n,i){let t=this.h;for(;n;)this.v(n.u,i)<=0?n=n.W:(t=n,n=n.U);return t}$(n,i){let t=this.h;for(;n;){let a=this.v(n.u,i);if(a<0)t=n,n=n.W;else if(a>0)n=n.U;else return n}return t}rr(n,i){let t=this.h;for(;n;)this.v(n.u,i)<0?(t=n,n=n.W):n=n.U;return t}ue(n){for(;;){let i=n.tt;if(i===this.h)return;if(n.ee===1){n.ee=0;return}if(n===i.U){let t=i.W;if(t.ee===1)t.ee=0,i.ee=1,i===this.Y?this.Y=i.te():i.te();else if(t.W&&t.W.ee===1){t.ee=i.ee,i.ee=0,t.W.ee=0,i===this.Y?this.Y=i.te():i.te();return}else t.U&&t.U.ee===1?(t.ee=1,t.U.ee=0,t.se()):(t.ee=1,n=i)}else{let t=i.U;if(t.ee===1)t.ee=0,i.ee=1,i===this.Y?this.Y=i.se():i.se();else if(t.U&&t.U.ee===1){t.ee=i.ee,i.ee=0,t.U.ee=0,i===this.Y?this.Y=i.se():i.se();return}else t.W&&t.W.ee===1?(t.ee=1,t.W.ee=0,t.te()):(t.ee=1,n=i)}}}fe(n){if(this.i===1)return this.clear(),this.h;let i=n;for(;i.U||i.W;){if(i.W)for(i=i.W;i.U;)i=i.U;else i=i.U;[n.u,i.u]=[i.u,n.u],[n.l,i.l]=[i.l,n.l],n=i}this.h.U===i?this.h.U=i.tt:this.h.W===i&&(this.h.W=i.tt),this.ue(i);let t=i.tt;return i===t.U?t.U=void 0:t.W=void 0,this.i-=1,this.Y.ee=0,t}oe(n,i){return n===void 0?!1:this.oe(n.U,i)||i(n)?!0:this.oe(n.W,i)}he(n){for(;;){let i=n.tt;if(i.ee===0)return;let t=i.tt;if(i===t.U){let a=t.W;if(a&&a.ee===1){if(a.ee=i.ee=0,t===this.Y)return;t.ee=1,n=t;continue}else if(n===i.W){if(n.ee=0,n.U&&(n.U.tt=i),n.W&&(n.W.tt=t),i.W=n.U,t.U=n.W,n.U=i,n.W=t,t===this.Y)this.Y=n,this.h.tt=n;else{let f=t.tt;f.U===t?f.U=n:f.W=n}return n.tt=t.tt,i.tt=n,t.tt=n,t.ee=1,{parentNode:i,grandParent:t,curNode:n}}else i.ee=0,t===this.Y?this.Y=t.se():t.se(),t.ee=1}else{let a=t.U;if(a&&a.ee===1){if(a.ee=i.ee=0,t===this.Y)return;t.ee=1,n=t;continue}else if(n===i.U){if(n.ee=0,n.U&&(n.U.tt=t),n.W&&(n.W.tt=i),t.W=n.U,i.U=n.W,n.U=t,n.W=i,t===this.Y)this.Y=n,this.h.tt=n;else{let f=t.tt;f.U===t?f.U=n:f.W=n}return n.tt=t.tt,i.tt=n,t.tt=n,t.ee=1,{parentNode:i,grandParent:t,curNode:n}}else i.ee=0,t===this.Y?this.Y=t.te():t.te(),t.ee=1}return}}ne(n,i,t){if(this.Y===void 0){this.i+=1,this.Y=new this.re(n,i),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let a,f=this.h.U,d=this.v(f.u,n);if(d===0){f.l=i;return}else if(d>0)f.U=new this.re(n,i),f.U.tt=f,a=f.U,this.h.U=a;else{let p=this.h.W,b=this.v(p.u,n);if(b===0){p.l=i;return}else if(b<0)p.W=new this.re(n,i),p.W.tt=p,a=p.W,this.h.W=a;else{if(t!==void 0){let c=t.o;if(c!==this.h){let y=this.v(c.u,n);if(y===0){c.l=i;return}else if(y>0){let m=c.L(),E=this.v(m.u,n);if(E===0){m.l=i;return}else E<0&&(a=new this.re(n,i),m.W===void 0?(m.W=a,a.tt=m):(c.U=a,a.tt=c))}}}if(a===void 0)for(a=this.Y;;){let c=this.v(a.u,n);if(c>0){if(a.U===void 0){a.U=new this.re(n,i),a.U.tt=a,a=a.U;break}a=a.U}else if(c<0){if(a.W===void 0){a.W=new this.re(n,i),a.W.tt=a,a=a.W;break}a=a.W}else{a.l=i;return}}}}return this.i+=1,a}I(n,i){for(;n;){let t=this.v(n.u,i);if(t<0)n=n.W;else if(t>0)n=n.U;else return n}return n||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(n,i){let t=n.o;if(t===this.h&&(0,l.throwIteratorAccessError)(),this.i===1)return t.u=i,!0;if(t===this.h.U)return this.v(t.B().u,i)>0?(t.u=i,!0):!1;if(t===this.h.W)return this.v(t.L().u,i)<0?(t.u=i,!0):!1;let a=t.L().u;if(this.v(a,i)>=0)return!1;let f=t.B().u;return this.v(f,i)<=0?!1:(t.u=i,!0)}eraseElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i=0,t=this;return this.oe(this.Y,function(a){return n===i?(t.V(a),!0):(i+=1,!1)}),this.i}eraseElementByKey(n){if(this.i===0)return!1;let i=this.I(this.Y,n);return i===this.h?!1:(this.V(i),!0)}eraseElementByIterator(n){let i=n.o;i===this.h&&(0,l.throwIteratorAccessError)();let t=i.W===void 0;return n.iteratorType===0?t&&n.next():(!t||i.U===void 0)&&n.next(),this.V(i),n}forEach(n){let i=0;for(let t of this)n(t,i++,this)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i,t=0;for(let a of this){if(t===n){i=a;break}t+=1}return i}getHeight(){if(this.i===0)return 0;let n=function(i){return i?Math.max(n(i.U),n(i.W))+1:0};return n(this.Y)}},e=u;r.default=e}),Cu=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Wt(),s=qt(),l=class extends o.ContainerIterator{constructor(e,n,i){super(i),this.o=e,this.h=n,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,s.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let e=this.o,n=this.h.tt;if(e===this.h)return n?n.rt-1:0;let i=0;for(e.U&&(i+=e.U.rt);e!==n;){let t=e.tt;e===t.W&&(i+=1,t.U&&(i+=t.U.rt)),e=t}return i}},u=l;r.default=u}),jh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=u(Ru()),s=u(Cu()),l=qt();function u(t){return t&&t.t?t:{default:t}}var e=class Mu extends s.default{constructor(a,f,d,p){super(a,f,p),this.container=d}get pointer(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o.u}copy(){return new Mu(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(t=[],a,f){super(a,f);let d=this;t.forEach(function(p){d.insert(p)})}*K(t){t!==void 0&&(yield*this.K(t.U),yield t.u,yield*this.K(t.W))}begin(){return new e(this.h.U||this.h,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this.h.W||this.h,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(t,a){return this.M(t,void 0,a)}find(t){let a=this.I(this.Y,t);return new e(a,this.h,this)}lowerBound(t){let a=this.X(this.Y,t);return new e(a,this.h,this)}upperBound(t){let a=this.Z(this.Y,t);return new e(a,this.h,this)}reverseLowerBound(t){let a=this.$(this.Y,t);return new e(a,this.h,this)}reverseUpperBound(t){let a=this.rr(this.Y,t);return new e(a,this.h,this)}union(t){let a=this;return t.forEach(function(f){a.insert(f)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},i=n;r.default=i}),Nh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=u(Ru()),s=u(Cu()),l=qt();function u(t){return t&&t.t?t:{default:t}}var e=class ju extends s.default{constructor(a,f,d,p){super(a,f,p),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(f,d){if(d==="0")return a.o.u;if(d==="1")return a.o.l},set(f,d,p){if(d!=="1")throw new TypeError("props must be 1");return a.o.l=p,!0}})}copy(){return new ju(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.default{constructor(t=[],a,f){super(a,f);let d=this;t.forEach(function(p){d.setElement(p[0],p[1])})}*K(t){t!==void 0&&(yield*this.K(t.U),yield[t.u,t.l],yield*this.K(t.W))}begin(){return new e(this.h.U||this.h,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this.h.W||this.h,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){if(this.i===0)return;let t=this.h.U;return[t.u,t.l]}back(){if(this.i===0)return;let t=this.h.W;return[t.u,t.l]}lowerBound(t){let a=this.X(this.Y,t);return new e(a,this.h,this)}upperBound(t){let a=this.Z(this.Y,t);return new e(a,this.h,this)}reverseLowerBound(t){let a=this.$(this.Y,t);return new e(a,this.h,this)}reverseUpperBound(t){let a=this.rr(this.Y,t);return new e(a,this.h,this)}setElement(t,a,f){return this.M(t,a,f)}find(t){let a=this.I(this.Y,t);return new e(a,this.h,this)}getElementByKey(t){return this.I(this.Y,t).l}union(t){let a=this;return t.forEach(function(f){a.setElement(f[0],f[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},i=n;r.default=i}),Nu=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=o;function o(s){let l=typeof s;return l==="object"&&s!==null||l==="function"}}),Bu=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.HashContainerIterator=r.HashContainer=void 0;var o=Wt(),s=u(Nu()),l=qt();function u(i){return i&&i.t?i:{default:i}}var e=class extends o.ContainerIterator{constructor(i,t,a){super(a),this.o=i,this.h=t,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,l.throwIteratorAccessError)(),this.o=this.o.L,this})}};r.HashContainerIterator=e;var n=class extends o.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(i){let{L:t,B:a}=i;t.B=a,a.L=t,i===this.p&&(this.p=a),i===this._&&(this._=t),this.i-=1}M(i,t,a){a===void 0&&(a=(0,s.default)(i));let f;if(a){let d=i[this.HASH_TAG];if(d!==void 0)return this.H[d].l=t,this.i;Object.defineProperty(i,this.HASH_TAG,{value:this.H.length,configurable:!0}),f={u:i,l:t,L:this._,B:this.h},this.H.push(f)}else{let d=this.g[i];if(d)return d.l=t,this.i;f={u:i,l:t,L:this._,B:this.h},this.g[i]=f}return this.i===0?(this.p=f,this.h.B=f):this._.B=f,this._=f,this.h.L=f,++this.i}I(i,t){if(t===void 0&&(t=(0,s.default)(i)),t){let a=i[this.HASH_TAG];return a===void 0?this.h:this.H[a]}else return this.g[i]||this.h}clear(){let i=this.HASH_TAG;this.H.forEach(function(t){delete t.u[i]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(i,t){let a;if(t===void 0&&(t=(0,s.default)(i)),t){let f=i[this.HASH_TAG];if(f===void 0)return!1;delete i[this.HASH_TAG],a=this.H[f],delete this.H[f]}else{if(a=this.g[i],a===void 0)return!1;delete this.g[i]}return this.V(a),!0}eraseElementByIterator(i){let t=i.o;return t===this.h&&(0,l.throwIteratorAccessError)(),this.V(t),i.next()}eraseElementByPos(i){if(i<0||i>this.i-1)throw new RangeError;let t=this.p;for(;i--;)t=t.B;return this.V(t),this.i}};r.HashContainer=n}),Bh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Bu(),s=qt(),l=class Uu extends o.HashContainerIterator{constructor(i,t,a,f){super(i,t,f),this.container=a}get pointer(){return this.o===this.h&&(0,s.throwIteratorAccessError)(),this.o.u}copy(){return new Uu(this.o,this.h,this.container,this.iteratorType)}},u=class extends o.HashContainer{constructor(n=[]){super();let i=this;n.forEach(function(t){i.insert(t)})}begin(){return new l(this.p,this.h,this)}end(){return new l(this.h,this.h,this)}rBegin(){return new l(this._,this.h,this,1)}rEnd(){return new l(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(n,i){return this.M(n,void 0,i)}getElementByPos(n){if(n<0||n>this.i-1)throw new RangeError;let i=this.p;for(;n--;)i=i.B;return i.u}find(n,i){let t=this.I(n,i);return new l(t,this.h,this)}forEach(n){let i=0,t=this.p;for(;t!==this.h;)n(t.u,i++,this),t=t.B}[Symbol.iterator](){return(function*(){let n=this.p;for(;n!==this.h;)yield n.u,n=n.B}).bind(this)()}},e=u;r.default=e}),Uh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),r.default=void 0;var o=Bu(),s=u(Nu()),l=qt();function u(t){return t&&t.t?t:{default:t}}var e=class Lu extends o.HashContainerIterator{constructor(a,f,d,p){super(a,f,p),this.container=d}get pointer(){this.o===this.h&&(0,l.throwIteratorAccessError)();let a=this;return new Proxy([],{get(f,d){if(d==="0")return a.o.u;if(d==="1")return a.o.l},set(f,d,p){if(d!=="1")throw new TypeError("props must be 1");return a.o.l=p,!0}})}copy(){return new Lu(this.o,this.h,this.container,this.iteratorType)}},n=class extends o.HashContainer{constructor(t=[]){super();let a=this;t.forEach(function(f){a.setElement(f[0],f[1])})}begin(){return new e(this.p,this.h,this)}end(){return new e(this.h,this.h,this)}rBegin(){return new e(this._,this.h,this,1)}rEnd(){return new e(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(t,a,f){return this.M(t,a,f)}getElementByKey(t,a){if(a===void 0&&(a=(0,s.default)(t)),a){let d=t[this.HASH_TAG];return d!==void 0?this.H[d].l:void 0}let f=this.g[t];return f?f.l:void 0}getElementByPos(t){if(t<0||t>this.i-1)throw new RangeError;let a=this.p;for(;t--;)a=a.B;return[a.u,a.l]}find(t,a){let f=this.I(t,a);return new e(f,this.h,this)}forEach(t){let a=0,f=this.p;for(;f!==this.h;)t([f.u,f.l],a++,this),f=f.B}[Symbol.iterator](){return(function*(){let t=this.p;for(;t!==this.h;)yield[t.u,t.l],t=t.B}).bind(this)()}},i=n;r.default=i}),Lh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"t",{value:!0}),Object.defineProperty(r,"Deque",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(r,"HashMap",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(r,"HashSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"LinkList",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(r,"OrderedMap",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(r,"OrderedSet",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(r,"PriorityQueue",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(r,"Queue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(r,"Stack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(r,"Vector",{enumerable:!0,get:function(){return u.default}});var o=d(kh()),s=d(Th()),l=d(Oh()),u=d(Ph()),e=d(Rh()),n=d(Ch()),i=d(jh()),t=d(Nh()),a=d(Bh()),f=d(Uh());function d(p){return p&&p.t?p:{default:p}}}),Dh=de((r,o)=>{le(),fe(),ue();var s=Lh().OrderedSet,l=Bt()("number-allocator:trace"),u=Bt()("number-allocator:error");function e(i,t){this.low=i,this.high=t}e.prototype.equals=function(i){return this.low===i.low&&this.high===i.high},e.prototype.compare=function(i){return this.low<i.low&&this.high<i.low?-1:i.low<this.low&&i.high<this.low?1:0};function n(i,t){if(!(this instanceof n))return new n(i,t);this.min=i,this.max=t,this.ss=new s([],(a,f)=>a.compare(f)),l("Create"),this.clear()}n.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},n.prototype.alloc=function(){if(this.ss.size()===0)return l("alloc():empty"),null;let i=this.ss.begin(),t=i.pointer.low,a=i.pointer.high,f=t;return f+1<=a?this.ss.updateKeyByIterator(i,new e(t+1,a)):this.ss.eraseElementByPos(0),l("alloc():"+f),f},n.prototype.use=function(i){let t=new e(i,i),a=this.ss.lowerBound(t);if(!a.equals(this.ss.end())){let f=a.pointer.low,d=a.pointer.high;return a.pointer.equals(t)?(this.ss.eraseElementByIterator(a),l("use():"+i),!0):f>i?!1:f===i?(this.ss.updateKeyByIterator(a,new e(f+1,d)),l("use():"+i),!0):d===i?(this.ss.updateKeyByIterator(a,new e(f,d-1)),l("use():"+i),!0):(this.ss.updateKeyByIterator(a,new e(i+1,d)),this.ss.insert(new e(f,i-1)),l("use():"+i),!0)}return l("use():failed"),!1},n.prototype.free=function(i){if(i<this.min||i>this.max){u("free():"+i+" is out of range");return}let t=new e(i,i),a=this.ss.upperBound(t);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(t);return}a.pre();let f=a.pointer.high;a.pointer.high+1===i?this.ss.updateKeyByIterator(a,new e(f,i)):this.ss.insert(t)}else if(a.equals(this.ss.begin()))if(i+1===a.pointer.low){let f=a.pointer.high;this.ss.updateKeyByIterator(a,new e(i,f))}else this.ss.insert(t);else{let f=a.pointer.low,d=a.pointer.high;a.pre();let p=a.pointer.low;a.pointer.high+1===i?i+1===f?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new e(p,d))):this.ss.updateKeyByIterator(a,new e(p,i)):i+1===f?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new e(i,d))):this.ss.insert(t)}l("free():"+i)},n.prototype.clear=function(){l("clear()"),this.ss.clear(),this.ss.insert(new e(this.min,this.max))},n.prototype.intervalCount=function(){return this.ss.size()},n.prototype.dump=function(){console.log("length:"+this.ss.size());for(let i of this.ss)console.log(i)},o.exports=n}),Du=de((r,o)=>{le(),fe(),ue();var s=Dh();o.exports.NumberAllocator=s}),Fh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=xh(),s=Du(),l=class{aliasToTopic;topicToAlias;max;numberAllocator;length;constructor(u){u>0&&(this.aliasToTopic=new o.LRUCache({max:u}),this.topicToAlias={},this.numberAllocator=new s.NumberAllocator(1,u),this.max=u,this.length=0)}put(u,e){if(e===0||e>this.max)return!1;let n=this.aliasToTopic.get(e);return n&&delete this.topicToAlias[n],this.aliasToTopic.set(e,u),this.topicToAlias[u]=e,this.numberAllocator.use(e),this.length=this.aliasToTopic.size,!0}getTopicByAlias(u){return this.aliasToTopic.get(u)}getAliasByTopic(u){let e=this.topicToAlias[u];return typeof e<"u"&&this.aliasToTopic.get(e),e}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};r.default=l}),Wh=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(r,"__esModule",{value:!0});var s=ei(),l=o(Fh()),u=Nr(),e=(n,i)=>{n.log("_handleConnack");let{options:t}=n,a=t.protocolVersion===5?i.reasonCode:i.returnCode;if(clearTimeout(n.connackTimer),delete n.topicAliasSend,i.properties){if(i.properties.topicAliasMaximum){if(i.properties.topicAliasMaximum>65535){n.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}i.properties.topicAliasMaximum>0&&(n.topicAliasSend=new l.default(i.properties.topicAliasMaximum))}i.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=i.properties.serverKeepAlive),i.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=i.properties.maximumPacketSize)}if(a===0)n.reconnecting=!1,n._onConnect(i);else if(a>0){let f=new u.ErrorWithReasonCode(`Connection refused: ${s.ReasonCodes[a]}`,a);n.emit("error",f),n.options.reconnectOnConnackError&&n._cleanUp(!0)}};r.default=e}),qh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=(s,l,u)=>{s.log("handling pubrel packet");let e=typeof u<"u"?u:s.noop,{messageId:n}=l,i={cmd:"pubcomp",messageId:n};s.incomingStore.get(l,(t,a)=>{t?s._sendPacket(i,e):(s.emit("message",a.topic,a.payload,a),s.handleMessage(a,f=>{if(f)return e(f);s.incomingStore.del(a,s.noop),s._sendPacket(i,e)}))})};r.default=o}),$h=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var s=o(Sh()),l=o(Ih()),u=o(Wh()),e=o(ei()),n=o(qh()),i=(t,a,f)=>{let{options:d}=t;if(d.protocolVersion===5&&d.properties&&d.properties.maximumPacketSize&&d.properties.maximumPacketSize<a.length)return t.emit("error",new Error(`exceeding packets size ${a.cmd}`)),t.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),t;switch(t.log("_handlePacket :: emitting packetreceive"),t.emit("packetreceive",a),a.cmd){case"publish":(0,s.default)(t,a,f);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":t.reschedulePing(),(0,e.default)(t,a),f();break;case"pubrel":t.reschedulePing(),(0,n.default)(t,a,f);break;case"connack":(0,u.default)(t,a),f();break;case"auth":t.reschedulePing(),(0,l.default)(t,a),f();break;case"pingresp":t.log("_handlePacket :: received pingresp"),t.reschedulePing(!0),f();break;case"disconnect":t.emit("disconnect",a),f();break;default:t.log("_handlePacket :: unknown command"),f();break}};r.default=i}),Fu=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=class{nextId;constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let s=this.nextId++;return this.nextId===65536&&(this.nextId=1),s}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(s){return!0}deallocate(s){}clear(){}};r.default=o}),Vh=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=class{aliasToTopic;max;length;constructor(s){this.aliasToTopic={},this.max=s}put(s,l){return l===0||l>this.max?!1:(this.aliasToTopic[l]=s,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(s){return this.aliasToTopic[s]}clear(){this.aliasToTopic={}}};r.default=o}),zh=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TypedEventEmitter=void 0;var s=o((gr(),Ce(Zt))),l=Nr(),u=class{};r.TypedEventEmitter=u,(0,l.applyMixin)(u,s.default)}),ti=de((r,o)=>{le(),fe(),ue();function s(l){"@babel/helpers - typeof";return o.exports=s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o.exports.__esModule=!0,o.exports.default=o.exports,s(l)}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),Kh=de((r,o)=>{le(),fe(),ue();var s=ti().default;function l(u,e){if(s(u)!="object"||!u)return u;var n=u[Symbol.toPrimitive];if(n!==void 0){var i=n.call(u,e||"default");if(s(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(u)}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),Hh=de((r,o)=>{le(),fe(),ue();var s=ti().default,l=Kh();function u(e){var n=l(e,"string");return s(n)=="symbol"?n:n+""}o.exports=u,o.exports.__esModule=!0,o.exports.default=o.exports}),Gh=de((r,o)=>{le(),fe(),ue();var s=Hh();function l(u,e,n){return(e=s(e))in u?Object.defineProperty(u,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):u[e]=n,u}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),Qh=de((r,o)=>{le(),fe(),ue();function s(l){if(Array.isArray(l))return l}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),Yh=de((r,o)=>{le(),fe(),ue();function s(l,u){var e=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(e!=null){var n,i,t,a,f=[],d=!0,p=!1;try{if(t=(e=e.call(l)).next,u===0){if(Object(e)!==e)return;d=!1}else for(;!(d=(n=t.call(e)).done)&&(f.push(n.value),f.length!==u);d=!0);}catch(b){p=!0,i=b}finally{try{if(!d&&e.return!=null&&(a=e.return(),Object(a)!==a))return}finally{if(p)throw i}}return f}}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),Jh=de((r,o)=>{le(),fe(),ue();function s(l,u){(u==null||u>l.length)&&(u=l.length);for(var e=0,n=Array(u);e<u;e++)n[e]=l[e];return n}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),Xh=de((r,o)=>{le(),fe(),ue();var s=Jh();function l(u,e){if(u){if(typeof u=="string")return s(u,e);var n={}.toString.call(u).slice(8,-1);return n==="Object"&&u.constructor&&(n=u.constructor.name),n==="Map"||n==="Set"?Array.from(u):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(u,e):void 0}}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),Zh=de((r,o)=>{le(),fe(),ue();function s(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),ep=de((r,o)=>{le(),fe(),ue();var s=Qh(),l=Yh(),u=Xh(),e=Zh();function n(i,t){return s(i)||l(i,t)||u(i,t)||e()}o.exports=n,o.exports.__esModule=!0,o.exports.default=o.exports}),Wu=de((r,o)=>{le(),fe(),ue(),(function(s,l){typeof r=="object"&&typeof o<"u"?l(r):typeof define=="function"&&define.amd?define(["exports"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.fastUniqueNumbers={}))})(r,function(s){var l=function(b){return function(c){var y=b(c);return c.add(y),y}},u=function(b){return function(c,y){return b.set(c,y),y}},e=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,n=536870912,i=n*2,t=function(b,c){return function(y){var m=c.get(y),E=m===void 0?y.size:m<i?m+1:0;if(!y.has(E))return b(y,E);if(y.size<n){for(;y.has(E);)E=Math.floor(Math.random()*i);return b(y,E)}if(y.size>e)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;y.has(E);)E=Math.floor(Math.random()*e);return b(y,E)}},a=new WeakMap,f=u(a),d=t(f,a),p=l(d);s.addUniqueNumber=p,s.generateUniqueNumber=d})}),tp=de((r,o)=>{le(),fe(),ue();function s(u,e,n,i,t,a,f){try{var d=u[a](f),p=d.value}catch(b){return void n(b)}d.done?e(p):Promise.resolve(p).then(i,t)}function l(u){return function(){var e=this,n=arguments;return new Promise(function(i,t){var a=u.apply(e,n);function f(p){s(a,i,t,f,d,"next",p)}function d(p){s(a,i,t,f,d,"throw",p)}f(void 0)})}}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),qu=de((r,o)=>{le(),fe(),ue();function s(l,u){this.v=l,this.k=u}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),$u=de((r,o)=>{le(),fe(),ue();function s(l,u,e,n){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}o.exports=s=function(t,a,f,d){function p(b,c){s(t,b,function(y){return this._invoke(b,c,y)})}a?i?i(t,a,{value:f,enumerable:!d,configurable:!d,writable:!d}):t[a]=f:(p("next",0),p("throw",1),p("return",2))},o.exports.__esModule=!0,o.exports.default=o.exports,s(l,u,e,n)}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),Vu=de((r,o)=>{le(),fe(),ue();var s=$u();function l(){var u,e,n=typeof Symbol=="function"?Symbol:{},i=n.iterator||"@@iterator",t=n.toStringTag||"@@toStringTag";function a(E,g,_,A){var v=g&&g.prototype instanceof d?g:d,I=Object.create(v.prototype);return s(I,"_invoke",(function(S,k,P){var R,B,T,W=0,L=P||[],U=!1,ae={p:0,n:0,v:u,a:Q,f:Q.bind(u,4),d:function(K,re){return R=K,B=0,T=u,ae.n=re,f}};function Q(K,re){for(B=K,T=re,e=0;!U&&W&&!F&&e<L.length;e++){var F,Z=L[e],C=ae.p,J=Z[2];K>3?(F=J===re)&&(T=Z[(B=Z[4])?5:(B=3,3)],Z[4]=Z[5]=u):Z[0]<=C&&((F=K<2&&C<Z[1])?(B=0,ae.v=re,ae.n=Z[1]):C<J&&(F=K<3||Z[0]>re||re>J)&&(Z[4]=K,Z[5]=re,ae.n=J,B=0))}if(F||K>1)return f;throw U=!0,re}return function(K,re,F){if(W>1)throw TypeError("Generator is already running");for(U&&re===1&&Q(re,F),B=re,T=F;(e=B<2?u:T)||!U;){R||(B?B<3?(B>1&&(ae.n=-1),Q(B,T)):ae.n=T:ae.v=T);try{if(W=2,R){if(B||(K="next"),e=R[K]){if(!(e=e.call(R,T)))throw TypeError("iterator result is not an object");if(!e.done)return e;T=e.value,B<2&&(B=0)}else B===1&&(e=R.return)&&e.call(R),B<2&&(T=TypeError("The iterator does not provide a '"+K+"' method"),B=1);R=u}else if((e=(U=ae.n<0)?T:S.call(k,ae))!==f)break}catch(Z){R=u,B=1,T=Z}finally{W=1}}return{value:e,done:U}}})(E,_,A),!0),I}var f={};function d(){}function p(){}function b(){}e=Object.getPrototypeOf;var c=[][i]?e(e([][i]())):(s(e={},i,function(){return this}),e),y=b.prototype=d.prototype=Object.create(c);function m(E){return Object.setPrototypeOf?Object.setPrototypeOf(E,b):(E.__proto__=b,s(E,t,"GeneratorFunction")),E.prototype=Object.create(y),E}return p.prototype=b,s(y,"constructor",b),s(b,"constructor",p),p.displayName="GeneratorFunction",s(b,t,"GeneratorFunction"),s(y),s(y,t,"Generator"),s(y,i,function(){return this}),s(y,"toString",function(){return"[object Generator]"}),(o.exports=l=function(){return{w:a,m}},o.exports.__esModule=!0,o.exports.default=o.exports)()}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),zu=de((r,o)=>{le(),fe(),ue();var s=qu(),l=$u();function u(e,n){function i(a,f,d,p){try{var b=e[a](f),c=b.value;return c instanceof s?n.resolve(c.v).then(function(y){i("next",y,d,p)},function(y){i("throw",y,d,p)}):n.resolve(c).then(function(y){b.value=y,d(b)},function(y){return i("throw",y,d,p)})}catch(y){p(y)}}var t;this.next||(l(u.prototype),l(u.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),l(this,"_invoke",function(a,f,d){function p(){return new n(function(b,c){i(a,d,b,c)})}return t=t?t.then(p,p):p()},!0)}o.exports=u,o.exports.__esModule=!0,o.exports.default=o.exports}),Ku=de((r,o)=>{le(),fe(),ue();var s=Vu(),l=zu();function u(e,n,i,t,a){return new l(s().w(e,n,i,t),a||Promise)}o.exports=u,o.exports.__esModule=!0,o.exports.default=o.exports}),rp=de((r,o)=>{le(),fe(),ue();var s=Ku();function l(u,e,n,i,t){var a=s(u,e,n,i,t);return a.next().then(function(f){return f.done?f.value:a.next()})}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),np=de((r,o)=>{le(),fe(),ue();function s(l){var u=Object(l),e=[];for(var n in u)e.unshift(n);return function i(){for(;e.length;)if((n=e.pop())in u)return i.value=n,i.done=!1,i;return i.done=!0,i}}o.exports=s,o.exports.__esModule=!0,o.exports.default=o.exports}),ip=de((r,o)=>{le(),fe(),ue();var s=ti().default;function l(u){if(u!=null){var e=u[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(u);if(typeof u.next=="function")return u;if(!isNaN(u.length))return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}}}throw new TypeError(s(u)+" is not iterable")}o.exports=l,o.exports.__esModule=!0,o.exports.default=o.exports}),op=de((r,o)=>{le(),fe(),ue();var s=qu(),l=Vu(),u=rp(),e=Ku(),n=zu(),i=np(),t=ip();function a(){var f=l(),d=f.m(a),p=(Object.getPrototypeOf?Object.getPrototypeOf(d):d.__proto__).constructor;function b(m){var E=typeof m=="function"&&m.constructor;return!!E&&(E===p||(E.displayName||E.name)==="GeneratorFunction")}var c={throw:1,return:2,break:3,continue:3};function y(m){var E,g;return function(_){E||(E={stop:function(){return g(_.a,2)},catch:function(){return _.v},abrupt:function(A,v){return g(_.a,c[A],v)},delegateYield:function(A,v,I){return E.resultName=v,g(_.d,t(A),I)},finish:function(A){return g(_.f,A)}},g=function(A,v,I){_.p=E.prev,_.n=E.next;try{return A(v,I)}finally{E.next=_.n}}),E.resultName&&(E[E.resultName]=_.v,E.resultName=void 0),E.sent=_.v,E.next=_.n;try{return m.call(this,E)}finally{_.p=E.prev,_.n=E.next}}}return(o.exports=a=function(){return{wrap:function(m,E,g,_){return f.w(y(m),E,g,_&&_.reverse())},isGeneratorFunction:b,mark:f.m,awrap:function(m,E){return new s(m,E)},AsyncIterator:n,async:function(m,E,g,_,A){return(b(E)?e:u)(y(m),E,g,_,A)},keys:i,values:t}},o.exports.__esModule=!0,o.exports.default=o.exports)()}o.exports=a,o.exports.__esModule=!0,o.exports.default=o.exports}),sp=de((r,o)=>{le(),fe(),ue();var s=op()();o.exports=s;try{regeneratorRuntime=s}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=s:Function("r","regeneratorRuntime = r")(s)}}),ap=de((r,o)=>{le(),fe(),ue(),(function(s,l){typeof r=="object"&&typeof o<"u"?l(r,Gh(),ep(),Wu(),tp(),sp()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/defineProperty","@babel/runtime/helpers/slicedToArray","fast-unique-numbers","@babel/runtime/helpers/asyncToGenerator","@babel/runtime/regenerator"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.brokerFactory={},s._defineProperty,s._slicedToArray,s.fastUniqueNumbers,s._asyncToGenerator,s._regeneratorRuntime))})(r,function(s,l,u,e,n,i){var t=function(g){return typeof g.start=="function"},a=new WeakMap;function f(g,_){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);_&&(v=v.filter(function(I){return Object.getOwnPropertyDescriptor(g,I).enumerable})),A.push.apply(A,v)}return A}function d(g){for(var _=1;_<arguments.length;_++){var A=arguments[_]!=null?arguments[_]:{};_%2?f(Object(A),!0).forEach(function(v){l(g,v,A[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):f(Object(A)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(A,v))})}return g}var p=function(g){return d(d({},g),{},{connect:function(_){var A=_.call;return n(i.mark(function v(){var I,S,k,P;return i.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return I=new MessageChannel,S=I.port1,k=I.port2,R.next=1,A("connect",{port:S},[S]);case 1:return P=R.sent,a.set(k,P),R.abrupt("return",k);case 2:case"end":return R.stop()}},v)}))},disconnect:function(_){var A=_.call;return(function(){var v=n(i.mark(function I(S){var k;return i.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(k=a.get(S),k!==void 0){P.next=1;break}throw new Error("The given port is not connected.");case 1:return P.next=2,A("disconnect",{portId:k});case 2:case"end":return P.stop()}},I)}));return function(I){return v.apply(this,arguments)}})()},isSupported:function(_){var A=_.call;return function(){return A("isSupported")}}})};function b(g,_){var A=Object.keys(g);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(g);_&&(v=v.filter(function(I){return Object.getOwnPropertyDescriptor(g,I).enumerable})),A.push.apply(A,v)}return A}function c(g){for(var _=1;_<arguments.length;_++){var A=arguments[_]!=null?arguments[_]:{};_%2?b(Object(A),!0).forEach(function(v){l(g,v,A[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(A)):b(Object(A)).forEach(function(v){Object.defineProperty(g,v,Object.getOwnPropertyDescriptor(A,v))})}return g}var y=new WeakMap,m=function(g){if(y.has(g))return y.get(g);var _=new Map;return y.set(g,_),_},E=function(g){var _=p(g);return function(A){var v=m(A);A.addEventListener("message",function(L){var U=L.data,ae=U.id;if(ae!==null&&v.has(ae)){var Q=v.get(ae),K=Q.reject,re=Q.resolve;v.delete(ae),U.error===void 0?re(U.result):K(new Error(U.error.message))}}),t(A)&&A.start();for(var I=function(L){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return new Promise(function(Q,K){var re=e.generateUniqueNumber(v);v.set(re,{reject:K,resolve:Q}),U===null?A.postMessage({id:re,method:L},ae):A.postMessage({id:re,method:L,params:U},ae)})},S=function(L,U){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];A.postMessage({id:null,method:L,params:U},ae)},k={},P=0,R=Object.entries(_);P<R.length;P++){var B=u(R[P],2),T=B[0],W=B[1];k=c(c({},k),{},l({},T,W({call:I,notify:S})))}return c({},k)}};s.createBroker=E})}),lp=de((r,o)=>{le(),fe(),ue(),(function(s,l){typeof r=="object"&&typeof o<"u"?l(r,ti(),ap(),Wu()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/typeof","broker-factory","fast-unique-numbers"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.workerTimersBroker={},s._typeof,s.brokerFactory,s.fastUniqueNumbers))})(r,function(s,l,u,e){var n=new Map([[0,null]]),i=new Map([[0,null]]),t=u.createBroker({clearInterval:function(f){var d=f.call;return function(p){l(n.get(p))==="symbol"&&(n.set(p,null),d("clear",{timerId:p,timerType:"interval"}).then(function(){n.delete(p)}))}},clearTimeout:function(f){var d=f.call;return function(p){l(i.get(p))==="symbol"&&(i.set(p,null),d("clear",{timerId:p,timerType:"timeout"}).then(function(){i.delete(p)}))}},setInterval:function(f){var d=f.call;return function(p){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length,y=new Array(c>2?c-2:0),m=2;m<c;m++)y[m-2]=arguments[m];var E=Symbol(),g=e.generateUniqueNumber(n);n.set(g,E);var _=function(){return d("set",{delay:b,now:performance.timeOrigin+performance.now(),timerId:g,timerType:"interval"}).then(function(){var A=n.get(g);if(A===void 0)throw new Error("The timer is in an undefined state.");A===E&&(p.apply(void 0,y),n.get(g)===E&&_())})};return _(),g}},setTimeout:function(f){var d=f.call;return function(p){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,c=arguments.length,y=new Array(c>2?c-2:0),m=2;m<c;m++)y[m-2]=arguments[m];var E=Symbol(),g=e.generateUniqueNumber(i);return i.set(g,E),d("set",{delay:b,now:performance.timeOrigin+performance.now(),timerId:g,timerType:"timeout"}).then(function(){var _=i.get(g);if(_===void 0)throw new Error("The timer is in an undefined state.");_===E&&(i.delete(g),p.apply(void 0,y))}),g}}}),a=function(f){var d=new Worker(f);return t(d)};s.load=a,s.wrap=t})}),up=de((r,o)=>{le(),fe(),ue(),(function(s,l){typeof r=="object"&&typeof o<"u"?l(r,lp()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],l):(s=typeof globalThis<"u"?globalThis:s||self,l(s.workerTimers={},s.workerTimersBroker))})(r,function(s,l){var u=function(d,p){var b=null;return function(){if(b!==null)return b;var c=new Blob([p],{type:"application/javascript; charset=utf-8"}),y=URL.createObjectURL(c);return b=d(y),setTimeout(function(){return URL.revokeObjectURL(y)}),b}},e=`(()=>{var e={45:(e,t,r)=>{var n=r(738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},122:(e,t,r)=>{var n=r(79);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},156:e=>{e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,u,a,i=[],s=!0,c=!1;try{if(u=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(c)throw o}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},293:e=>{function t(e,t,r,n,o,u,a){try{var i=e[u](a),s=i.value}catch(e){return void r(e)}i.done?t(s):Promise.resolve(s).then(n,o)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,u){var a=e.apply(r,n);function i(e){t(a,o,u,i,s,"next",e)}function s(e){t(a,o,u,i,s,"throw",e)}i(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},373:e=>{e.exports=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},e.exports.__esModule=!0,e.exports.default=e.exports},389:function(e,t){!function(e){"use strict";var t=function(e){return function(t){var r=e(t);return t.add(r),r}},r=function(e){return function(t,r){return e.set(t,r),r}},n=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,u=2*o,a=function(e,t){return function(r){var a=t.get(r),i=void 0===a?r.size:a<u?a+1:0;if(!r.has(i))return e(r,i);if(r.size<o){for(;r.has(i);)i=Math.floor(Math.random()*u);return e(r,i)}if(r.size>n)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(i);)i=Math.floor(Math.random()*n);return e(r,i)}},i=new WeakMap,s=r(i),c=a(s,i),f=t(c);e.addUniqueNumber=f,e.generateUniqueNumber=c}(t)},472:function(e,t,r){!function(e,t,r,n){"use strict";var o=function(e,t){return function(r){var o=t.get(r);if(void 0===o)return Promise.resolve(!1);var u=n(o,2),a=u[0],i=u[1];return e(a),t.delete(r),i(!1),Promise.resolve(!0)}},u=function(e,t){var r=function(n,o,u,a){var i=n-e.now();i>0?o.set(a,[t(r,i,n,o,u,a),u]):(o.delete(a),u(!0))};return r},a=function(e,t,r,n){return function(o,u,a){var i=o+u-t.timeOrigin,s=i-t.now();return new Promise((function(t){e.set(a,[r(n,s,i,e,t,a),t])}))}},i=new Map,s=o(globalThis.clearTimeout,i),c=new Map,f=o(globalThis.clearTimeout,c),l=u(performance,globalThis.setTimeout),p=a(i,performance,globalThis.setTimeout,l),d=a(c,performance,globalThis.setTimeout,l);r.createWorker(self,{clear:function(){var r=e(t.mark((function e(r){var n,o,u;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.timerId,o=r.timerType,e.next=1,"interval"===o?s(n):f(n);case 1:return u=e.sent,e.abrupt("return",{result:u});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}(),set:function(){var r=e(t.mark((function e(r){var n,o,u,a,i;return t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.delay,o=r.now,u=r.timerId,a=r.timerType,e.next=1,("interval"===a?p:d)(n,o,u);case 1:return i=e.sent,e.abrupt("return",{result:i});case 2:case"end":return e.stop()}}),e)})));function n(e){return r.apply(this,arguments)}return n}()})}(r(293),r(756),r(623),r(715))},546:e=>{function t(r,n,o,u){var a=Object.defineProperty;try{a({},"",{})}catch(r){a=0}e.exports=t=function(e,r,n,o){if(r)a?a(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n;else{var u=function(r,n){t(e,r,(function(e){return this._invoke(r,n,e)}))};u("next",0),u("throw",1),u("return",2)}},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n,o,u)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},579:(e,t,r)=>{var n=r(738).default;e.exports=function(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(n(e)+" is not iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},623:function(e,t,r){!function(e,t,r,n,o){"use strict";var u={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601},a=function(e,t){return Object.assign(new Error(e),{status:t})},i=function(e){return a('The requested method called "'.concat(e,'" is not supported.'),u.METHOD_NOT_FOUND)},s=function(e){return a('The handler of the method called "'.concat(e,'" returned no required result.'),u.INTERNAL_ERROR)},c=function(e){return a('The handler of the method called "'.concat(e,'" returned an unexpected result.'),u.INTERNAL_ERROR)},f=function(e){return a('The specified parameter called "portId" with the given value "'.concat(e,'" does not identify a port connected to this worker.'),u.INVALID_PARAMS)},l=function(e,n){return function(){var o=t(r.mark((function t(o){var u,a,f,l,p,d,v,x,y,b,h,m,_,g,w;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=o.data,a=u.id,f=u.method,l=u.params,p=n[f],t.prev=1,void 0!==p){t.next=2;break}throw i(f);case 2:if(void 0!==(d=void 0===l?p():p(l))){t.next=3;break}throw s(f);case 3:if(!(d instanceof Promise)){t.next=5;break}return t.next=4,d;case 4:g=t.sent,t.next=6;break;case 5:g=d;case 6:if(v=g,null!==a){t.next=8;break}if(void 0===v.result){t.next=7;break}throw c(f);case 7:t.next=10;break;case 8:if(void 0!==v.result){t.next=9;break}throw c(f);case 9:x=v.result,y=v.transferables,b=void 0===y?[]:y,e.postMessage({id:a,result:x},b);case 10:t.next=12;break;case 11:t.prev=11,w=t.catch(1),h=w.message,m=w.status,_=void 0===m?-32603:m,e.postMessage({error:{code:_,message:h},id:a});case 12:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return o.apply(this,arguments)}}()},p=function(){return new Promise((function(e){var t=new ArrayBuffer(0),r=new MessageChannel,n=r.port1,o=r.port2;n.onmessage=function(t){var r=t.data;return e(null!==r)},o.postMessage(t,[t])}))};function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=new Map,y=function(e,n,u){return v(v({},n),{},{connect:function(t){var r=t.port;r.start();var u=e(r,n),a=o.generateUniqueNumber(x);return x.set(a,(function(){u(),r.close(),x.delete(a)})),{result:a}},disconnect:function(e){var t=e.portId,r=x.get(t);if(void 0===r)throw f(t);return r(),{result:null}},isSupported:function(){var e=t(r.mark((function e(){var t,n,o;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=1,p();case 1:if(!e.sent){e.next=5;break}if(!((t=u())instanceof Promise)){e.next=3;break}return e.next=2,t;case 2:o=e.sent,e.next=4;break;case 3:o=t;case 4:return n=o,e.abrupt("return",{result:n});case 5:return e.abrupt("return",{result:!1});case 6:case"end":return e.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})},b=function(e,t){var r=y(b,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0}),n=l(e,r);return e.addEventListener("message",n),function(){return e.removeEventListener("message",n)}};e.createWorker=b,e.isSupported=p}(t,r(293),r(756),r(693),r(389))},633:(e,t,r)=>{var n=r(172),o=r(993),u=r(869),a=r(887),i=r(791),s=r(373),c=r(579);function f(){"use strict";var t=o(),r=t.m(f),l=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function p(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))}var d={throw:1,return:2,break:3,continue:3};function v(e){var t,r;return function(n){t||(t={stop:function(){return r(n.a,2)},catch:function(){return n.v},abrupt:function(e,t){return r(n.a,d[e],t)},delegateYield:function(e,o,u){return t.resultName=o,r(n.d,c(e),u)},finish:function(e){return r(n.f,e)}},r=function(e,r,o){n.p=t.prev,n.n=t.next;try{return e(r,o)}finally{t.next=n.n}}),t.resultName&&(t[t.resultName]=n.v,t.resultName=void 0),t.sent=n.v,t.next=n.n;try{return e.call(this,t)}finally{n.p=t.prev,n.n=t.next}}}return(e.exports=f=function(){return{wrap:function(e,r,n,o){return t.w(v(e),r,n,o&&o.reverse())},isGeneratorFunction:p,mark:t.m,awrap:function(e,t){return new n(e,t)},AsyncIterator:i,async:function(e,t,r,n,o){return(p(t)?a:u)(v(e),t,r,n,o)},keys:s,values:c}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=f,e.exports.__esModule=!0,e.exports.default=e.exports},693:(e,t,r)=>{var n=r(736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},715:(e,t,r)=>{var n=r(987),o=r(156),u=r(122),a=r(752);e.exports=function(e,t){return n(e)||o(e,t)||u(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},736:(e,t,r)=>{var n=r(738).default,o=r(45);e.exports=function(e){var t=o(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,r)=>{var n=r(633)();e.exports=n;try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},791:(e,t,r)=>{var n=r(172),o=r(546);e.exports=function e(t,r){function u(e,o,a,i){try{var s=t[e](o),c=s.value;return c instanceof n?r.resolve(c.v).then((function(e){u("next",e,a,i)}),(function(e){u("throw",e,a,i)})):r.resolve(c).then((function(e){s.value=e,a(s)}),(function(e){return u("throw",e,a,i)}))}catch(e){i(e)}}var a;this.next||(o(e.prototype),o(e.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),o(this,"_invoke",(function(e,t,n){function o(){return new r((function(t,r){u(e,n,t,r)}))}return a=a?a.then(o,o):o()}),!0)},e.exports.__esModule=!0,e.exports.default=e.exports},869:(e,t,r)=>{var n=r(887);e.exports=function(e,t,r,o,u){var a=n(e,t,r,o,u);return a.next().then((function(e){return e.done?e.value:a.next()}))},e.exports.__esModule=!0,e.exports.default=e.exports},887:(e,t,r)=>{var n=r(993),o=r(791);e.exports=function(e,t,r,u,a){return new o(n().w(e,t,r,u),a||Promise)},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},993:(e,t,r)=>{var n=r(546);function o(){var t,r,u="function"==typeof Symbol?Symbol:{},a=u.iterator||"@@iterator",i=u.toStringTag||"@@toStringTag";function s(e,o,u,a){var i=o&&o.prototype instanceof f?o:f,s=Object.create(i.prototype);return n(s,"_invoke",function(e,n,o){var u,a,i,s=0,f=o||[],l=!1,p={p:0,n:0,v:t,a:d,f:d.bind(t,4),d:function(e,r){return u=e,a=0,i=t,p.n=r,c}};function d(e,n){for(a=e,i=n,r=0;!l&&s&&!o&&r<f.length;r++){var o,u=f[r],d=p.p,v=u[2];e>3?(o=v===n)&&(i=u[(a=u[4])?5:(a=3,3)],u[4]=u[5]=t):u[0]<=d&&((o=e<2&&d<u[1])?(a=0,p.v=n,p.n=u[1]):d<v&&(o=e<3||u[0]>n||n>v)&&(u[4]=e,u[5]=n,p.n=v,a=0))}if(o||e>1)return c;throw l=!0,n}return function(o,f,v){if(s>1)throw TypeError("Generator is already running");for(l&&1===f&&d(f,v),a=f,i=v;(r=a<2?t:i)||!l;){u||(a?a<3?(a>1&&(p.n=-1),d(a,i)):p.n=i:p.v=i);try{if(s=2,u){if(a||(o="next"),r=u[o]){if(!(r=r.call(u,i)))throw TypeError("iterator result is not an object");if(!r.done)return r;i=r.value,a<2&&(a=0)}else 1===a&&(r=u.return)&&r.call(u),a<2&&(i=TypeError("The iterator does not provide a '"+o+"' method"),a=1);u=t}else if((r=(l=p.n<0)?i:e.call(n,p))!==c)break}catch(e){u=t,a=1,i=e}finally{s=1}}return{value:r,done:l}}}(e,u,a),!0),s}var c={};function f(){}function l(){}function p(){}r=Object.getPrototypeOf;var d=[][a]?r(r([][a]())):(n(r={},a,(function(){return this})),r),v=p.prototype=f.prototype=Object.create(d);function x(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,n(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e}return l.prototype=p,n(v,"constructor",p),n(p,"constructor",l),l.displayName="GeneratorFunction",n(p,i,"GeneratorFunction"),n(v),n(v,i,"Generator"),n(v,a,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),(e.exports=o=function(){return{w:s,m:x}},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var u=t[n]={exports:{}};return e[n].call(u.exports,u,u.exports,r),u.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,n=u(l.load,e),i=function(d){return n().clearInterval(d)},t=function(d){return n().clearTimeout(d)},a=function(){var d;return(d=n()).setInterval.apply(d,arguments)},f=function(){var d;return(d=n()).setTimeout.apply(d,arguments)};s.clearInterval=i,s.clearTimeout=t,s.setInterval=a,s.setTimeout=f})}),ri=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.isReactNativeBrowser=r.isWebWorker=void 0;var o=()=>typeof window<"u"?typeof navigator<"u"&&navigator.userAgent?.toLowerCase().indexOf(" electron/")>-1&&je?.versions?!Object.prototype.hasOwnProperty.call(je.versions,"electron"):typeof window.document<"u":!1,s=()=>!!(typeof self=="object"&&self?.constructor?.name?.includes("WorkerGlobalScope")&&typeof Deno>"u"),l=()=>typeof navigator<"u"&&navigator.product==="ReactNative",u=o()||s()||l();r.isWebWorker=s(),r.isReactNativeBrowser=l(),r.default=u}),fp=de(r=>{le(),fe(),ue();var o=r&&r.__createBinding||(Object.create?function(a,f,d,p){p===void 0&&(p=d);var b=Object.getOwnPropertyDescriptor(f,d);(!b||("get"in b?!f.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return f[d]}}),Object.defineProperty(a,p,b)}:function(a,f,d,p){p===void 0&&(p=d),a[p]=f[d]}),s=r&&r.__setModuleDefault||(Object.create?function(a,f){Object.defineProperty(a,"default",{enumerable:!0,value:f})}:function(a,f){a.default=f}),l=r&&r.__importStar||(function(){var a=function(f){return a=Object.getOwnPropertyNames||function(d){var p=[];for(var b in d)Object.prototype.hasOwnProperty.call(d,b)&&(p[p.length]=b);return p},a(f)};return function(f){if(f&&f.__esModule)return f;var d={};if(f!=null)for(var p=a(f),b=0;b<p.length;b++)p[b]!=="default"&&o(d,f,p[b]);return s(d,f),d}})();Object.defineProperty(r,"__esModule",{value:!0});var u=up(),e=l(ri()),n={set:u.setInterval,clear:u.clearInterval},i={set:(a,f)=>setInterval(a,f),clear:a=>clearInterval(a)},t=a=>{switch(a){case"native":return i;case"worker":return n;case"auto":default:return e.default&&!e.isWebWorker&&!e.isReactNativeBrowser?n:i}};r.default=t}),Hu=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(r,"__esModule",{value:!0});var s=o(fp()),l=class{_keepalive;timerId;timer;destroyed=!1;counter;client;_keepaliveTimeoutTimestamp;_intervalEvery;get keepaliveTimeoutTimestamp(){return this._keepaliveTimeoutTimestamp}get intervalEvery(){return this._intervalEvery}get keepalive(){return this._keepalive}constructor(u,e){this.client=u,this.timer=typeof e=="object"&&"set"in e&&"clear"in e?e:(0,s.default)(e),this.setKeepalive(u.options.keepalive)}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}setKeepalive(u){if(u*=1e3,isNaN(u)||u<=0||u>2147483647)throw new Error(`Keepalive value must be an integer between 0 and 2147483647. Provided value is ${u}`);this._keepalive=u,this.reschedule(),this.client.log(`KeepaliveManager: set keepalive to ${u}ms`)}destroy(){this.clear(),this.destroyed=!0}reschedule(){if(this.destroyed)return;this.clear(),this.counter=0;let u=Math.ceil(this._keepalive*1.5);this._keepaliveTimeoutTimestamp=Date.now()+u,this._intervalEvery=Math.ceil(this._keepalive/2),this.timerId=this.timer.set(()=>{this.destroyed||(this.counter+=1,this.counter===2?this.client.sendPing():this.counter>2&&this.client.onKeepaliveTimeout())},this._intervalEvery)}};r.default=l}),Oo=de(r=>{le(),fe(),ue();var o=r&&r.__createBinding||(Object.create?function(v,I,S,k){k===void 0&&(k=S);var P=Object.getOwnPropertyDescriptor(I,S);(!P||("get"in P?!I.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return I[S]}}),Object.defineProperty(v,k,P)}:function(v,I,S,k){k===void 0&&(k=S),v[k]=I[S]}),s=r&&r.__setModuleDefault||(Object.create?function(v,I){Object.defineProperty(v,"default",{enumerable:!0,value:I})}:function(v,I){v.default=I}),l=r&&r.__importStar||(function(){var v=function(I){return v=Object.getOwnPropertyNames||function(S){var k=[];for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&(k[k.length]=P);return k},v(I)};return function(I){if(I&&I.__esModule)return I;var S={};if(I!=null)for(var k=v(I),P=0;P<k.length;P++)k[P]!=="default"&&o(S,I,k[P]);return s(S,I),S}})(),u=r&&r.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(r,"__esModule",{value:!0});var e=u(vh()),n=br(),i=u(wh()),t=u(Bt()),a=l(Eh()),f=u(Su()),d=u($h()),p=u(Fu()),b=u(Vh()),c=Nr(),y=zh(),m=u(Hu()),E=l(ri()),g=globalThis.setImmediate||((...v)=>{let I=v.shift();(0,c.nextTick)(()=>{I(...v)})}),_={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,subscribeBatchSize:null,writeCache:!0,timerVariant:"auto"},A=class Po extends y.TypedEventEmitter{static VERSION=c.MQTTJS_VERSION;connected;disconnecting;disconnected;reconnecting;incomingStore;outgoingStore;options;queueQoSZero;_reconnectCount;log;messageIdProvider;outgoing;messageIdToTopic;noop;keepaliveManager;stream;queue;streamBuilder;_resubscribeTopics;connackTimer;reconnectTimer;_storeProcessing;_packetIdsDuringStoreProcessing;_storeProcessingQueue;_firstConnection;topicAliasRecv;topicAliasSend;_deferredReconnect;connackPacket;static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(I,S){super(),this.options=S||{};for(let k in _)typeof this.options[k]>"u"?this.options[k]=_[k]:this.options[k]=S[k];this.log=this.options.log||(0,t.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",Po.VERSION),E.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",E.default?"browser":"node"),this.log("MqttClient :: options.protocol",S.protocol),this.log("MqttClient :: options.protocolVersion",S.protocolVersion),this.log("MqttClient :: options.username",S.username),this.log("MqttClient :: options.keepalive",S.keepalive),this.log("MqttClient :: options.reconnectPeriod",S.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",S.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",S.properties?S.properties.topicAliasMaximum:void 0),this.options.clientId=typeof S.clientId=="string"?S.clientId:Po.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=S.protocolVersion===5&&S.customHandleAcks?S.customHandleAcks:(...k)=>{k[3](null,0)},this.options.writeCache||(e.default.writeToStream.cacheNumbers=!1),this.streamBuilder=I,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new p.default:this.options.messageIdProvider,this.outgoingStore=S.outgoingStore||new f.default,this.incomingStore=S.incomingStore||new f.default,this.queueQoSZero=S.queueQoSZero===void 0?!0:S.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.keepaliveManager=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,S.properties&&S.properties.topicAliasMaximum>0&&(S.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new b.default(S.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:k}=this,P=()=>{let R=k.shift();this.log("deliver :: entry %o",R);let B=null;if(!R){this._resubscribe();return}B=R.packet,this.log("deliver :: call _sendPacket for %o",B);let T=!0;B.messageId&&B.messageId!==0&&(this.messageIdProvider.register(B.messageId)||(T=!1)),T?this._sendPacket(B,W=>{R.cb&&R.cb(W),P()}):(this.log("messageId: %d has already used. The message is skipped and removed.",B.messageId),P())};this.log("connect :: sending queued packets"),P()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this._destroyKeepaliveManager(),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(I,S){S()}handleMessage(I,S){S()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){let I=new n.Writable,S=e.default.parser(this.options),k=null,P=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.disconnected&&!this.reconnecting&&(this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),S.on("packet",L=>{this.log("parser :: on packet push to packets array."),P.push(L)});let R=()=>{this.log("work :: getting next packet in queue");let L=P.shift();if(L)this.log("work :: packet pulled from queue"),(0,d.default)(this,L,B);else{this.log("work :: no packets in queue");let U=k;k=null,this.log("work :: done flag is %s",!!U),U&&U()}},B=()=>{if(P.length)(0,c.nextTick)(R);else{let L=k;k=null,L()}};I._write=(L,U,ae)=>{k=ae,this.log("writable stream :: parsing buffer"),S.parse(L),R()};let T=L=>{this.log("streamErrorHandler :: error",L.message),L.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",L)):this.noop(L)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(I),this.stream.on("error",T),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let W={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(W.will={...this.options.will,payload:this.options.will?.payload}),this.topicAliasRecv&&(W.properties||(W.properties={}),this.topicAliasRecv&&(W.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(W),S.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let L={cmd:"auth",reasonCode:0,...this.options.authPacket};this._writePacket(L)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(I,S,k,P){this.log("publish :: message `%s` to topic `%s`",S,I);let{options:R}=this;typeof k=="function"&&(P=k,k=null),k=k||{},k={qos:0,retain:!1,dup:!1,...k};let{qos:B,retain:T,dup:W,properties:L,cbStorePut:U}=k;if(this._checkDisconnecting(P))return this;let ae=()=>{let Q=0;if((B===1||B===2)&&(Q=this._nextId(),Q===null))return this.log("No messageId left"),!1;let K={cmd:"publish",topic:I,payload:S,qos:B,retain:T,messageId:Q,dup:W};switch(R.protocolVersion===5&&(K.properties=L),this.log("publish :: qos",B),B){case 1:case 2:this.outgoing[K.messageId]={volatile:!1,cb:P||this.noop},this.log("MqttClient:publish: packet cmd: %s",K.cmd),this._sendPacket(K,void 0,U);break;default:this.log("MqttClient:publish: packet cmd: %s",K.cmd),this._sendPacket(K,P,U);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!ae())&&this._storeProcessingQueue.push({invoke:ae,cbStorePut:k.cbStorePut,callback:P}),this}publishAsync(I,S,k){return new Promise((P,R)=>{this.publish(I,S,k,(B,T)=>{B?R(B):P(T)})})}subscribe(I,S,k){let P=this.options.protocolVersion;typeof S=="function"&&(k=S),k=k||this.noop;let R=!1,B=[];typeof I=="string"?(I=[I],B=I):Array.isArray(I)?B=I:typeof I=="object"&&(R=I.resubscribe,delete I.resubscribe,B=Object.keys(I));let T=a.validateTopics(B);if(T!==null)return g(k,new Error(`Invalid topic ${T}`)),this;if(this._checkDisconnecting(k))return this.log("subscribe: discconecting true"),this;let W={qos:0};P===5&&(W.nl=!1,W.rap=!1,W.rh=0),S={...W,...S};let{properties:L}=S,U=[],ae=(re,F)=>{if(F=F||S,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,re)||this._resubscribeTopics[re].qos<F.qos||R){let Z={topic:re,qos:F.qos};P===5&&(Z.nl=F.nl,Z.rap=F.rap,Z.rh=F.rh,Z.properties=L),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Z.topic,Z.qos),U.push(Z)}};if(Array.isArray(I)?I.forEach(re=>{this.log("subscribe: array topic %s",re),ae(re)}):Object.keys(I).forEach(re=>{this.log("subscribe: object topic %s, %o",re,I[re]),ae(re,I[re])}),!U.length)return k(null,[]),this;let Q=(re,F)=>{let Z={cmd:"subscribe",subscriptions:re,messageId:F};if(L&&(Z.properties=L),this.options.resubscribe){this.log("subscribe :: resubscribe true");let J=[];re.forEach(be=>{if(this.options.reconnectPeriod>0){let te={qos:be.qos};P===5&&(te.nl=be.nl||!1,te.rap=be.rap||!1,te.rh=be.rh||0,te.properties=be.properties),this._resubscribeTopics[be.topic]=te,J.push(be.topic)}}),this.messageIdToTopic[Z.messageId]=J}let C=new Promise((J,be)=>{this.outgoing[Z.messageId]={volatile:!0,cb(te,_e){if(!te){let{granted:H}=_e;for(let N=0;N<H.length;N+=1)re[N].qos=H[N]}te?be(new c.ErrorWithSubackPacket(te.message,_e)):J(_e)}}});return this.log("subscribe :: call _sendPacket"),this._sendPacket(Z),C},K=()=>{let re=this.options.subscribeBatchSize??U.length,F=[];for(let Z=0;Z<U.length;Z+=re){let C=U.slice(Z,Z+re),J=this._nextId();if(J===null)return this.log("No messageId left"),!1;F.push(Q(C,J))}return Promise.all(F).then(Z=>{k(null,U,Z.at(-1))}).catch(Z=>{k(Z,U,Z.packet)}),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!K())&&this._storeProcessingQueue.push({invoke:K,callback:k}),this}subscribeAsync(I,S){return new Promise((k,P)=>{this.subscribe(I,S,(R,B)=>{R?P(R):k(B)})})}unsubscribe(I,S,k){typeof I=="string"&&(I=[I]),typeof S=="function"&&(k=S),k=k||this.noop;let P=a.validateTopics(I);if(P!==null)return g(k,new Error(`Invalid topic ${P}`)),this;if(this._checkDisconnecting(k))return this;let R=()=>{let B=this._nextId();if(B===null)return this.log("No messageId left"),!1;let T={cmd:"unsubscribe",messageId:B,unsubscriptions:[]};return typeof I=="string"?T.unsubscriptions=[I]:Array.isArray(I)&&(T.unsubscriptions=I),this.options.resubscribe&&T.unsubscriptions.forEach(W=>{delete this._resubscribeTopics[W]}),typeof S=="object"&&S.properties&&(T.properties=S.properties),this.outgoing[T.messageId]={volatile:!0,cb:k},this.log("unsubscribe: call _sendPacket"),this._sendPacket(T),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!R())&&this._storeProcessingQueue.push({invoke:R,callback:k}),this}unsubscribeAsync(I,S){return new Promise((k,P)=>{this.unsubscribe(I,S,(R,B)=>{R?P(R):k(B)})})}end(I,S,k){this.log("end :: (%s)",this.options.clientId),(I==null||typeof I!="boolean")&&(k=k||S,S=I,I=!1),typeof S!="object"&&(k=k||S,S=null),this.log("end :: cb? %s",!!k),(!k||typeof k!="function")&&(k=this.noop);let P=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(B=>{this.outgoingStore.close(T=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),k){let W=B||T;this.log("end :: closeStores: invoking callback with args"),k(W)}})}),this._deferredReconnect?this._deferredReconnect():(this.options.reconnectPeriod===0||this.options.manualConnect)&&(this.disconnecting=!1)},R=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,I),this._cleanUp(I,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,c.nextTick)(P)},S)};return this.disconnecting?(k(),this):(this._clearReconnect(),this.disconnecting=!0,!I&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,R,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),R()),this)}endAsync(I,S){return new Promise((k,P)=>{this.end(I,S,R=>{R?P(R):k()})})}removeOutgoingMessage(I){if(this.outgoing[I]){let{cb:S}=this.outgoing[I];this._removeOutgoingAndStoreMessage(I,()=>{S(new Error("Message removed"))})}return this}reconnect(I){this.log("client reconnect");let S=()=>{I?(this.options.incomingStore=I.incomingStore,this.options.outgoingStore=I.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new f.default,this.outgoingStore=this.options.outgoingStore||new f.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=S:S(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(I=>{this.outgoing[I].volatile&&typeof this.outgoing[I].cb=="function"&&(this.outgoing[I].cb(new Error("Connection closed")),delete this.outgoing[I])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(I=>{typeof this.outgoing[I].cb=="function"&&(this.outgoing[I].cb(new Error("Connection closed")),delete this.outgoing[I])}))}_removeTopicAliasAndRecoverTopicName(I){let S;I.properties&&(S=I.properties.topicAlias);let k=I.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",S,k),k.length===0){if(typeof S>"u")return new Error("Unregistered Topic Alias");if(k=this.topicAliasSend.getTopicByAlias(S),typeof k>"u")return new Error("Unregistered Topic Alias");I.topic=k}S&&delete I.properties.topicAlias}_checkDisconnecting(I){return this.disconnecting&&(I&&I!==this.noop?I(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(I,S,k={}){if(S&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",S)),this.log("_cleanUp :: forced? %s",I),I)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let P={cmd:"disconnect",...k};this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(P,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),g(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this._destroyKeepaliveManager(),S&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",S),S())}_storeAndSend(I,S,k){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",I.cmd);let P=I,R;if(P.cmd==="publish"&&(P=(0,i.default)(I),R=this._removeTopicAliasAndRecoverTopicName(P),R))return S&&S(R);this.outgoingStore.put(P,B=>{if(B)return S&&S(B);k(),this._writePacket(I,S)})}_applyTopicAlias(I){if(this.options.protocolVersion===5&&I.cmd==="publish"){let S;I.properties&&(S=I.properties.topicAlias);let k=I.topic.toString();if(this.topicAliasSend)if(S){if(k.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",k,S),!this.topicAliasSend.put(k,S)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,S),new Error("Sending Topic Alias out of range")}else k.length!==0&&(this.options.autoAssignTopicAlias?(S=this.topicAliasSend.getAliasByTopic(k),S?(I.topic="",I.properties={...I.properties,topicAlias:S},this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",k,S)):(S=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(k,S),I.properties={...I.properties,topicAlias:S},this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",k,S))):this.options.autoUseTopicAlias&&(S=this.topicAliasSend.getAliasByTopic(k),S&&(I.topic="",I.properties={...I.properties,topicAlias:S},this.log("applyTopicAlias :: auto use topic: %s - alias: %d",k,S))));else if(S)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",k,S),new Error("Sending Topic Alias out of range")}}_noop(I){this.log("noop ::",I)}_writePacket(I,S){this.log("_writePacket :: packet: %O",I),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",I),this.log("_writePacket :: writing to stream");let k=e.default.writeToStream(I,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",k),!k&&S&&S!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",S)):S&&(this.log("_writePacket :: invoking cb"),S())}_sendPacket(I,S,k,P){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),k=k||this.noop,S=S||this.noop;let R=this._applyTopicAlias(I);if(R){S(R);return}if(!this.connected){if(I.cmd==="auth"){this._writePacket(I,S);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(I,S,k);return}if(P){this._writePacket(I,S);return}switch(I.cmd){case"publish":break;case"pubrel":this._storeAndSend(I,S,k);return;default:this._writePacket(I,S);return}switch(I.qos){case 2:case 1:this._storeAndSend(I,S,k);break;case 0:default:this._writePacket(I,S);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(I,S,k){this.log("_storePacket :: packet: %o",I),this.log("_storePacket :: cb? %s",!!S),k=k||this.noop;let P=I;if(P.cmd==="publish"){P=(0,i.default)(I);let B=this._removeTopicAliasAndRecoverTopicName(P);if(B)return S&&S(B)}let R=P.qos||0;R===0&&this.queueQoSZero||P.cmd!=="publish"?this.queue.push({packet:P,cb:S}):R>0?(S=this.outgoing[P.messageId]?this.outgoing[P.messageId].cb:null,this.outgoingStore.put(P,B=>{if(B)return S&&S(B);k()})):S&&S(new Error("No connection to broker"))}_setupKeepaliveManager(){this.log("_setupKeepaliveManager :: keepalive %d (seconds)",this.options.keepalive),!this.keepaliveManager&&this.options.keepalive&&(this.keepaliveManager=new m.default(this,this.options.timerVariant))}_destroyKeepaliveManager(){this.keepaliveManager&&(this.log("_destroyKeepaliveManager :: destroying keepalive manager"),this.keepaliveManager.destroy(),this.keepaliveManager=null)}reschedulePing(I=!1){this.keepaliveManager&&this.options.keepalive&&(I||this.options.reschedulePings)&&this._reschedulePing()}_reschedulePing(){this.log("_reschedulePing :: rescheduling ping"),this.keepaliveManager.reschedule()}sendPing(){this.log("_sendPing :: sending pingreq"),this._sendPacket({cmd:"pingreq"})}onKeepaliveTimeout(){this.emit("error",new Error("Keepalive timeout")),this.log("onKeepaliveTimeout :: calling _cleanUp with force true"),this._cleanUp(!0)}_resubscribe(){this.log("_resubscribe");let I=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&I.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let S=0;S<I.length;S++){let k={};k[I[S]]=this._resubscribeTopics[I[S]],k.resubscribe=!0,this.subscribe(k,{properties:k[I[S]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(I){if(this.disconnected){this.emit("connect",I);return}this.connackPacket=I,this.messageIdProvider.clear(),this._setupKeepaliveManager(),this.connected=!0;let S=()=>{let k=this.outgoingStore.createStream(),P=()=>{k.destroy(),k=null,this._flushStoreProcessingQueue(),R()},R=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",P),k.on("error",T=>{R(),this._flushStoreProcessingQueue(),this.removeListener("close",P),this.emit("error",T)});let B=()=>{if(!k)return;let T=k.read(1),W;if(!T){k.once("readable",B);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[T.messageId]){B();return}!this.disconnecting&&!this.reconnectTimer?(W=this.outgoing[T.messageId]?this.outgoing[T.messageId].cb:null,this.outgoing[T.messageId]={volatile:!1,cb(L,U){W&&W(L,U),B()}},this._packetIdsDuringStoreProcessing[T.messageId]=!0,this.messageIdProvider.register(T.messageId)?this._sendPacket(T,void 0,void 0,!0):this.log("messageId: %d has already used.",T.messageId)):k.destroy&&k.destroy()};k.on("end",()=>{let T=!0;for(let W in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[W]){T=!1;break}this.removeListener("close",P),T?(R(),this._invokeAllStoreProcessingQueue(),this.emit("connect",I)):S()}),B()};S()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let I=this._storeProcessingQueue[0];if(I&&I.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let I of this._storeProcessingQueue)I.cbStorePut&&I.cbStorePut(new Error("Connection closed")),I.callback&&I.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(I,S){delete this.outgoing[I],this.outgoingStore.del({messageId:I},(k,P)=>{S(k,P),this.messageIdProvider.deallocate(I),this._invokeStoreProcessingQueue()})}};r.default=A}),cp=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=Du(),s=class{numberAllocator;lastId;constructor(){this.numberAllocator=new o.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(l){return this.numberAllocator.use(l)}deallocate(l){this.numberAllocator.free(l)}clear(){this.numberAllocator.clear()}};r.default=s});function hp(){if(Ro)return mn;Ro=!0;let r=2147483647,o=36,s=1,l=26,u=38,e=700,n=72,i=128,t="-",a=/^xn--/,f=/[^\0-\x7F]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=o-s,c=Math.floor,y=String.fromCharCode;function m(R){throw new RangeError(p[R])}function E(R,B){let T=[],W=R.length;for(;W--;)T[W]=B(R[W]);return T}function g(R,B){let T=R.split("@"),W="";T.length>1&&(W=T[0]+"@",R=T[1]),R=R.replace(d,".");let L=R.split("."),U=E(L,B).join(".");return W+U}function _(R){let B=[],T=0,W=R.length;for(;T<W;){let L=R.charCodeAt(T++);if(L>=55296&&L<=56319&&T<W){let U=R.charCodeAt(T++);(U&64512)==56320?B.push(((L&1023)<<10)+(U&1023)+65536):(B.push(L),T--)}else B.push(L)}return B}let A=R=>String.fromCodePoint(...R),v=function(R){return R>=48&&R<58?26+(R-48):R>=65&&R<91?R-65:R>=97&&R<123?R-97:o},I=function(R,B){return R+22+75*(R<26)-((B!=0)<<5)},S=function(R,B,T){let W=0;for(R=T?c(R/e):R>>1,R+=c(R/B);R>b*l>>1;W+=o)R=c(R/b);return c(W+(b+1)*R/(R+u))},k=function(R){let B=[],T=R.length,W=0,L=i,U=n,ae=R.lastIndexOf(t);ae<0&&(ae=0);for(let Q=0;Q<ae;++Q)R.charCodeAt(Q)>=128&&m("not-basic"),B.push(R.charCodeAt(Q));for(let Q=ae>0?ae+1:0;Q<T;){let K=W;for(let F=1,Z=o;;Z+=o){Q>=T&&m("invalid-input");let C=v(R.charCodeAt(Q++));C>=o&&m("invalid-input"),C>c((r-W)/F)&&m("overflow"),W+=C*F;let J=Z<=U?s:Z>=U+l?l:Z-U;if(C<J)break;let be=o-J;F>c(r/be)&&m("overflow"),F*=be}let re=B.length+1;U=S(W-K,re,K==0),c(W/re)>r-L&&m("overflow"),L+=c(W/re),W%=re,B.splice(W++,0,L)}return String.fromCodePoint(...B)},P=function(R){let B=[];R=_(R);let T=R.length,W=i,L=0,U=n;for(let K of R)K<128&&B.push(y(K));let ae=B.length,Q=ae;for(ae&&B.push(t);Q<T;){let K=r;for(let F of R)F>=W&&F<K&&(K=F);let re=Q+1;K-W>c((r-L)/re)&&m("overflow"),L+=(K-W)*re,W=K;for(let F of R)if(F<W&&++L>r&&m("overflow"),F===W){let Z=L;for(let C=o;;C+=o){let J=C<=U?s:C>=U+l?l:C-U;if(Z<J)break;let be=Z-J,te=o-J;B.push(y(I(J+be%te,0))),Z=c(be/te)}B.push(y(I(Z,0))),U=S(L,re,Q===ae),L=0,++Q}++L,++W}return B.join("")};return mn={version:"2.3.1",ucs2:{decode:_,encode:A},decode:k,encode:P,toASCII:function(R){return g(R,function(B){return f.test(B)?"xn--"+P(B):B})},toUnicode:function(R){return g(R,function(B){return a.test(B)?k(B.slice(4).toLowerCase()):B})}},mn}var mn,Ro,Kt,pp=nt(()=>{le(),fe(),ue(),mn={},Ro=!1,Kt=hp(),Kt.decode,Kt.encode,Kt.toASCII,Kt.toUnicode,Kt.ucs2,Kt.version});function dp(){return Mo||(Mo=!0,Co=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},o=Symbol("test"),s=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(s)!=="[object Symbol]")return!1;var l=42;r[o]=l;for(o in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var u=Object.getOwnPropertySymbols(r);if(u.length!==1||u[0]!==o||!Object.prototype.propertyIsEnumerable.call(r,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var e=Object.getOwnPropertyDescriptor(r,o);if(e.value!==l||e.enumerable!==!0)return!1}return!0}),Co}function gp(){return No||(No=!0,jo=Error),jo}function yp(){return Uo||(Uo=!0,Bo=EvalError),Bo}function bp(){return Do||(Do=!0,Lo=RangeError),Lo}function mp(){return Wo||(Wo=!0,Fo=ReferenceError),Fo}function Gu(){return $o||($o=!0,qo=SyntaxError),qo}function an(){return zo||(zo=!0,Vo=TypeError),Vo}function vp(){return Ho||(Ho=!0,Ko=URIError),Ko}function _p(){if(Go)return vn;Go=!0;var r=typeof Symbol<"u"&&Symbol,o=dp();return vn=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:o()},vn}function wp(){if(Qo)return _n;Qo=!0;var r={__proto__:null,foo:{}},o=Object;return _n=function(){return{__proto__:r}.foo===r.foo&&!(r instanceof o)},_n}function Ep(){if(Yo)return wn;Yo=!0;var r="Function.prototype.bind called on incompatible ",o=Object.prototype.toString,s=Math.max,l="[object Function]",u=function(i,t){for(var a=[],f=0;f<i.length;f+=1)a[f]=i[f];for(var d=0;d<t.length;d+=1)a[d+i.length]=t[d];return a},e=function(i,t){for(var a=[],f=t,d=0;f<i.length;f+=1,d+=1)a[d]=i[f];return a},n=function(i,t){for(var a="",f=0;f<i.length;f+=1)a+=i[f],f+1<i.length&&(a+=t);return a};return wn=function(i){var t=this;if(typeof t!="function"||o.apply(t)!==l)throw new TypeError(r+t);for(var a=e(arguments,1),f,d=function(){if(this instanceof f){var m=t.apply(this,u(a,arguments));return Object(m)===m?m:this}return t.apply(i,u(a,arguments))},p=s(0,t.length-a.length),b=[],c=0;c<p;c++)b[c]="$"+c;if(f=Function("binder","return function ("+n(b,",")+"){ return binder.apply(this,arguments); }")(d),t.prototype){var y=function(){};y.prototype=t.prototype,f.prototype=new y,y.prototype=null}return f},wn}function Ms(){if(Jo)return En;Jo=!0;var r=Ep();return En=Function.prototype.bind||r,En}function Sp(){if(Xo)return Sn;Xo=!0;var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,s=Ms();return Sn=s.call(r,o),Sn}function Br(){if(Zo)return An;Zo=!0;var r,o=gp(),s=yp(),l=bp(),u=mp(),e=Gu(),n=an(),i=vp(),t=Function,a=function(Q){try{return t('"use strict"; return ('+Q+").constructor;")()}catch{}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch{f=null}var d=function(){throw new n},p=f?(function(){try{return arguments.callee,d}catch{try{return f(arguments,"callee").get}catch{return d}}})():d,b=_p()(),c=wp()(),y=Object.getPrototypeOf||(c?function(Q){return Q.__proto__}:null),m={},E=typeof Uint8Array>"u"||!y?r:y(Uint8Array),g={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":b&&y?y([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":m,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":b&&y?y(y([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!b||!y?r:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":l,"%ReferenceError%":u,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!b||!y?r:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":b&&y?y(""[Symbol.iterator]()):r,"%Symbol%":b?Symbol:r,"%SyntaxError%":e,"%ThrowTypeError%":p,"%TypedArray%":E,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":i,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(y)try{null.error}catch(Q){var _=y(y(Q));g["%Error.prototype%"]=_}var A=function Q(K){var re;if(K==="%AsyncFunction%")re=a("async function () {}");else if(K==="%GeneratorFunction%")re=a("function* () {}");else if(K==="%AsyncGeneratorFunction%")re=a("async function* () {}");else if(K==="%AsyncGenerator%"){var F=Q("%AsyncGeneratorFunction%");F&&(re=F.prototype)}else if(K==="%AsyncIteratorPrototype%"){var Z=Q("%AsyncGenerator%");Z&&y&&(re=y(Z.prototype))}return g[K]=re,re},v={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=Ms(),S=Sp(),k=I.call(Function.call,Array.prototype.concat),P=I.call(Function.apply,Array.prototype.splice),R=I.call(Function.call,String.prototype.replace),B=I.call(Function.call,String.prototype.slice),T=I.call(Function.call,RegExp.prototype.exec),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,U=function(Q){var K=B(Q,0,1),re=B(Q,-1);if(K==="%"&&re!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(re==="%"&&K!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var F=[];return R(Q,W,function(Z,C,J,be){F[F.length]=J?R(be,L,"$1"):C||Z}),F},ae=function(Q,K){var re=Q,F;if(S(v,re)&&(F=v[re],re="%"+F[0]+"%"),S(g,re)){var Z=g[re];if(Z===m&&(Z=A(re)),typeof Z>"u"&&!K)throw new n("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:F,name:re,value:Z}}throw new e("intrinsic "+Q+" does not exist!")};return An=function(Q,K){if(typeof Q!="string"||Q.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new n('"allowMissing" argument must be a boolean');if(T(/^%?[^%]*%?$/,Q)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var re=U(Q),F=re.length>0?re[0]:"",Z=ae("%"+F+"%",K),C=Z.name,J=Z.value,be=!1,te=Z.alias;te&&(F=te[0],P(re,k([0,1],te)));for(var _e=1,H=!0;_e<re.length;_e+=1){var N=re[_e],ne=B(N,0,1),V=B(N,-1);if((ne==='"'||ne==="'"||ne==="`"||V==='"'||V==="'"||V==="`")&&ne!==V)throw new e("property names with quotes must have matching quotes");if((N==="constructor"||!H)&&(be=!0),F+="."+N,C="%"+F+"%",S(g,C))J=g[C];else if(J!=null){if(!(N in J)){if(!K)throw new n("base intrinsic for "+Q+" exists, but the property is not available.");return}if(f&&_e+1>=re.length){var G=f(J,N);H=!!G,H&&"get"in G&&!("originalValue"in G.get)?J=G.get:J=J[N]}else H=S(J,N),J=J[N];H&&!be&&(g[C]=J)}}return J},An}function js(){if(es)return In;es=!0;var r=Br(),o=r("%Object.defineProperty%",!0)||!1;if(o)try{o({},"a",{value:1})}catch{o=!1}return In=o,In}function Qu(){if(ts)return xn;ts=!0;var r=Br(),o=r("%Object.getOwnPropertyDescriptor%",!0);if(o)try{o([],"length")}catch{o=null}return xn=o,xn}function Ap(){if(rs)return kn;rs=!0;var r=js(),o=Gu(),s=an(),l=Qu();return kn=function(u,e,n){if(!u||typeof u!="object"&&typeof u!="function")throw new s("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new s("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new s("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new s("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new s("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new s("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,t=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,d=!!l&&l(u,e);if(r)r(u,e,{configurable:a===null&&d?d.configurable:!a,enumerable:i===null&&d?d.enumerable:!i,value:n,writable:t===null&&d?d.writable:!t});else if(f||!i&&!t&&!a)u[e]=n;else throw new o("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},kn}function Ip(){if(ns)return Tn;ns=!0;var r=js(),o=function(){return!!r};return o.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},Tn=o,Tn}function xp(){if(is)return On;is=!0;var r=Br(),o=Ap(),s=Ip()(),l=Qu(),u=an(),e=r("%Math.floor%");return On=function(n,i){if(typeof n!="function")throw new u("`fn` is not a function");if(typeof i!="number"||i<0||i>4294967295||e(i)!==i)throw new u("`length` must be a positive 32-bit integer");var t=arguments.length>2&&!!arguments[2],a=!0,f=!0;if("length"in n&&l){var d=l(n,"length");d&&!d.configurable&&(a=!1),d&&!d.writable&&(f=!1)}return(a||f||!t)&&(s?o(n,"length",i,!0,!0):o(n,"length",i)),n},On}function kp(){if(os)return Sr;os=!0;var r=Ms(),o=Br(),s=xp(),l=an(),u=o("%Function.prototype.apply%"),e=o("%Function.prototype.call%"),n=o("%Reflect.apply%",!0)||r.call(e,u),i=js(),t=o("%Math.max%");Sr=function(f){if(typeof f!="function")throw new l("a function is required");var d=n(r,e,arguments);return s(d,1+t(0,f.length-(arguments.length-1)),!0)};var a=function(){return n(r,u,arguments)};return i?i(Sr,"apply",{value:a}):Sr.apply=a,Sr}function Tp(){if(ss)return Pn;ss=!0;var r=Br(),o=kp(),s=o(r("String.prototype.indexOf"));return Pn=function(l,u){var e=r(l,!!u);return typeof e=="function"&&s(l,".prototype.")>-1?o(e):e},Pn}var Co,Mo,jo,No,Bo,Uo,Lo,Do,Fo,Wo,qo,$o,Vo,zo,Ko,Ho,vn,Go,_n,Qo,wn,Yo,En,Jo,Sn,Xo,An,Zo,In,es,xn,ts,kn,rs,Tn,ns,On,is,Sr,os,Pn,ss,Op=nt(()=>{le(),fe(),ue(),Co={},Mo=!1,jo={},No=!1,Bo={},Uo=!1,Lo={},Do=!1,Fo={},Wo=!1,qo={},$o=!1,Vo={},zo=!1,Ko={},Ho=!1,vn={},Go=!1,_n={},Qo=!1,wn={},Yo=!1,En={},Jo=!1,Sn={},Xo=!1,An={},Zo=!1,In={},es=!1,xn={},ts=!1,kn={},rs=!1,Tn={},ns=!1,On={},is=!1,Sr={},os=!1,Pn={},ss=!1});function Ns(r){throw new Error("Node.js process "+r+" is not supported by JSPM core outside of Node.js")}function Pp(){!ur||!or||(ur=!1,or.length?xt=or.concat(xt):Qr=-1,xt.length&&Yu())}function Yu(){if(!ur){var r=setTimeout(Pp,0);ur=!0;for(var o=xt.length;o;){for(or=xt,xt=[];++Qr<o;)or&&or[Qr].run();Qr=-1,o=xt.length}or=null,ur=!1,clearTimeout(r)}}function Rp(r){var o=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)o[s-1]=arguments[s];xt.push(new Ju(r,o)),xt.length===1&&!ur&&setTimeout(Yu,0)}function Ju(r,o){this.fun=r,this.array=o}function $e(){}function Cp(r){Ns("_linkedBinding")}function Mp(r){Ns("dlopen")}function jp(){return[]}function Np(){return[]}function Bp(r,o){if(!r)throw new Error(o||"assertion error")}function Up(){return!1}function Lp(){return Mt.now()/1e3}function fi(r){var o=Math.floor((Date.now()-Mt.now())*.001),s=Mt.now()*.001,l=Math.floor(s)+o,u=Math.floor(s%1*1e9);return r&&(l=l-r[0],u=u-r[1],u<0&&(l--,u+=Rn)),[l,u]}function Vt(){return Bs}function Dp(r){return[]}var xt,ur,or,Qr,Qs,Ys,Js,Xs,Zs,ea,ta,ra,na,ia,oa,sa,aa,la,ua,fa,ca,ha,pa,da,ga,hn,ya,ba,ma,va,_a,wa,Ea,Sa,Aa,Ia,xa,ka,Ta,Oa,Pa,Ra,Ca,Ma,ja,Na,Ba,Ua,La,Da,Fa,Mt,ci,Rn,Wa,qa,$a,Va,za,Ka,Ha,Ga,Qa,Ya,Ja,Bs,Xu=nt(()=>{le(),fe(),ue(),xt=[],ur=!1,Qr=-1,Ju.prototype.run=function(){this.fun.apply(null,this.array)},Qs="browser",Ys="x64",Js="browser",Xs={PATH:"/usr/bin",LANG:navigator.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Zs=["/usr/bin/node"],ea=[],ta="v16.8.0",ra={},na=function(r,o){console.warn((o?o+": ":"")+r)},ia=function(r){Ns("binding")},oa=function(r){return 0},sa=function(){return"/"},aa=function(r){},la={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},ua=$e,fa=[],ca={},ha=!1,pa={},da=$e,ga=$e,hn=function(){return{}},ya=hn,ba=hn,ma=$e,va=$e,_a=$e,wa={},Ea={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},Sa=$e,Aa=$e,Ia=$e,xa=$e,ka=$e,Ta=$e,Oa=$e,Pa=void 0,Ra=void 0,Ca=void 0,Ma=$e,ja=2,Na=1,Ba="/bin/usr/node",Ua=9229,La="node",Da=[],Fa=$e,Mt={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Mt.now===void 0&&(ci=Date.now(),Mt.timing&&Mt.timing.navigationStart&&(ci=Mt.timing.navigationStart),Mt.now=()=>Date.now()-ci),Rn=1e9,fi.bigint=function(r){var o=fi(r);return typeof BigInt>"u"?o[0]*Rn+o[1]:BigInt(o[0]*Rn)+BigInt(o[1])},Wa=10,qa={},$a=0,Va=Vt,za=Vt,Ka=Vt,Ha=Vt,Ga=Vt,Qa=$e,Ya=Vt,Ja=Vt,Bs={version:ta,versions:ra,arch:Ys,platform:Js,release:la,_rawDebug:ua,moduleLoadList:fa,binding:ia,_linkedBinding:Cp,_events:qa,_eventsCount:$a,_maxListeners:Wa,on:Vt,addListener:Va,once:za,off:Ka,removeListener:Ha,removeAllListeners:Ga,emit:Qa,prependListener:Ya,prependOnceListener:Ja,listeners:Dp,domain:ca,_exiting:ha,config:pa,dlopen:Mp,uptime:Lp,_getActiveRequests:jp,_getActiveHandles:Np,reallyExit:da,_kill:ga,cpuUsage:hn,resourceUsage:ya,memoryUsage:ba,kill:ma,exit:va,openStdin:_a,allowedNodeEnvironmentFlags:wa,assert:Bp,features:Ea,_fatalExceptions:Sa,setUncaughtExceptionCaptureCallback:Aa,hasUncaughtExceptionCaptureCallback:Up,emitWarning:na,nextTick:Rp,_tickCallback:Ia,_debugProcess:xa,_debugEnd:ka,_startProfilerIdleNotifier:Ta,_stopProfilerIdleNotifier:Oa,stdout:Pa,stdin:Ca,stderr:Ra,abort:Ma,umask:oa,chdir:aa,cwd:sa,env:Xs,title:Qs,argv:Zs,execArgv:ea,pid:ja,ppid:Na,execPath:Ba,debugPort:Ua,hrtime:fi,argv0:La,_preload_modules:Da,setSourceMapsEnabled:Fa}});function Fp(){if(as)return Cn;as=!0;var r=Bs;function o(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function s(e,n){for(var i="",t=0,a=-1,f=0,d,p=0;p<=e.length;++p){if(p<e.length)d=e.charCodeAt(p);else{if(d===47)break;d=47}if(d===47){if(!(a===p-1||f===1))if(a!==p-1&&f===2){if(i.length<2||t!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){var b=i.lastIndexOf("/");if(b!==i.length-1){b===-1?(i="",t=0):(i=i.slice(0,b),t=i.length-1-i.lastIndexOf("/")),a=p,f=0;continue}}else if(i.length===2||i.length===1){i="",t=0,a=p,f=0;continue}}n&&(i.length>0?i+="/..":i="..",t=2)}else i.length>0?i+="/"+e.slice(a+1,p):i=e.slice(a+1,p),t=p-a-1;a=p,f=0}else d===46&&f!==-1?++f:f=-1}return i}function l(e,n){var i=n.dir||n.root,t=n.base||(n.name||"")+(n.ext||"");return i?i===n.root?i+t:i+e+t:t}var u={resolve:function(){for(var e="",n=!1,i,t=arguments.length-1;t>=-1&&!n;t--){var a;t>=0?a=arguments[t]:(i===void 0&&(i=r.cwd()),a=i),o(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=s(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(o(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=s(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return o(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];o(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":u.normalize(e)},relative:function(e,n){if(o(e),o(n),e===n||(e=u.resolve(e),n=u.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var t=e.length,a=t-i,f=1;f<n.length&&n.charCodeAt(f)===47;++f);for(var d=n.length,p=d-f,b=a<p?a:p,c=-1,y=0;y<=b;++y){if(y===b){if(p>b){if(n.charCodeAt(f+y)===47)return n.slice(f+y+1);if(y===0)return n.slice(f+y)}else a>b&&(e.charCodeAt(i+y)===47?c=y:y===0&&(c=0));break}var m=e.charCodeAt(i+y),E=n.charCodeAt(f+y);if(m!==E)break;m===47&&(c=y)}var g="";for(y=i+c+1;y<=t;++y)(y===t||e.charCodeAt(y)===47)&&(g.length===0?g+="..":g+="/..");return g.length>0?g+n.slice(f+c):(f+=c,n.charCodeAt(f)===47&&++f,n.slice(f))},_makeLong:function(e){return e},dirname:function(e){if(o(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,t=-1,a=!0,f=e.length-1;f>=1;--f)if(n=e.charCodeAt(f),n===47){if(!a){t=f;break}}else a=!1;return t===-1?i?"/":".":i&&t===1?"//":e.slice(0,t)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');o(e);var i=0,t=-1,a=!0,f;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var d=n.length-1,p=-1;for(f=e.length-1;f>=0;--f){var b=e.charCodeAt(f);if(b===47){if(!a){i=f+1;break}}else p===-1&&(a=!1,p=f+1),d>=0&&(b===n.charCodeAt(d)?--d===-1&&(t=f):(d=-1,t=p))}return i===t?t=p:t===-1&&(t=e.length),e.slice(i,t)}else{for(f=e.length-1;f>=0;--f)if(e.charCodeAt(f)===47){if(!a){i=f+1;break}}else t===-1&&(a=!1,t=f+1);return t===-1?"":e.slice(i,t)}},extname:function(e){o(e);for(var n=-1,i=0,t=-1,a=!0,f=0,d=e.length-1;d>=0;--d){var p=e.charCodeAt(d);if(p===47){if(!a){i=d+1;break}continue}t===-1&&(a=!1,t=d+1),p===46?n===-1?n=d:f!==1&&(f=1):n!==-1&&(f=-1)}return n===-1||t===-1||f===0||f===1&&n===t-1&&n===i+1?"":e.slice(n,t)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return l("/",e)},parse:function(e){o(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),t=i===47,a;t?(n.root="/",a=1):a=0;for(var f=-1,d=0,p=-1,b=!0,c=e.length-1,y=0;c>=a;--c){if(i=e.charCodeAt(c),i===47){if(!b){d=c+1;break}continue}p===-1&&(b=!1,p=c+1),i===46?f===-1?f=c:y!==1&&(y=1):f!==-1&&(y=-1)}return f===-1||p===-1||y===0||y===1&&f===p-1&&f===d+1?p!==-1&&(d===0&&t?n.base=n.name=e.slice(1,p):n.base=n.name=e.slice(d,p)):(d===0&&t?(n.name=e.slice(1,f),n.base=e.slice(1,p)):(n.name=e.slice(d,f),n.base=e.slice(d,p)),n.ext=e.slice(f,p)),d>0?n.dir=e.slice(0,d-1):t&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};return u.posix=u,Cn=u,Cn}var Cn,as,ls,Wp=nt(()=>{le(),fe(),ue(),Xu(),Cn={},as=!1,ls=Fp()}),Zu={};Mr(Zu,{URL:()=>ff,Url:()=>of,default:()=>Ve,fileURLToPath:()=>tf,format:()=>sf,parse:()=>uf,pathToFileURL:()=>rf,resolve:()=>af,resolveObject:()=>lf});function qp(){if(us)return Mn;us=!0;var r=typeof Map=="function"&&Map.prototype,o=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,s=r&&o&&typeof o.get=="function"?o.get:null,l=r&&Map.prototype.forEach,u=typeof Set=="function"&&Set.prototype,e=Object.getOwnPropertyDescriptor&&u?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,n=u&&e&&typeof e.get=="function"?e.get:null,i=u&&Set.prototype.forEach,t=typeof WeakMap=="function"&&WeakMap.prototype,a=t?WeakMap.prototype.has:null,f=typeof WeakSet=="function"&&WeakSet.prototype,d=f?WeakSet.prototype.has:null,p=typeof WeakRef=="function"&&WeakRef.prototype,b=p?WeakRef.prototype.deref:null,c=Boolean.prototype.valueOf,y=Object.prototype.toString,m=Function.prototype.toString,E=String.prototype.match,g=String.prototype.slice,_=String.prototype.replace,A=String.prototype.toUpperCase,v=String.prototype.toLowerCase,I=RegExp.prototype.test,S=Array.prototype.concat,k=Array.prototype.join,P=Array.prototype.slice,R=Math.floor,B=typeof BigInt=="function"?BigInt.prototype.valueOf:null,T=Object.getOwnPropertySymbols,W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",U=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||!0)?Symbol.toStringTag:null,ae=Object.prototype.propertyIsEnumerable,Q=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(z){return z.__proto__}:null);function K(z,ie){if(z===1/0||z===-1/0||z!==z||z&&z>-1e3&&z<1e3||I.call(/e/,ie))return ie;var Ie=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof z=="number"){var xe=z<0?-R(-z):R(z);if(xe!==z){var ke=String(xe),Oe=g.call(ie,ke.length+1);return _.call(ke,Ie,"$&_")+"."+_.call(_.call(Oe,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(ie,Ie,"$&_")}var re=nf,F=re.custom,Z=G(F)?F:null;Mn=function z(ie,Ie,xe,ke){var Oe=Ie||{};if(oe(Oe,"quoteStyle")&&Oe.quoteStyle!=="single"&&Oe.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oe(Oe,"maxStringLength")&&(typeof Oe.maxStringLength=="number"?Oe.maxStringLength<0&&Oe.maxStringLength!==1/0:Oe.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gt=oe(Oe,"customInspect")?Oe.customInspect:!0;if(typeof gt!="boolean"&&gt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oe(Oe,"indent")&&Oe.indent!==null&&Oe.indent!=="	"&&!(parseInt(Oe.indent,10)===Oe.indent&&Oe.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oe(Oe,"numericSeparator")&&typeof Oe.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var yt=Oe.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return se(ie,Oe);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var We=String(ie);return yt?K(ie,We):We}if(typeof ie=="bigint"){var bt=String(ie)+"n";return yt?K(ie,bt):bt}var mr=typeof Oe.depth>"u"?5:Oe.depth;if(typeof xe>"u"&&(xe=0),xe>=mr&&mr>0&&typeof ie=="object")return be(ie)?"[Array]":"[Object]";var mt=X(Oe,xe);if(typeof ke>"u")ke=[];else if(ee(ke,ie)>=0)return"[Circular]";function it(vt,$t,rr){if($t&&(ke=P.call(ke),ke.push($t)),rr){var _t={depth:Oe.depth};return oe(Oe,"quoteStyle")&&(_t.quoteStyle=Oe.quoteStyle),z(vt,_t,xe+1,ke)}return z(vt,Oe,xe+1,ke)}if(typeof ie=="function"&&!_e(ie)){var ln=q(ie),vr=Ee(ie,it);return"[Function"+(ln?": "+ln:" (anonymous)")+"]"+(vr.length>0?" { "+k.call(vr,", ")+" }":"")}if(G(ie)){var Ur=L?_.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):W.call(ie);return typeof ie=="object"&&!L?h(Ur):Ur}if(ve(ie)){for(var O="<"+v.call(String(ie.nodeName)),j=ie.attributes||[],we=0;we<j.length;we++)O+=" "+j[we].name+"="+C(J(j[we].value),"double",Oe);return O+=">",ie.childNodes&&ie.childNodes.length&&(O+="..."),O+="</"+v.call(String(ie.nodeName))+">",O}if(be(ie)){if(ie.length===0)return"[]";var Se=Ee(ie,it);return mt&&!D(Se)?"["+ce(Se,mt)+"]":"[ "+k.call(Se,", ")+" ]"}if(H(ie)){var Ae=Ee(ie,it);return!("cause"in Error.prototype)&&"cause"in ie&&!ae.call(ie,"cause")?"{ ["+String(ie)+"] "+k.call(S.call("[cause]: "+it(ie.cause),Ae),", ")+" }":Ae.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+k.call(Ae,", ")+" }"}if(typeof ie=="object"&&gt){if(Z&&typeof ie[Z]=="function"&&re)return re(ie,{depth:mr-xe});if(gt!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(he(ie)){var Le=[];return l&&l.call(ie,function(vt,$t){Le.push(it($t,ie,!0)+" => "+it(vt,ie))}),x("Map",s.call(ie),Le,mt)}if($(ie)){var Qe=[];return i&&i.call(ie,function(vt){Qe.push(it(vt,ie))}),x("Set",n.call(ie),Qe,mt)}if(pe(ie))return w("WeakMap");if(ge(ie))return w("WeakSet");if(me(ie))return w("WeakRef");if(ne(ie))return h(it(Number(ie)));if(Y(ie))return h(it(B.call(ie)));if(V(ie))return h(c.call(ie));if(N(ie))return h(it(String(ie)));if(typeof window<"u"&&ie===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ie===globalThis||typeof jn<"u"&&ie===jn)return"{ [object globalThis] }";if(!te(ie)&&!_e(ie)){var ct=Ee(ie,it),Lr=Q?Q(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,Dr=ie instanceof Object?"":"null prototype",Fr=!Lr&&U&&Object(ie)===ie&&U in ie?g.call(M(ie),8,-1):Dr?"Object":"",un=Lr||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",tr=un+(Fr||Dr?"["+k.call(S.call([],Fr||[],Dr||[]),": ")+"] ":"");return ct.length===0?tr+"{}":mt?tr+"{"+ce(ct,mt)+"}":tr+"{ "+k.call(ct,", ")+" }"}return String(ie)};function C(z,ie,Ie){var xe=(Ie.quoteStyle||ie)==="double"?'"':"'";return xe+z+xe}function J(z){return _.call(String(z),/"/g,"&quot;")}function be(z){return M(z)==="[object Array]"&&(!U||!(typeof z=="object"&&U in z))}function te(z){return M(z)==="[object Date]"&&(!U||!(typeof z=="object"&&U in z))}function _e(z){return M(z)==="[object RegExp]"&&(!U||!(typeof z=="object"&&U in z))}function H(z){return M(z)==="[object Error]"&&(!U||!(typeof z=="object"&&U in z))}function N(z){return M(z)==="[object String]"&&(!U||!(typeof z=="object"&&U in z))}function ne(z){return M(z)==="[object Number]"&&(!U||!(typeof z=="object"&&U in z))}function V(z){return M(z)==="[object Boolean]"&&(!U||!(typeof z=="object"&&U in z))}function G(z){if(L)return z&&typeof z=="object"&&z instanceof Symbol;if(typeof z=="symbol")return!0;if(!z||typeof z!="object"||!W)return!1;try{return W.call(z),!0}catch{}return!1}function Y(z){if(!z||typeof z!="object"||!B)return!1;try{return B.call(z),!0}catch{}return!1}var ye=Object.prototype.hasOwnProperty||function(z){return z in(this||jn)};function oe(z,ie){return ye.call(z,ie)}function M(z){return y.call(z)}function q(z){if(z.name)return z.name;var ie=E.call(m.call(z),/^function\s*([\w$]+)/);return ie?ie[1]:null}function ee(z,ie){if(z.indexOf)return z.indexOf(ie);for(var Ie=0,xe=z.length;Ie<xe;Ie++)if(z[Ie]===ie)return Ie;return-1}function he(z){if(!s||!z||typeof z!="object")return!1;try{s.call(z);try{n.call(z)}catch{return!0}return z instanceof Map}catch{}return!1}function pe(z){if(!a||!z||typeof z!="object")return!1;try{a.call(z,a);try{d.call(z,d)}catch{return!0}return z instanceof WeakMap}catch{}return!1}function me(z){if(!b||!z||typeof z!="object")return!1;try{return b.call(z),!0}catch{}return!1}function $(z){if(!n||!z||typeof z!="object")return!1;try{n.call(z);try{s.call(z)}catch{return!0}return z instanceof Set}catch{}return!1}function ge(z){if(!d||!z||typeof z!="object")return!1;try{d.call(z,d);try{a.call(z,a)}catch{return!0}return z instanceof WeakSet}catch{}return!1}function ve(z){return!z||typeof z!="object"?!1:typeof HTMLElement<"u"&&z instanceof HTMLElement?!0:typeof z.nodeName=="string"&&typeof z.getAttribute=="function"}function se(z,ie){if(z.length>ie.maxStringLength){var Ie=z.length-ie.maxStringLength,xe="... "+Ie+" more character"+(Ie>1?"s":"");return se(g.call(z,0,ie.maxStringLength),ie)+xe}var ke=_.call(_.call(z,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Te);return C(ke,"single",ie)}function Te(z){var ie=z.charCodeAt(0),Ie={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return Ie?"\\"+Ie:"\\x"+(ie<16?"0":"")+A.call(ie.toString(16))}function h(z){return"Object("+z+")"}function w(z){return z+" { ? }"}function x(z,ie,Ie,xe){var ke=xe?ce(Ie,xe):k.call(Ie,", ");return z+" ("+ie+") {"+ke+"}"}function D(z){for(var ie=0;ie<z.length;ie++)if(ee(z[ie],`
`)>=0)return!1;return!0}function X(z,ie){var Ie;if(z.indent==="	")Ie="	";else if(typeof z.indent=="number"&&z.indent>0)Ie=k.call(Array(z.indent+1)," ");else return null;return{base:Ie,prev:k.call(Array(ie+1),Ie)}}function ce(z,ie){if(z.length===0)return"";var Ie=`
`+ie.prev+ie.base;return Ie+k.call(z,","+Ie)+`
`+ie.prev}function Ee(z,ie){var Ie=be(z),xe=[];if(Ie){xe.length=z.length;for(var ke=0;ke<z.length;ke++)xe[ke]=oe(z,ke)?ie(z[ke],z):""}var Oe=typeof T=="function"?T(z):[],gt;if(L){gt={};for(var yt=0;yt<Oe.length;yt++)gt["$"+Oe[yt]]=Oe[yt]}for(var We in z)oe(z,We)&&(Ie&&String(Number(We))===We&&We<z.length||L&&gt["$"+We]instanceof Symbol||(I.call(/[^\w$]/,We)?xe.push(ie(We,z)+": "+ie(z[We],z)):xe.push(We+": "+ie(z[We],z))));if(typeof T=="function")for(var bt=0;bt<Oe.length;bt++)ae.call(z,Oe[bt])&&xe.push("["+ie(Oe[bt])+"]: "+ie(z[Oe[bt]],z));return xe}return Mn}function $p(){if(fs)return Nn;fs=!0;var r=Br(),o=Tp(),s=qp(),l=an(),u=r("%WeakMap%",!0),e=r("%Map%",!0),n=o("WeakMap.prototype.get",!0),i=o("WeakMap.prototype.set",!0),t=o("WeakMap.prototype.has",!0),a=o("Map.prototype.get",!0),f=o("Map.prototype.set",!0),d=o("Map.prototype.has",!0),p=function(m,E){for(var g=m,_;(_=g.next)!==null;g=_)if(_.key===E)return g.next=_.next,_.next=m.next,m.next=_,_},b=function(m,E){var g=p(m,E);return g&&g.value},c=function(m,E,g){var _=p(m,E);_?_.value=g:m.next={key:E,next:m.next,value:g}},y=function(m,E){return!!p(m,E)};return Nn=function(){var m,E,g,_={assert:function(A){if(!_.has(A))throw new l("Side channel does not contain "+s(A))},get:function(A){if(u&&A&&(typeof A=="object"||typeof A=="function")){if(m)return n(m,A)}else if(e){if(E)return a(E,A)}else if(g)return b(g,A)},has:function(A){if(u&&A&&(typeof A=="object"||typeof A=="function")){if(m)return t(m,A)}else if(e){if(E)return d(E,A)}else if(g)return y(g,A);return!1},set:function(A,v){u&&A&&(typeof A=="object"||typeof A=="function")?(m||(m=new u),i(m,A,v)):e?(E||(E=new e),f(E,A,v)):(g||(g={key:{},next:null}),c(g,A,v))}};return _},Nn}function Us(){if(cs)return Bn;cs=!0;var r=String.prototype.replace,o=/%20/g,s={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Bn={default:s.RFC3986,formatters:{RFC1738:function(l){return r.call(l,o,"+")},RFC3986:function(l){return String(l)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986},Bn}function ef(){if(hs)return Un;hs=!0;var r=Us(),o=Object.prototype.hasOwnProperty,s=Array.isArray,l=(function(){for(var m=[],E=0;E<256;++E)m.push("%"+((E<16?"0":"")+E.toString(16)).toUpperCase());return m})(),u=function(m){for(;m.length>1;){var E=m.pop(),g=E.obj[E.prop];if(s(g)){for(var _=[],A=0;A<g.length;++A)typeof g[A]<"u"&&_.push(g[A]);E.obj[E.prop]=_}}},e=function(m,E){for(var g=E&&E.plainObjects?Object.create(null):{},_=0;_<m.length;++_)typeof m[_]<"u"&&(g[_]=m[_]);return g},n=function m(E,g,_){if(!g)return E;if(typeof g!="object"){if(s(E))E.push(g);else if(E&&typeof E=="object")(_&&(_.plainObjects||_.allowPrototypes)||!o.call(Object.prototype,g))&&(E[g]=!0);else return[E,g];return E}if(!E||typeof E!="object")return[E].concat(g);var A=E;return s(E)&&!s(g)&&(A=e(E,_)),s(E)&&s(g)?(g.forEach(function(v,I){if(o.call(E,I)){var S=E[I];S&&typeof S=="object"&&v&&typeof v=="object"?E[I]=m(S,v,_):E.push(v)}else E[I]=v}),E):Object.keys(g).reduce(function(v,I){var S=g[I];return o.call(v,I)?v[I]=m(v[I],S,_):v[I]=S,v},A)},i=function(m,E){return Object.keys(E).reduce(function(g,_){return g[_]=E[_],g},m)},t=function(m,E,g){var _=m.replace(/\+/g," ");if(g==="iso-8859-1")return _.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(_)}catch{return _}},a=1024,f=function(m,E,g,_,A){if(m.length===0)return m;var v=m;if(typeof m=="symbol"?v=Symbol.prototype.toString.call(m):typeof m!="string"&&(v=String(m)),g==="iso-8859-1")return escape(v).replace(/%u[0-9a-f]{4}/gi,function(T){return"%26%23"+parseInt(T.slice(2),16)+"%3B"});for(var I="",S=0;S<v.length;S+=a){for(var k=v.length>=a?v.slice(S,S+a):v,P=[],R=0;R<k.length;++R){var B=k.charCodeAt(R);if(B===45||B===46||B===95||B===126||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122||A===r.RFC1738&&(B===40||B===41)){P[P.length]=k.charAt(R);continue}if(B<128){P[P.length]=l[B];continue}if(B<2048){P[P.length]=l[192|B>>6]+l[128|B&63];continue}if(B<55296||B>=57344){P[P.length]=l[224|B>>12]+l[128|B>>6&63]+l[128|B&63];continue}R+=1,B=65536+((B&1023)<<10|k.charCodeAt(R)&1023),P[P.length]=l[240|B>>18]+l[128|B>>12&63]+l[128|B>>6&63]+l[128|B&63]}I+=P.join("")}return I},d=function(m){for(var E=[{obj:{o:m},prop:"o"}],g=[],_=0;_<E.length;++_)for(var A=E[_],v=A.obj[A.prop],I=Object.keys(v),S=0;S<I.length;++S){var k=I[S],P=v[k];typeof P=="object"&&P!==null&&g.indexOf(P)===-1&&(E.push({obj:v,prop:k}),g.push(P))}return u(E),m},p=function(m){return Object.prototype.toString.call(m)==="[object RegExp]"},b=function(m){return!m||typeof m!="object"?!1:!!(m.constructor&&m.constructor.isBuffer&&m.constructor.isBuffer(m))},c=function(m,E){return[].concat(m,E)},y=function(m,E){if(s(m)){for(var g=[],_=0;_<m.length;_+=1)g.push(E(m[_]));return g}return E(m)};return Un={arrayToObject:e,assign:i,combine:c,compact:d,decode:t,encode:f,isBuffer:b,isRegExp:p,maybeMap:y,merge:n},Un}function Vp(){if(ps)return Ln;ps=!0;var r=$p(),o=ef(),s=Us(),l=Object.prototype.hasOwnProperty,u={brackets:function(y){return y+"[]"},comma:"comma",indices:function(y,m){return y+"["+m+"]"},repeat:function(y){return y}},e=Array.isArray,n=Array.prototype.push,i=function(y,m){n.apply(y,e(m)?m:[m])},t=Date.prototype.toISOString,a=s.default,f={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:o.encode,encodeValuesOnly:!1,format:a,formatter:s.formatters[a],indices:!1,serializeDate:function(y){return t.call(y)},skipNulls:!1,strictNullHandling:!1},d=function(y){return typeof y=="string"||typeof y=="number"||typeof y=="boolean"||typeof y=="symbol"||typeof y=="bigint"},p={},b=function y(m,E,g,_,A,v,I,S,k,P,R,B,T,W,L,U,ae,Q){for(var K=m,re=Q,F=0,Z=!1;(re=re.get(p))!==void 0&&!Z;){var C=re.get(m);if(F+=1,typeof C<"u"){if(C===F)throw new RangeError("Cyclic object value");Z=!0}typeof re.get(p)>"u"&&(F=0)}if(typeof P=="function"?K=P(E,K):K instanceof Date?K=T(K):g==="comma"&&e(K)&&(K=o.maybeMap(K,function(M){return M instanceof Date?T(M):M})),K===null){if(v)return k&&!U?k(E,f.encoder,ae,"key",W):E;K=""}if(d(K)||o.isBuffer(K)){if(k){var J=U?E:k(E,f.encoder,ae,"key",W);return[L(J)+"="+L(k(K,f.encoder,ae,"value",W))]}return[L(E)+"="+L(String(K))]}var be=[];if(typeof K>"u")return be;var te;if(g==="comma"&&e(K))U&&k&&(K=o.maybeMap(K,k)),te=[{value:K.length>0?K.join(",")||null:void 0}];else if(e(P))te=P;else{var _e=Object.keys(K);te=R?_e.sort(R):_e}var H=S?E.replace(/\./g,"%2E"):E,N=_&&e(K)&&K.length===1?H+"[]":H;if(A&&e(K)&&K.length===0)return N+"[]";for(var ne=0;ne<te.length;++ne){var V=te[ne],G=typeof V=="object"&&typeof V.value<"u"?V.value:K[V];if(!(I&&G===null)){var Y=B&&S?V.replace(/\./g,"%2E"):V,ye=e(K)?typeof g=="function"?g(N,Y):N:N+(B?"."+Y:"["+Y+"]");Q.set(m,F);var oe=r();oe.set(p,Q),i(be,y(G,ye,g,_,A,v,I,S,g==="comma"&&U&&e(K)?null:k,P,R,B,T,W,L,U,ae,oe))}}return be},c=function(y){if(!y)return f;if(typeof y.allowEmptyArrays<"u"&&typeof y.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof y.encodeDotInKeys<"u"&&typeof y.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(y.encoder!==null&&typeof y.encoder<"u"&&typeof y.encoder!="function")throw new TypeError("Encoder has to be a function.");var m=y.charset||f.charset;if(typeof y.charset<"u"&&y.charset!=="utf-8"&&y.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var E=s.default;if(typeof y.format<"u"){if(!l.call(s.formatters,y.format))throw new TypeError("Unknown format option provided.");E=y.format}var g=s.formatters[E],_=f.filter;(typeof y.filter=="function"||e(y.filter))&&(_=y.filter);var A;if(y.arrayFormat in u?A=y.arrayFormat:"indices"in y?A=y.indices?"indices":"repeat":A=f.arrayFormat,"commaRoundTrip"in y&&typeof y.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=typeof y.allowDots>"u"?y.encodeDotInKeys===!0?!0:f.allowDots:!!y.allowDots;return{addQueryPrefix:typeof y.addQueryPrefix=="boolean"?y.addQueryPrefix:f.addQueryPrefix,allowDots:v,allowEmptyArrays:typeof y.allowEmptyArrays=="boolean"?!!y.allowEmptyArrays:f.allowEmptyArrays,arrayFormat:A,charset:m,charsetSentinel:typeof y.charsetSentinel=="boolean"?y.charsetSentinel:f.charsetSentinel,commaRoundTrip:y.commaRoundTrip,delimiter:typeof y.delimiter>"u"?f.delimiter:y.delimiter,encode:typeof y.encode=="boolean"?y.encode:f.encode,encodeDotInKeys:typeof y.encodeDotInKeys=="boolean"?y.encodeDotInKeys:f.encodeDotInKeys,encoder:typeof y.encoder=="function"?y.encoder:f.encoder,encodeValuesOnly:typeof y.encodeValuesOnly=="boolean"?y.encodeValuesOnly:f.encodeValuesOnly,filter:_,format:E,formatter:g,serializeDate:typeof y.serializeDate=="function"?y.serializeDate:f.serializeDate,skipNulls:typeof y.skipNulls=="boolean"?y.skipNulls:f.skipNulls,sort:typeof y.sort=="function"?y.sort:null,strictNullHandling:typeof y.strictNullHandling=="boolean"?y.strictNullHandling:f.strictNullHandling}};return Ln=function(y,m){var E=y,g=c(m),_,A;typeof g.filter=="function"?(A=g.filter,E=A("",E)):e(g.filter)&&(A=g.filter,_=A);var v=[];if(typeof E!="object"||E===null)return"";var I=u[g.arrayFormat],S=I==="comma"&&g.commaRoundTrip;_||(_=Object.keys(E)),g.sort&&_.sort(g.sort);for(var k=r(),P=0;P<_.length;++P){var R=_[P];g.skipNulls&&E[R]===null||i(v,b(E[R],R,I,S,g.allowEmptyArrays,g.strictNullHandling,g.skipNulls,g.encodeDotInKeys,g.encode?g.encoder:null,g.filter,g.sort,g.allowDots,g.serializeDate,g.format,g.formatter,g.encodeValuesOnly,g.charset,k))}var B=v.join(g.delimiter),T=g.addQueryPrefix===!0?"?":"";return g.charsetSentinel&&(g.charset==="iso-8859-1"?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),B.length>0?T+B:""},Ln}function zp(){if(ds)return Dn;ds=!0;var r=ef(),o=Object.prototype.hasOwnProperty,s=Array.isArray,l={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},u=function(p){return p.replace(/&#(\d+);/g,function(b,c){return String.fromCharCode(parseInt(c,10))})},e=function(p,b){return p&&typeof p=="string"&&b.comma&&p.indexOf(",")>-1?p.split(","):p},n="utf8=%26%2310003%3B",i="utf8=%E2%9C%93",t=function(p,b){var c={__proto__:null},y=b.ignoreQueryPrefix?p.replace(/^\?/,""):p;y=y.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var m=b.parameterLimit===1/0?void 0:b.parameterLimit,E=y.split(b.delimiter,m),g=-1,_,A=b.charset;if(b.charsetSentinel)for(_=0;_<E.length;++_)E[_].indexOf("utf8=")===0&&(E[_]===i?A="utf-8":E[_]===n&&(A="iso-8859-1"),g=_,_=E.length);for(_=0;_<E.length;++_)if(_!==g){var v=E[_],I=v.indexOf("]="),S=I===-1?v.indexOf("="):I+1,k,P;S===-1?(k=b.decoder(v,l.decoder,A,"key"),P=b.strictNullHandling?null:""):(k=b.decoder(v.slice(0,S),l.decoder,A,"key"),P=r.maybeMap(e(v.slice(S+1),b),function(B){return b.decoder(B,l.decoder,A,"value")})),P&&b.interpretNumericEntities&&A==="iso-8859-1"&&(P=u(P)),v.indexOf("[]=")>-1&&(P=s(P)?[P]:P);var R=o.call(c,k);R&&b.duplicates==="combine"?c[k]=r.combine(c[k],P):(!R||b.duplicates==="last")&&(c[k]=P)}return c},a=function(p,b,c,y){for(var m=y?b:e(b,c),E=p.length-1;E>=0;--E){var g,_=p[E];if(_==="[]"&&c.parseArrays)g=c.allowEmptyArrays&&(m===""||c.strictNullHandling&&m===null)?[]:[].concat(m);else{g=c.plainObjects?Object.create(null):{};var A=_.charAt(0)==="["&&_.charAt(_.length-1)==="]"?_.slice(1,-1):_,v=c.decodeDotInKeys?A.replace(/%2E/g,"."):A,I=parseInt(v,10);!c.parseArrays&&v===""?g={0:m}:!isNaN(I)&&_!==v&&String(I)===v&&I>=0&&c.parseArrays&&I<=c.arrayLimit?(g=[],g[I]=m):v!=="__proto__"&&(g[v]=m)}m=g}return m},f=function(p,b,c,y){if(p){var m=c.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,E=/(\[[^[\]]*])/,g=/(\[[^[\]]*])/g,_=c.depth>0&&E.exec(m),A=_?m.slice(0,_.index):m,v=[];if(A){if(!c.plainObjects&&o.call(Object.prototype,A)&&!c.allowPrototypes)return;v.push(A)}for(var I=0;c.depth>0&&(_=g.exec(m))!==null&&I<c.depth;){if(I+=1,!c.plainObjects&&o.call(Object.prototype,_[1].slice(1,-1))&&!c.allowPrototypes)return;v.push(_[1])}if(_){if(c.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+c.depth+" and strictDepth is true");v.push("["+m.slice(_.index)+"]")}return a(v,b,c,y)}},d=function(p){if(!p)return l;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.decodeDotInKeys<"u"&&typeof p.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(p.decoder!==null&&typeof p.decoder<"u"&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=typeof p.charset>"u"?l.charset:p.charset,c=typeof p.duplicates>"u"?l.duplicates:p.duplicates;if(c!=="combine"&&c!=="first"&&c!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var y=typeof p.allowDots>"u"?p.decodeDotInKeys===!0?!0:l.allowDots:!!p.allowDots;return{allowDots:y,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:l.allowEmptyArrays,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:l.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:l.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:l.arrayLimit,charset:b,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:l.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:l.comma,decodeDotInKeys:typeof p.decodeDotInKeys=="boolean"?p.decodeDotInKeys:l.decodeDotInKeys,decoder:typeof p.decoder=="function"?p.decoder:l.decoder,delimiter:typeof p.delimiter=="string"||r.isRegExp(p.delimiter)?p.delimiter:l.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:l.depth,duplicates:c,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:l.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:l.plainObjects,strictDepth:typeof p.strictDepth=="boolean"?!!p.strictDepth:l.strictDepth,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:l.strictNullHandling}};return Dn=function(p,b){var c=d(b);if(p===""||p===null||typeof p>"u")return c.plainObjects?Object.create(null):{};for(var y=typeof p=="string"?t(p,c):p,m=c.plainObjects?Object.create(null):{},E=Object.keys(y),g=0;g<E.length;++g){var _=E[g],A=f(_,y[_],c,typeof p=="string");m=r.merge(m,A,c)}return c.allowSparse===!0?m:r.compact(m)},Dn}function Kp(){if(gs)return Fn;gs=!0;var r=Vp(),o=zp(),s=Us();return Fn={formats:s,parse:o,stringify:r},Fn}function Hp(){if(ys)return Ht;ys=!0;var r=Kt;function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,e=["<",">",'"',"`"," ","\r",`
`,"	"],n=["{","}","|","\\","^","`"].concat(e),i=["'"].concat(n),t=["%","/","?",";","#"].concat(i),a=["/","?","#"],f=255,d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},c={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=Kp();function E(v,I,S){if(v&&typeof v=="object"&&v instanceof o)return v;var k=new o;return k.parse(v,I,S),k}o.prototype.parse=function(v,I,S){if(typeof v!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof v);var k=v.indexOf("?"),P=k!==-1&&k<v.indexOf("#")?"?":"#",R=v.split(P),B=/\\/g;R[0]=R[0].replace(B,"/"),v=R.join(P);var T=v;if(T=T.trim(),!S&&v.split("#").length===1){var W=u.exec(T);if(W)return this.path=T,this.href=T,this.pathname=W[1],W[2]?(this.search=W[2],I?this.query=m.parse(this.search.substr(1)):this.query=this.search.substr(1)):I&&(this.search="",this.query={}),this}var L=s.exec(T);if(L){L=L[0];var U=L.toLowerCase();this.protocol=U,T=T.substr(L.length)}if(S||L||T.match(/^\/\/[^@/]+@[^@/]+/)){var ae=T.substr(0,2)==="//";ae&&!(L&&c[L])&&(T=T.substr(2),this.slashes=!0)}if(!c[L]&&(ae||L&&!y[L])){for(var Q=-1,K=0;K<a.length;K++){var re=T.indexOf(a[K]);re!==-1&&(Q===-1||re<Q)&&(Q=re)}var F,Z;Q===-1?Z=T.lastIndexOf("@"):Z=T.lastIndexOf("@",Q),Z!==-1&&(F=T.slice(0,Z),T=T.slice(Z+1),this.auth=decodeURIComponent(F)),Q=-1;for(var K=0;K<t.length;K++){var re=T.indexOf(t[K]);re!==-1&&(Q===-1||re<Q)&&(Q=re)}Q===-1&&(Q=T.length),this.host=T.slice(0,Q),T=T.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var J=this.hostname.split(/\./),K=0,be=J.length;K<be;K++){var te=J[K];if(te&&!te.match(d)){for(var _e="",H=0,N=te.length;H<N;H++)te.charCodeAt(H)>127?_e+="x":_e+=te[H];if(!_e.match(d)){var ne=J.slice(0,K),V=J.slice(K+1),G=te.match(p);G&&(ne.push(G[1]),V.unshift(G[2])),V.length&&(T="/"+V.join(".")+T),this.hostname=ne.join(".");break}}}this.hostname.length>f?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=r.toASCII(this.hostname));var Y=this.port?":"+this.port:"",ye=this.hostname||"";this.host=ye+Y,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),T[0]!=="/"&&(T="/"+T))}if(!b[U])for(var K=0,be=i.length;K<be;K++){var oe=i[K];if(T.indexOf(oe)!==-1){var M=encodeURIComponent(oe);M===oe&&(M=escape(oe)),T=T.split(oe).join(M)}}var q=T.indexOf("#");q!==-1&&(this.hash=T.substr(q),T=T.slice(0,q));var ee=T.indexOf("?");if(ee!==-1?(this.search=T.substr(ee),this.query=T.substr(ee+1),I&&(this.query=m.parse(this.query)),T=T.slice(0,ee)):I&&(this.search="",this.query={}),T&&(this.pathname=T),y[U]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Y=this.pathname||"",he=this.search||"";this.path=Y+he}return this.href=this.format(),this};function g(v){return typeof v=="string"&&(v=E(v)),v instanceof o?v.format():o.prototype.format.call(v)}o.prototype.format=function(){var v=this.auth||"";v&&(v=encodeURIComponent(v),v=v.replace(/%3A/i,":"),v+="@");var I=this.protocol||"",S=this.pathname||"",k=this.hash||"",P=!1,R="";this.host?P=v+this.host:this.hostname&&(P=v+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(P+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(R=m.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var B=this.search||R&&"?"+R||"";return I&&I.substr(-1)!==":"&&(I+=":"),this.slashes||(!I||y[I])&&P!==!1?(P="//"+(P||""),S&&S.charAt(0)!=="/"&&(S="/"+S)):P||(P=""),k&&k.charAt(0)!=="#"&&(k="#"+k),B&&B.charAt(0)!=="?"&&(B="?"+B),S=S.replace(/[?#]/g,function(T){return encodeURIComponent(T)}),B=B.replace("#","%23"),I+P+S+B+k};function _(v,I){return E(v,!1,!0).resolve(I)}o.prototype.resolve=function(v){return this.resolveObject(E(v,!1,!0)).format()};function A(v,I){return v?E(v,!1,!0).resolveObject(I):I}return o.prototype.resolveObject=function(v){if(typeof v=="string"){var I=new o;I.parse(v,!1,!0),v=I}for(var S=new o,k=Object.keys(this),P=0;P<k.length;P++){var R=k[P];S[R]=this[R]}if(S.hash=v.hash,v.href==="")return S.href=S.format(),S;if(v.slashes&&!v.protocol){for(var B=Object.keys(v),T=0;T<B.length;T++){var W=B[T];W!=="protocol"&&(S[W]=v[W])}return y[S.protocol]&&S.hostname&&!S.pathname&&(S.pathname="/",S.path=S.pathname),S.href=S.format(),S}if(v.protocol&&v.protocol!==S.protocol){if(!y[v.protocol]){for(var L=Object.keys(v),U=0;U<L.length;U++){var ae=L[U];S[ae]=v[ae]}return S.href=S.format(),S}if(S.protocol=v.protocol,!v.host&&!c[v.protocol]){for(var be=(v.pathname||"").split("/");be.length&&!(v.host=be.shift()););v.host||(v.host=""),v.hostname||(v.hostname=""),be[0]!==""&&be.unshift(""),be.length<2&&be.unshift(""),S.pathname=be.join("/")}else S.pathname=v.pathname;if(S.search=v.search,S.query=v.query,S.host=v.host||"",S.auth=v.auth,S.hostname=v.hostname||v.host,S.port=v.port,S.pathname||S.search){var Q=S.pathname||"",K=S.search||"";S.path=Q+K}return S.slashes=S.slashes||v.slashes,S.href=S.format(),S}var re=S.pathname&&S.pathname.charAt(0)==="/",F=v.host||v.pathname&&v.pathname.charAt(0)==="/",Z=F||re||S.host&&v.pathname,C=Z,J=S.pathname&&S.pathname.split("/")||[],be=v.pathname&&v.pathname.split("/")||[],te=S.protocol&&!y[S.protocol];if(te&&(S.hostname="",S.port=null,S.host&&(J[0]===""?J[0]=S.host:J.unshift(S.host)),S.host="",v.protocol&&(v.hostname=null,v.port=null,v.host&&(be[0]===""?be[0]=v.host:be.unshift(v.host)),v.host=null),Z=Z&&(be[0]===""||J[0]==="")),F)S.host=v.host||v.host===""?v.host:S.host,S.hostname=v.hostname||v.hostname===""?v.hostname:S.hostname,S.search=v.search,S.query=v.query,J=be;else if(be.length)J||(J=[]),J.pop(),J=J.concat(be),S.search=v.search,S.query=v.query;else if(v.search!=null){if(te){S.host=J.shift(),S.hostname=S.host;var _e=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;_e&&(S.auth=_e.shift(),S.hostname=_e.shift(),S.host=S.hostname)}return S.search=v.search,S.query=v.query,(S.pathname!==null||S.search!==null)&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.href=S.format(),S}if(!J.length)return S.pathname=null,S.search?S.path="/"+S.search:S.path=null,S.href=S.format(),S;for(var H=J.slice(-1)[0],N=(S.host||v.host||J.length>1)&&(H==="."||H==="..")||H==="",ne=0,V=J.length;V>=0;V--)H=J[V],H==="."?J.splice(V,1):H===".."?(J.splice(V,1),ne++):ne&&(J.splice(V,1),ne--);if(!Z&&!C)for(;ne--;ne)J.unshift("..");Z&&J[0]!==""&&(!J[0]||J[0].charAt(0)!=="/")&&J.unshift(""),N&&J.join("/").substr(-1)!=="/"&&J.push("");var G=J[0]===""||J[0]&&J[0].charAt(0)==="/";if(te){S.hostname=G?"":J.length?J.shift():"",S.host=S.hostname;var _e=S.host&&S.host.indexOf("@")>0?S.host.split("@"):!1;_e&&(S.auth=_e.shift(),S.hostname=_e.shift(),S.host=S.hostname)}return Z=Z||S.host&&J.length,Z&&!G&&J.unshift(""),J.length>0?S.pathname=J.join("/"):(S.pathname=null,S.path=null),(S.pathname!==null||S.search!==null)&&(S.path=(S.pathname?S.pathname:"")+(S.search?S.search:"")),S.auth=v.auth||S.auth,S.slashes=S.slashes||v.slashes,S.href=S.format(),S},o.prototype.parseHost=function(){var v=this.host,I=l.exec(v);I&&(I=I[0],I!==":"&&(this.port=I.substr(1)),v=v.substr(0,v.length-I.length)),v&&(this.hostname=v)},Ht.parse=E,Ht.resolve=_,Ht.resolveObject=A,Ht.format=g,Ht.Url=o,Ht}function tf(r){if(typeof r=="string")r=new URL(r);else if(!(r instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(r.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Kn?Gp(r):Qp(r)}function Gp(r){let o=r.hostname,s=r.pathname;for(let l=0;l<s.length;l++)if(s[l]==="%"){let u=s.codePointAt(l+2)||32;if(s[l+1]==="2"&&u===102||s[l+1]==="5"&&u===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(s=s.replace(gf,"\\"),s=decodeURIComponent(s),o!=="")return`\\\\${o}${s}`;{let l=s.codePointAt(1)|32,u=s[2];if(l<pf||l>df||u!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return s.slice(1)}}function Qp(r){if(r.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let o=r.pathname;for(let s=0;s<o.length;s++)if(o[s]==="%"){let l=o.codePointAt(s+2)||32;if(o[s+1]==="2"&&l===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(o)}function rf(r){let o=ls.resolve(r),s=r.charCodeAt(r.length-1);(s===hf||Kn&&s===cf)&&o[o.length-1]!==ls.sep&&(o+="/");let l=new URL("file://");return o.includes("%")&&(o=o.replace(yf,"%25")),!Kn&&o.includes("\\")&&(o=o.replace(bf,"%5C")),o.includes(`
`)&&(o=o.replace(mf,"%0A")),o.includes("\r")&&(o=o.replace(vf,"%0D")),o.includes("	")&&(o=o.replace(_f,"%09")),l.pathname=o,l}var nf,Mn,us,jn,Nn,fs,Bn,cs,Un,hs,Ln,ps,Dn,ds,Fn,gs,Ht,ys,Ve,Xa,of,sf,af,lf,uf,ff,cf,hf,pf,df,Kn,gf,yf,bf,mf,vf,_f,Yp=nt(()=>{le(),fe(),ue(),pp(),Op(),Wp(),Xu(),nf=Object.freeze(Object.create(null)),Mn={},us=!1,jn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Nn={},fs=!1,Bn={},cs=!1,Un={},hs=!1,Ln={},ps=!1,Dn={},ds=!1,Fn={},gs=!1,Ht={},ys=!1,Ve=Hp(),Ve.parse,Ve.resolve,Ve.resolveObject,Ve.format,Ve.Url,Xa=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Ve.URL=typeof URL<"u"?URL:null,Ve.pathToFileURL=rf,Ve.fileURLToPath=tf,of=Ve.Url,sf=Ve.format,af=Ve.resolve,lf=Ve.resolveObject,uf=Ve.parse,ff=Ve.URL,cf=92,hf=47,pf=97,df=122,Kn=Xa==="win32",gf=/\//g,yf=/%/g,bf=/\\/g,mf=/\n/g,vf=/\r/g,_f=/\t/g}),Jp=de((r,o)=>{le(),fe(),ue(),o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),Ls=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0}),r.BufferedDuplex=void 0,r.writev=l;var o=br(),s=(Fe(),Ce(De));function l(e,n){let i=new Array(e.length);for(let t=0;t<e.length;t++)typeof e[t].chunk=="string"?i[t]=s.Buffer.from(e[t].chunk,"utf8"):i[t]=e[t].chunk;this._write(s.Buffer.concat(i),"binary",n)}var u=class extends o.Duplex{socket;proxy;isSocketOpen;writeQueue;constructor(e,n,i){super({objectMode:!0}),this.proxy=n,this.socket=i,this.writeQueue=[],e.objectMode||(this._writev=l.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",t=>{!this.destroyed&&this.readable&&this.push(t)})}_read(e){this.proxy.read(e)}_write(e,n,i){this.isSocketOpen?this.writeToProxy(e,n,i):this.writeQueue.push({chunk:e,encoding:n,cb:i})}_final(e){this.writeQueue=[],this.proxy.end(e)}_destroy(e,n){this.writeQueue=[],this.proxy.destroy(),n(e)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(e,n,i){this.proxy.write(e,n)===!1?this.proxy.once("drain",i):i()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:e,encoding:n,cb:i}=this.writeQueue.shift();this.writeToProxy(e,n,i)}}};r.BufferedDuplex=u}),pn=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(r,"__esModule",{value:!0}),r.streamBuilder=r.browserStreamBuilder=void 0;var s=(Fe(),Ce(De)),l=o(Jp()),u=o(Bt()),e=br(),n=o(ri()),i=Ls(),t=(0,u.default)("mqttjs:ws"),a=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function f(E,g){let _=`${E.protocol}://${E.hostname}:${E.port}${E.path}`;return typeof E.transformWsUrl=="function"&&(_=E.transformWsUrl(_,E,g)),_}function d(E){let g=E;return E.port||(E.protocol==="wss"?g.port=443:g.port=80),E.path||(g.path="/"),E.wsOptions||(g.wsOptions={}),!n.default&&!E.forceNativeWebSocket&&E.protocol==="wss"&&a.forEach(_=>{Object.prototype.hasOwnProperty.call(E,_)&&!Object.prototype.hasOwnProperty.call(E.wsOptions,_)&&(g.wsOptions[_]=E[_])}),g}function p(E){let g=d(E);if(g.hostname||(g.hostname=g.host),!g.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let _=new URL(document.URL);g.hostname=_.hostname,g.port||(g.port=Number(_.port))}return g.objectMode===void 0&&(g.objectMode=!(g.binary===!0||g.binary===void 0)),g}function b(E,g,_){t("createWebSocket"),t(`protocol: ${_.protocolId} ${_.protocolVersion}`);let A=_.protocolId==="MQIsdp"&&_.protocolVersion===3?"mqttv3.1":"mqtt";t(`creating new Websocket for url: ${g} and protocol: ${A}`);let v;return _.createWebsocket?v=_.createWebsocket(g,[A],_):v=new l.default(g,[A],_.wsOptions),v}function c(E,g){let _=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt",A=f(g,E),v;return g.createWebsocket?v=g.createWebsocket(A,[_],g):v=new WebSocket(A,[_]),v.binaryType="arraybuffer",v}var y=(E,g)=>{t("streamBuilder");let _=d(g);_.hostname=_.hostname||_.host||"localhost";let A=f(_,E),v=b(E,A,_),I=l.default.createWebSocketStream(v,_.wsOptions);return I.url=A,v.on("close",()=>{I.destroy()}),I};r.streamBuilder=y;var m=(E,g)=>{t("browserStreamBuilder");let _,A=p(g).browserBufferSize||1024*512,v=g.browserBufferTimeout||1e3,I=!g.objectMode,S=c(E,g),k=R(g,U,ae);g.objectMode||(k._writev=i.writev.bind(k)),k.on("close",()=>{S.close()});let P=typeof S.addEventListener<"u";S.readyState===S.OPEN?(_=k,_.socket=S):(_=new i.BufferedDuplex(g,k,S),P?S.addEventListener("open",B):S.onopen=B),P?(S.addEventListener("close",T),S.addEventListener("error",W),S.addEventListener("message",L)):(S.onclose=T,S.onerror=W,S.onmessage=L);function R(Q,K,re){let F=new e.Transform({objectMode:Q.objectMode});return F._write=K,F._flush=re,F}function B(){t("WebSocket onOpen"),_ instanceof i.BufferedDuplex&&_.socketReady()}function T(Q){t("WebSocket onClose",Q),_.end(),_.destroy()}function W(Q){t("WebSocket onError",Q);let K=new Error("WebSocket error");K.event=Q,_.destroy(K)}async function L(Q){if(!k||!k.readable||!k.writable)return;let{data:K}=Q;K instanceof ArrayBuffer?K=s.Buffer.from(K):K instanceof Blob?K=s.Buffer.from(await new Response(K).arrayBuffer()):K=s.Buffer.from(K,"utf8"),k.push(K)}function U(Q,K,re){if(S.bufferedAmount>A){setTimeout(U,v,Q,K,re);return}I&&typeof Q=="string"&&(Q=s.Buffer.from(Q,"utf8"));try{S.send(Q)}catch(F){return re(F)}re()}function ae(Q){S.close(),Q()}return _};r.browserStreamBuilder=m}),Ds={};Mr(Ds,{Server:()=>Ne,Socket:()=>Ne,Stream:()=>Ne,_createServerHandle:()=>Ne,_normalizeArgs:()=>Ne,_setSimultaneousAccepts:()=>Ne,connect:()=>Ne,createConnection:()=>Ne,createServer:()=>Ne,default:()=>wf,isIP:()=>Ne,isIPv4:()=>Ne,isIPv6:()=>Ne});function Ne(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var wf,Ef=nt(()=>{le(),fe(),ue(),wf={_createServerHandle:Ne,_normalizeArgs:Ne,_setSimultaneousAccepts:Ne,connect:Ne,createConnection:Ne,createServer:Ne,isIP:Ne,isIPv4:Ne,isIPv6:Ne,Server:Ne,Socket:Ne,Stream:Ne}}),Sf=de((r,o)=>{le(),fe(),ue(),o.exports={}}),Za=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(r,"__esModule",{value:!0});var s=o((Ef(),Ce(Ds))),l=o(Bt()),u=o(Sf()),e=(0,l.default)("mqttjs:tcp"),n=(i,t)=>{if(t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",t.socksProxy)return(0,u.default)(t.hostname,t.port,t.socksProxy,{timeout:t.socksTimeout});let{port:a,path:f}=t,d=t.hostname;return e("port %d and host %s",a,d),s.default.createConnection({port:a,host:d,path:f})};r.default=n}),Af={};Mr(Af,{default:()=>If});var If,Xp=nt(()=>{le(),fe(),ue(),If={}}),el=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(r,"__esModule",{value:!0});var s=(Xp(),Ce(Af)),l=o((Ef(),Ce(Ds))),u=o(Bt()),e=o(Sf()),n=(0,u.default)("mqttjs:tls");function i(a){let{host:f,port:d,socksProxy:p,...b}=a;if(p!==void 0){let c=(0,e.default)(f,d,p,{timeout:a.socksTimeout});return(0,s.connect)({...b,socket:c})}return(0,s.connect)(a)}var t=(a,f)=>{f.port=f.port||8883,f.host=f.hostname||f.host||"localhost",l.default.isIP(f.host)===0&&(f.servername=f.host),f.rejectUnauthorized=f.rejectUnauthorized!==!1,delete f.path,n("port %d host %s rejectUnauthorized %b",f.port,f.host,f.rejectUnauthorized);let d=i(f);d.on("secureConnect",()=>{f.rejectUnauthorized&&!d.authorized?d.emit("error",new Error("TLS not authorized")):d.removeListener("error",p)});function p(b){f.rejectUnauthorized&&a.emit("error",b),d.end()}return d.on("error",p),d};r.default=t}),tl=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=(Fe(),Ce(De)),s=br(),l=Ls(),u,e,n;function i(){let p=new s.Transform;return p._write=(b,c,y)=>{u.send({data:b.buffer,success(){y()},fail(m){y(new Error(m))}})},p._flush=b=>{u.close({success(){b()}})},p}function t(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function a(p,b){let c=p.protocol==="wxs"?"wss":"ws",y=`${c}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(y=`${c}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(y=p.transformWsUrl(y,p,b)),y}function f(){u.onOpen(()=>{n.socketReady()}),u.onMessage(p=>{let{data:b}=p;b instanceof ArrayBuffer?b=o.Buffer.from(b):b=o.Buffer.from(b,"utf8"),e.push(b)}),u.onClose(()=>{n.emit("close"),n.end(),n.destroy()}),u.onError(p=>{let b=new Error(p.errMsg);n.destroy(b)})}var d=(p,b)=>{if(b.hostname=b.hostname||b.host,!b.hostname)throw new Error("Could not determine host. Specify host manually.");let c=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";t(b);let y=a(b,p);u=wx.connectSocket({url:y,protocols:[c]}),e=i(),n=new l.BufferedDuplex(b,e,u),n._destroy=(E,g)=>{u.close({success(){g&&g(E)}})};let m=n.destroy;return n.destroy=(E,g)=>(n.destroy=m,setTimeout(()=>{u.close({fail(){n._destroy(E,g)}})},0),n),f(),n};r.default=d}),rl=de(r=>{le(),fe(),ue(),Object.defineProperty(r,"__esModule",{value:!0});var o=(Fe(),Ce(De)),s=br(),l=Ls(),u,e,n,i=!1;function t(){let b=new s.Transform;return b._write=(c,y,m)=>{u.sendSocketMessage({data:c.buffer,success(){m()},fail(){m(new Error)}})},b._flush=c=>{u.closeSocket({success(){c()}})},b}function a(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function f(b,c){let y=b.protocol==="alis"?"wss":"ws",m=`${y}://${b.hostname}${b.path}`;return b.port&&b.port!==80&&b.port!==443&&(m=`${y}://${b.hostname}:${b.port}${b.path}`),typeof b.transformWsUrl=="function"&&(m=b.transformWsUrl(m,b,c)),m}function d(){i||(i=!0,u.onSocketOpen(()=>{n.socketReady()}),u.onSocketMessage(b=>{if(typeof b.data=="string"){let c=o.Buffer.from(b.data,"base64");e.push(c)}else{let c=new FileReader;c.addEventListener("load",()=>{if(c.result instanceof ArrayBuffer){e.push(o.Buffer.from(c.result));return}e.push(o.Buffer.from(c.result,"utf-8"))}),c.readAsArrayBuffer(b.data)}}),u.onSocketClose(()=>{n.end(),n.destroy()}),u.onSocketError(b=>{n.destroy(b)}))}var p=(b,c)=>{if(c.hostname=c.hostname||c.host,!c.hostname)throw new Error("Could not determine host. Specify host manually.");let y=c.protocolId==="MQIsdp"&&c.protocolVersion===3?"mqttv3.1":"mqtt";a(c);let m=f(c,b);return u=c.my,u.connectSocket({url:m,protocols:y}),e=t(),n=new l.BufferedDuplex(c,e,u),d(),n};r.default=p}),Zp=de(r=>{le(),fe(),ue();var o=r&&r.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(r,"__esModule",{value:!0}),r.connectAsync=f;var s=o(Bt()),l=o((Yp(),Ce(Zu))),u=o(Oo()),e=o(ri());typeof je?.nextTick!="function"&&(je.nextTick=setImmediate);var n=(0,s.default)("mqttjs"),i=null;function t(d){let p;if(d.auth)if(p=d.auth.match(/^(.+):(.+)$/),p){let[,b,c]=p;d.username=b,d.password=c}else d.username=d.auth}function a(d,p){if(n("connecting to an MQTT broker..."),typeof d=="object"&&!p&&(p=d,d=""),p=p||{},d&&typeof d=="string"){let y=l.default.parse(d,!0),m={};if(y.port!=null&&(m.port=Number(y.port)),m.host=y.hostname,m.query=y.query,m.auth=y.auth,m.protocol=y.protocol,m.path=y.path,p={...m,...p},!p.protocol)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(p.unixSocket=p.unixSocket||p.protocol?.includes("+unix"),p.unixSocket?p.protocol=p.protocol.replace("+unix",""):!p.protocol?.startsWith("ws")&&!p.protocol?.startsWith("wx")&&delete p.path,t(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),e.default||p.unixSocket?p.socksProxy=void 0:p.socksProxy===void 0&&typeof je<"u"&&(p.socksProxy=je.env.MQTTJS_SOCKS_PROXY),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(i||(i={},!e.default&&!p.forceNativeWebSocket?(i.ws=pn().streamBuilder,i.wss=pn().streamBuilder,i.mqtt=Za().default,i.tcp=Za().default,i.ssl=el().default,i.tls=i.ssl,i.mqtts=el().default):(i.ws=pn().browserStreamBuilder,i.wss=pn().browserStreamBuilder,i.wx=tl().default,i.wxs=tl().default,i.ali=rl().default,i.alis=rl().default)),!i[p.protocol]){let y=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((m,E)=>y&&E%2===0?!1:typeof i[m]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function b(y){return p.servers&&((!y._reconnectCount||y._reconnectCount===p.servers.length)&&(y._reconnectCount=0),p.host=p.servers[y._reconnectCount].host,p.port=p.servers[y._reconnectCount].port,p.protocol=p.servers[y._reconnectCount].protocol?p.servers[y._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,y._reconnectCount++),n("calling streambuilder for",p.protocol),i[p.protocol](y,p)}let c=new u.default(b,p);return c.on("error",()=>{}),c}function f(d,p,b=!0){return new Promise((c,y)=>{let m=a(d,p),E={connect:_=>{g(),c(m)},end:()=>{g(),c(m)},error:_=>{g(),m.end(),y(_)}};b===!1&&(E.close=()=>{E.error(new Error("Couldn't connect to server"))});function g(){Object.keys(E).forEach(_=>{m.off(_,E[_])})}Object.keys(E).forEach(_=>{m.on(_,E[_])})})}r.default=a}),nl=de(r=>{le(),fe(),ue();var o=r&&r.__createBinding||(Object.create?function(b,c,y,m){m===void 0&&(m=y);var E=Object.getOwnPropertyDescriptor(c,y);(!E||("get"in E?!c.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return c[y]}}),Object.defineProperty(b,m,E)}:function(b,c,y,m){m===void 0&&(m=y),b[m]=c[y]}),s=r&&r.__setModuleDefault||(Object.create?function(b,c){Object.defineProperty(b,"default",{enumerable:!0,value:c})}:function(b,c){b.default=c}),l=r&&r.__importStar||(function(){var b=function(c){return b=Object.getOwnPropertyNames||function(y){var m=[];for(var E in y)Object.prototype.hasOwnProperty.call(y,E)&&(m[m.length]=E);return m},b(c)};return function(c){if(c&&c.__esModule)return c;var y={};if(c!=null)for(var m=b(c),E=0;E<m.length;E++)m[E]!=="default"&&o(y,c,m[E]);return s(y,c),y}})(),u=r&&r.__exportStar||function(b,c){for(var y in b)y!=="default"&&!Object.prototype.hasOwnProperty.call(c,y)&&o(c,b,y)},e=r&&r.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(r,"__esModule",{value:!0}),r.ReasonCodes=r.KeepaliveManager=r.UniqueMessageIdProvider=r.DefaultMessageIdProvider=r.Store=r.MqttClient=r.connectAsync=r.connect=r.Client=void 0;var n=e(Oo());r.MqttClient=n.default;var i=e(Fu());r.DefaultMessageIdProvider=i.default;var t=e(cp());r.UniqueMessageIdProvider=t.default;var a=e(Su());r.Store=a.default;var f=l(Zp());r.connect=f.default,Object.defineProperty(r,"connectAsync",{enumerable:!0,get:function(){return f.connectAsync}});var d=e(Hu());r.KeepaliveManager=d.default,r.Client=n.default,u(Oo(),r),u(Nr(),r);var p=ei();Object.defineProperty(r,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),ed=de(r=>{le(),fe(),ue();var o=r&&r.__createBinding||(Object.create?function(n,i,t,a){a===void 0&&(a=t);var f=Object.getOwnPropertyDescriptor(i,t);(!f||("get"in f?!i.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return i[t]}}),Object.defineProperty(n,a,f)}:function(n,i,t,a){a===void 0&&(a=t),n[a]=i[t]}),s=r&&r.__setModuleDefault||(Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i}),l=r&&r.__importStar||(function(){var n=function(i){return n=Object.getOwnPropertyNames||function(t){var a=[];for(var f in t)Object.prototype.hasOwnProperty.call(t,f)&&(a[a.length]=f);return a},n(i)};return function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var a=n(i),f=0;f<a.length;f++)a[f]!=="default"&&o(t,i,a[f]);return s(t,i),t}})(),u=r&&r.__exportStar||function(n,i){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(i,t)&&o(i,n,t)};Object.defineProperty(r,"__esModule",{value:!0});var e=l(nl());r.default=e,u(nl(),r)});const td=ed();/*! Bundled license information:

@jspm/core/nodelibs/browser/chunk-DtuTasat.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@babel/runtime/helpers/regenerator.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE *)
*/var rd=on('<div class="popup svelte-1o5y2lx"><button class="close-button svelte-1o5y2lx">x</button> <!></div>');function nd(r,o){let s=Hl(o,"show",3,!1);var l=Mc(),u=kl(l);{var e=n=>{var i=rd(),t=Gt(i);t.__click=function(...f){o.close?.apply(this,f)};var a=St(t,2);qc(a,()=>o.children),Tr(n,i)};Uc(u,n=>{s()&&n(e)})}Tr(r,l)}$l(["click"]);var id=on("<li> </li>"),od=on('<h4> </h4> <input type="text" placeholder="Enter item..."/> <button>Order</button>',1),sd=on('<main><div class="table svelte-1v3p82v"><h3> </h3> <ul class="food-list svelte-1v3p82v"></ul> <button>Order</button></div> <!></main>');function dn(r,o){cl(o,!0);let s=Hl(o,"tableNum",3,0),l=ut(""),u,e=ut("Connecting...");Gl(()=>{u=td.connect("ws://broker.emqx.io:8083/mqtt"),u.on("connect",()=>{st(e,"Connected"),u.subscribe("osensa/foodServer"),console.log(`Table ${s()} connected.`)}),u.on("message",(A,v)=>{const I=v.toString(),S=JSON.parse(I);S.table==s()&&(t(S.food),console.log(`Table ${s()} was served food.`))}),u.on("error",()=>{st(e,"Error"),console.log(`Table ${s()} experienced a connection error.`)})}),Vc(()=>{u&&(u.end(),console.log(`Table ${s()} disconnected.`))});const n=()=>{const _=Je(l).trim();if(_==="")return;const A=JSON.stringify({table:s(),food:_});u.publish("osensa/foodOrder",A)};let i=ut(Ir([]));function t(_){_.trim()&&st(i,[...Je(i),_],!0)}let a=ut(!1);const f=()=>st(a,!0),d=()=>st(a,!1);var p=sd(),b=Gt(p),c=Gt(b),y=Gt(c),m=St(c,2);Fc(m,21,()=>Je(i),Lc,(_,A)=>{var v=id(),I=Gt(v);ii(()=>oi(I,Je(A))),Tr(_,v)});var E=St(m,2);E.__click=f;var g=St(b,2);nd(g,{get show(){return Je(a)},close:d,children:(_,A)=>{var v=od(),I=kl(v),S=Gt(I),k=St(I,2),P=St(k,2);P.__click=n,ii(()=>oi(S,`Ordering for table ${s()??""}`)),$c(k,()=>Je(l),R=>st(l,R)),Tr(_,v)},$$slots:{default:!0}}),ii(()=>oi(y,`Table ${s()??""}`)),Tr(r,p),hl()}$l(["click"]);var ad=on('<main><h1>Osensa Technical Assessment</h1> <div class="table-grid svelte-1n46o8q"><!> <!> <!> <!></div></main>');function ld(r){var o=ad(),s=St(Gt(o),2),l=Gt(s);dn(l,{tableNum:1});var u=St(l,2);dn(u,{tableNum:2});var e=St(u,2);dn(e,{tableNum:3});var n=St(e,2);dn(n,{tableNum:4}),Tr(r,o)}jc(ld,{target:document.getElementById("app")});
